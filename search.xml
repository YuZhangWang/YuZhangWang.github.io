<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>/001-obsidian-template/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>高铁站的家乡味道</title>
    <url>/003-Ding-Lianfang/</url>
    <content><![CDATA[<p>大概有三四年没吃丁莲芳了，没想到在高铁站吃到了这道美味，空空的胃得到了满足</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826213559.jpeg" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826213613.jpeg" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826213624.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>烹调之道</category>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>丁莲芳</tag>
        <tag>千张</tag>
        <tag>高铁</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS微体验</title>
    <url>/002-iPhone6plus/</url>
    <content><![CDATA[<p>iPhone6plus，A8处理器，64G，系统为iOS12.1.3<br>作为一个安卓用户，来到了iOS端进行操作，首先想到的是越狱刷机，但是现在的越狱只支持iOS11及以下的系统，并不支持iOS12，并且iOS12已经开启了防回滚模式，也就意味着不能回滚到iOS11进行越狱，不过还是可以在iOS12测试版和稳定版的固件之间进行刷机。<br>所以在这几天的体验中有了以下几点<br>1.将iOS12.1.3刷成了iOS12.1.1<br>2.下载了许多日常的软件，有通过苹果官方商店下载，也有通过爱思助手下载，下载软件的过程中手机会变得非常卡，我相信是由于A8处理器的缘故，不过在下载完之后，软件使用上来说没有太多的卡顿，但是过渡动画会比较长，我相信这也是A8处理器的缘故<br>3.前面说到作为一个安卓用户，在体验iOS端的时候，带给我的流畅性确实是一种日常的享受，不过安卓端带给我更多的是一种高效性以及逐步完善的流畅的体验，且不说安卓9.0的横空出世带来的过度动画以及流畅度，使得一大批早年间的旗舰例如835的旗舰恢生机复了以往的，以及达到了像iOS端那样样的流畅度，如今的安卓8.0以及安卓8.1也接近于iOS端的用户体验<br>4.让我比较意外的是，在iOS端不能实时显示网速，不过却可以通过一个软件来实现，它的名字是N Stats，安装这个软件在负一屏添加，便可以查看手机的内存，以及实时的上传下载速度。此外还有一款神器，它的前身叫workflow，后来它被苹果公司收购，变成了一款叫捷径的软件，这款软件类似于一步到位，将你需要经过多部操作的诸多步骤集合在一个操作内，你只需点一下即可完成众多繁琐的操作，更为神奇的是它还与siri相结合，使得你在使用siri时便可直接使用捷径一步完成你之前要多步完成的事<br>5.这台手机使用的是A8处理器，流畅度方面，相比于如今的安卓旗舰还是有较大的差距的，相信在A11级A12处理器上的流畅度，是不逊于如今的任何旗舰的，如果条件允许，可能未来会购入a11或者22处理器的iOS端手机进行日常体验</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>iPhone6plus</tag>
        <tag>A8</tag>
      </tags>
  </entry>
  <entry>
    <title>除夕好!</title>
    <url>/004-new-year-eve/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826213844.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>过年</tag>
        <tag>比心</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS微体验之三</title>
    <url>/006-iPhone8/</url>
    <content><![CDATA[<p>iphone8，iOS12.1.4，64G，用了一天，有以下几个体验感受。首先说硬件层面上的进步，背面采用了玻璃后盖，使8的颜值大大提升，但正面6,7,8三代全部一样，不免丧失了新意。值得高兴的是，8用上了双扬声器，相较于7的单扬声器，音质方面有了很大提升，对于耳朵是一种莫大的享受。<br>其次，由于A11的加持，使得8变为名副其实的游戏机，类似NBA 2K19这类游戏玩起来也十分流畅。另外，iOS12上结合了捷径，使得整体体验有了质的提升。<br>最后，8的拍照相较于前代有了较大提升，但仍需改进，最后两张图为实拍图，可从图中看到暗光环境下iphone的拍照能力不是很强。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>iphone8</tag>
        <tag>A11</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS微体验之二</title>
    <url>/005-iPhone7/</url>
    <content><![CDATA[<p>iphone7，A10处理器，iOS12.1.4，128G。<br>对比与iphone6，7在外观上改变的东西确实不多，让我详细道来，第一在后盖处，苹果公司将注塑天线的位置进行了移动，使iphone7外观拜托了三段式结构；第二，取消了3.5mm耳机接口，这是提升手机空间使用效率的必要一步；第三，7将原本6的平摄像头改为了凸摄像头，这点也可通过带壳解决。在使用体验上面来说，A10处理器相比A8来说是一个阶梯式的跨越，目前大部分软件都能在7上流畅运行，而在6上就会显得捉襟见肘了。另一个使人舒适的点是7指纹上的震动模块所带来的反馈十分真实，就我的主力机魅族16来说，两者震动触感不相上下，但7是5年前的手机，所以可想而知，在那时，7的震感能够带来多大惊喜！<br>7相当是对6系列的一次常规升级，本质上还未给我带来质的飞跃，相信在搭载A11，A12处理器的iphone上会有本质的体验。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>iphone7</tag>
        <tag>A10</tag>
      </tags>
  </entry>
  <entry>
    <title>一加6上手体验</title>
    <url>/007-oneplus6/</url>
    <content><![CDATA[<p>一加6，处理器为骁龙845，系统为安卓9.0，氢OS9.0.2，首先，整机外观非常一体化，握在手里感觉非常舒适，重量适中，适合游戏玩家长时间握持，手机背部的玻璃面板手感非常棒。正面采用了刘海设计，不过可以将刘海进行隐藏，屏幕素质属于中等偏上水平。游戏体验方面吃鸡60帧并不是问题，在拍照上，一加的相机也有所提升。较为可惜的一点是，一加6还是采用了单扬声器设计，但保留了3.5毫米耳机接口，这点给好评。总的来说相较于上一代一加5，有了明显的提升，同时也将一加品牌，全面的带入了全面屏时代。是一款同时兼顾了续航与性能的手机，日常体验完全没有任何问题，对刘海屏不介意的同学，可以试着入手。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>845</tag>
        <tag>OnePlus</tag>
      </tags>
  </entry>
  <entry>
    <title>致五四</title>
    <url>/009-may-4th/</url>
    <content><![CDATA[<p>愿中国青年都摆脱冷气，只是向上走，不必听自暴自弃者流的话。<br>能做事的做事，能发声的发声。有一分热，发一分光。就令萤火一般，也可以在黑暗里发一点光，不必等候炬火。<br>如若今后没有炬火，你便是唯一的光。           ——鲁迅</p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>炬火</tag>
      </tags>
  </entry>
  <entry>
    <title>坚果pro2返回魔趣8.1</title>
    <url>/010-nuts-pro2/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214934.jpeg" alt=""><br>9.0的魔趣很好用，但只能通过太极阳使用XP，这使得一部分功能无法完美使用，8.1可以完美兼容</p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>刷机</tag>
      </tags>
  </entry>
  <entry>
    <title>乘凉猫猫</title>
    <url>/008-cool-cat/</url>
    <content><![CDATA[<p>一只神奇的猫，嘴巴上有一圈白毛<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214735.jpeg" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214752.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>黑猫</tag>
        <tag>白毛</tag>
      </tags>
  </entry>
  <entry>
    <title>折腾windows</title>
    <url>/012-windows/</url>
    <content><![CDATA[<p>软件层面进行了一些升级工作，将教育版改为专业版，升级版本为1903；使用VS编译VC，Java和python，减少软件数量；将音频剪辑与PDF阅读器换为Adobe软件；更换了左侧应用图标；例行升级了各类软件；添加bilibilifans实时监控窗口。舒服了！<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215354.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>VS2019</tag>
        <tag>Adobe</tag>
      </tags>
  </entry>
  <entry>
    <title>吸猫</title>
    <url>/011-Kittens/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215138.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>白猫</tag>
        <tag>小奶猫</tag>
      </tags>
  </entry>
  <entry>
    <title>在路上ing</title>
    <url>/013-on-the-way/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215616.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>在路上</tag>
      </tags>
  </entry>
  <entry>
    <title>年轻人的第一块树莓派</title>
    <url>/014-raspberry-pie/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215739.jpeg" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215750.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>树莓派</tag>
      </tags>
  </entry>
  <entry>
    <title>你好,一加7pro</title>
    <url>/015-oneplus7pro/</url>
    <content><![CDATA[<p>屏幕，这个词在2017年9月13日开始，成为了我这三年中天天遇到的问题。<br>2017年9月13日，iphonex发布了，它打开了一个异形屏的新时代。<br>2018年6月12日和2018年6月19日，vivinex和oppofindx打开了真·全面屏的大门<br>2018年8月8日，魅族16p的发布，成为了我最好的生日礼物。它在异形屏的时代坚持住了自己。<br>2019年5月16日，一加7pro发布了，它开始了90hz屏幕的新时代。<br>作为加油和煤油，从魅族过渡到一加没有丝毫违和感，感觉一切都是那么理所应当，大大减少了我的学习成本。<br>外观方面，正面真全面屏+弹出式摄像头，背面竖排3摄+磨砂工艺玻璃处理，说它是2019年最好看的手机不为过。<br>屏幕方面，一块90hz刷新率的屏幕，日常使用让我体验到了丝滑般流畅，以至于当我再用魅族刷微博的时候，感到了满满的卡顿。一款2k级的三星屏幕，使得色彩更为细腻生动。<br>续航方面，2k+90hz一天使用下来戳戳有余，加上30w快充，让它在中午30分钟内就能迅速回血。<br>性能方面，一加对于处理器的调度一向鸡血，吃鸡一小时，全程帧率60帧稳定。<br>氢OS系统方面，这次氢OS已经使用上了非线性动画，时间上略早于mate30。并且一加简洁而非简单，高度自主定制的系统也让我感到很舒服。三指截屏，游戏模式，垃圾清理，支持内录手机声音的屏幕录制，游戏模式，图库自带对视频相册的强大编辑功能，shortcut，该有的功能一个不少，在简洁中讲功能做足。系统不带主题，全部交给用户自己选择，你想要什么主题，就有什么，启动器，图标全部按照自己喜欢来，高度定制让我很是欢喜。<br>一加7pro这次满足了我对手机的全部要求，如果要说点什么不好，那就是它的重量可能让许多女生无法接受吧。不过，对于我来说，这点重量完全不是什么事。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>OnePlus</tag>
        <tag>2K</tag>
        <tag>全屏</tag>
        <tag>一加7pro</tag>
        <tag>魅族16plus</tag>
      </tags>
  </entry>
  <entry>
    <title>Wakeup课表</title>
    <url>/016-schedule/</url>
    <content><![CDATA[<p>想起来我手机里有一款神级软件，必须要给你们安利一下。首先说明，这是一款课表软件，开发者是苏州大学学生，适用于Android端的软件，iOS端目前开发者正在制作，因此iOS用户也可关注一下，本文后面也会提到iOS的使用方法。软件名字叫wakeup课程表，在各大平台都可以下载得到。关于它的优点有如下几点：<br>1.它很美，如图一，为我做好的课表<br>2.没有广告，代码优化极其优秀，软件本身体积小。这几点相比于市面上的超级课程表，课程格子等同类软件来说，两者根本就不在一个层次了。<br>3.高度的自定义供给用户选择，你想要什么样的课表都可以自定义实现。<br>4.如果开发者适配了你学校的教务网，你可以直接通过教务网导入你的课程。如果没有适配，你可以直接添加你的课程，点击上方的加号，便可以添加课程了。<br>5.每学期上课周数，每天课程数，课表具体时间，课程格子高度、不透明度、颜色、文字大小全部可以根据实际情况自己定义。这个好处在于，每个人手机屏幕尺寸不一样，有的手机是16:9，有的手机是18:9，像超级课程表和课程格子此类软件，只会生硬的塞满你的屏幕，让你去适应它具有挑战性的审美。而wakeup，可以根据自身实际情况调整你的课表相关参数，使得它课表真正的掌握在你手上，让你成为手机的主人而不是奴隶。<br>6.这或许是它最强大的一点，它支持导出导入，比方说，我们一个班的同学都在用这款我推荐的软件，每个学期开始，我将我们班课表做好，通过导出分享到群里，班级同学再通过下载导入到他们手机上的wakeup里，再结合5.中提到的通过调整让我分享的文件也能适应他们的手机屏幕尺寸，这样大大提高了效率。<br>7.最后，经管这款软件是Android用户的福利，但是iOS用户也是需要雨露均沾的，开发者为iOS用户准备了ICS格式的导出选择，这使得你可以将ICS通过windows的日历直接打开，同步到你的微软账号中，再在iOS的日历中添加微软账号同步，这样，你的课表就已经完美同步到你的iOS日历中了，目前来说，这是开发者为iOS用户留的一种方法了。不过，由于目前开发者正在开发iOS端wakeup，很快iOS用户也能享受到这款软件的强大便利。<br>结语，我很少去评价一款软件，因为大部分软件都充斥着大量的广告，冗余的代码，糟糕的排版这一系列通病。但是，一年前，当我发现它时，它就像一股子清流一般醍醐灌顶。它界面的优美，代码的规范简洁，不断的优化，不断的调整算法，实现的功能之强大，是我手机里任何一款软件都无法与之相比较的。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>Wakeup</tag>
      </tags>
  </entry>
  <entry>
    <title>一叶知秋</title>
    <url>/017-one-falling-leaf/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220324.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>摄影记录</category>
        <category>植物欣赏</category>
      </categories>
      <tags>
        <tag>银杏</tag>
      </tags>
  </entry>
  <entry>
    <title>小黑猫</title>
    <url>/021-little-black-cat/</url>
    <content><![CDATA[<p>它又来了,飞天大盗,翻窗直入<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221057.jpeg" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221106.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
      </categories>
      <tags>
        <tag>黑猫</tag>
      </tags>
  </entry>
  <entry>
    <title>霸气外漏喵</title>
    <url>/018-bully-cat/</url>
    <content><![CDATA[<p>这猫太有气势了，我撸它，竟然被打了！还好打在衣服上，没被挠到<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220458.jpeg" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220527.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>豹纹</tag>
      </tags>
  </entry>
  <entry>
    <title>与QQ的斗智斗勇</title>
    <url>/022-fight-with-qq/</url>
    <content><![CDATA[<p>QQ这个老流氓让我见识到了它的厉害，最近一段时间，无论是QQ说说照片还是群相册传图片，都无法上传。在经历用QQ空间发说说暂时代替、使用TIM、删除Tentent文件夹、重装QQ等一系列步骤后。还是无果，导致我对手机产生了怀疑。最后还是在贴吧找到了解决方案。原因出自Android10底层的权限机制，默认将我用不到的电话权限拒绝了，本来是符合我意向的操作，用不到就禁用，但是QQ一旦缺少此权限，就会导致这个问题。不过从中也可以反映出，Android底层优化正在强大，而现在的问题出在软件本身的流氓操作上面。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>QQ</tag>
        <tag>流氓</tag>
        <tag>权限</tag>
      </tags>
  </entry>
  <entry>
    <title>打卡一加南京店</title>
    <url>/020-oneplus-nanjing-store/</url>
    <content><![CDATA[<p>一加南京店，给我的感觉就是精致和体贴的服务。在微博大佬处看到有网友投稿一加屏幕的一个问题，在解锁的时候会发出一些声音。正好我自己也有类似的问题存在，于是在昨天预约了一加的维修，对比之后，感觉一家的服务确实比其他厂家要体贴，来到了一家的店里之后，发现展示的只有7系列和7t系列，以及一加背包。在维修的时候可以坐在座位上看着激光电视，对于一个加油来说，这是非常体贴的服务，很人性化，如果给售后做一个评价的话，iphone和一加，是市面上主流厂家中排名较高规格的。很赞很舒服。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>OnePlus</tag>
        <tag>南京</tag>
      </tags>
  </entry>
  <entry>
    <title>2020/0202/2020</title>
    <url>/024-2020-0202-2020/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/20210826221616535.jpeg" alt="2020/0202/2020"></p>
]]></content>
      <categories>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>月亮</tag>
      </tags>
  </entry>
  <entry>
    <title>初入CV</title>
    <url>/019-opencv/</url>
    <content><![CDATA[<p>之前在win环境下成功实现了人脸识别系统，但是在树莓派上将这个程序实现起来就没有这么轻松了。</p>
<p>首先，树莓派属于arm架构的Linux，没有对应的pytorch安装，需要用到推理运行，此时就需要安装ncnn框架，调用ncnn的接口推理，在Tencent官方教程下，这个步骤并不难实现，虽然它的比重占99%，但是在100m运存的树莓派3b+编译只花了1-2个小时。<br>此外需要安装C++版的opencv来读取图片和保存图片，在这一步时，我先前安装了python版opencv，不过作者对于树莓派上运行的移植代码用的是C++来完成，就需要安装C++版的opencv。</p>
<p>由于树莓派提供的opencv版本太老，需要在github下载源码自行编译，加上编译过程涉及cmake编排make任务和使用g++编译c++源文件并生成可执行文件，目前我的功力还不够，于是作者亲自操刀，我陪着作者，两个人爆肝了两个晚上，将这个比重1%的部分完成了。</p>
<p>安装本身不是特别难，下载opencv，编译opencv，修改Cmakelists，cmake，make，运行可执行文件即可。但是由于依赖包的问题已经树莓派本身运存100m限制，才使得最后1%的内容花了两个晚上，编译时间长达4-5个小时才搭建成功。<br>最后的运行结果，识别单张图片，如果需要实现多张一起识别，写个循环即可。</p>
<p>总结：仰之弥高，程序在此时已经成功在win和树莓派环境下运行成功。树莓派下还需再进行改进。之后将会借助该程序进行python学习，g++以及cmake语法学习。</p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>CV学习笔记</category>
      </categories>
      <tags>
        <tag>树莓派</tag>
        <tag>arm</tag>
        <tag>cmake</tag>
        <tag>依赖包</tag>
      </tags>
  </entry>
  <entry>
    <title>斯通纳</title>
    <url>/023-stone/</url>
    <content><![CDATA[<p>名著散文诗词读的少，小说倒是会读一些，斯通纳五六年前读过，写得就像一杯水，写得很平淡，没有浓墨重彩的地方，全书都没有诗词散文里面深奥的道理，也没有名人传记里面让人惊叹的故事，就是很平凡的一个人，一生的故事，但就是能吸引我看下去，因为写的很真实，很现实。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221417.webp" alt="斯通纳"> ^249d70</p>
]]></content>
      <categories>
        <category>读书笔记</category>
      </categories>
      <tags>
        <tag>斯通纳</tag>
        <tag>普利策</tag>
      </tags>
  </entry>
  <entry>
    <title>纯个人果仁相册使用体验报告(对比画廊)</title>
    <url>/026-nut-album/</url>
    <content><![CDATA[<p>在没有发现这款软件之前，在我心目中，一直认为画廊(在酷安名为快图浏览)是Android阵营中最好用的相册软件，每次换手机，我都会放弃使用系统自带相册，使用画廊。但是自从我发现这款软件之后，我认为，它具有超越画廊，成为真正的No.1的强大潜力。<br>在使用一段时间之后，我对比画廊提出三个优点和三个缺点。</p>
<h1 id="第1个优点"><a href="#第1个优点" class="headerlink" title="第1个优点"></a>第1个优点</h1><p>颜色鲜明，软件设计富有质感</p>
<p>果仁相册配色在给出一些颜色后还支持自定义，而画廊只有给出的几种配色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/d06c70f04b77cc57f3ec1e790b1930b0" alt="左果仁相册 右画廊"></p>
<p>另外还加入了阴影，使缩略图富有质感<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/0b41df2110e10231ca308370500d1fcf" alt="左果仁相册 右画廊"></p>
<h1 id="第2个优点"><a href="#第2个优点" class="headerlink" title="第2个优点"></a>第2个优点</h1><p>相册文件夹支持自定义排序<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/956f18b410eb456afea482929b1046f2" alt="果仁相册"></p>
<p>但是画廊只有给定的几个排序方式</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/9959cd8ce8b56af44dbeae8460d2b569" alt="画廊"></p>
<h1 id="第3个优点"><a href="#第3个优点" class="headerlink" title="第3个优点"></a>第3个优点</h1><p>可以直接在缩略图中观看Gif动画<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/2d781c9f71528af473489874321de951" alt="果仁相册"></p>
<p>但是画廊在缩略图时却是静止的，需要点开才可以看</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/8238cdb55326351d6cc2e03d851c08f7" alt="画廊"></p>
<p>以上三个优点使我这个画廊老用户刷新了新的用户体验，尤其是第2和第3点，更是让相册体验上升了一个层次。不过优点的提出也伴随着缺点的产生，下面提出我使用后认为需要对软件进行调整的缺点。</p>
<h1 id="第1点缺点"><a href="#第1点缺点" class="headerlink" title="第1点缺点"></a>第1点缺点</h1><p>加载速度慢，不能立刻进行刷新<br>两个软件后台自启动都关闭情况下打开加载图片速度有明显区别</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/ea6bc7c942ef10c8bdff4011be900c59" alt="左画廊 右果仁相册"></p>
<p>画廊进入相册，退出再进入相册十分流畅<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/b299cd7cb6e4f3fb069dd358a074eb52" alt="画廊"></p>
<p>果仁相册进入相册，退出再进入相册，需要等待一段时间的加载进入相册图片才加载全。或者直接进入相册，等待一段时间加载图片。我认为应该是图片读取扫描那一块代码需要优化，现在软件在打开和进入相册都存在读取扫描方面的问题。希望可以优化成画廊一样的流畅度。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/7ea97da5c4495cedcfa09ad9f891241a" alt="果仁相册"></p>
<h1 id="第2个缺点"><a href="#第2个缺点" class="headerlink" title="第2个缺点"></a>第2个缺点</h1><p>调用第三方软件进行图片编辑繁琐<br>在画廊里面，对图片的编辑，可以调用系统自带的图库编辑，可以调用美图秀秀、PicaArt等安装的图片编辑软件，因此画廊在图片编辑方面对机型兼容性较好。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/c2feb365ccecce08972e6945c273f363" alt="画廊"></p>
<p>在果仁相册里，实现方式大同小异，但是点击完编辑后会有仅此一次和始终的选项，想象一下，每次进行编辑，需要多进行一次仅此一次的点击，而我正好需要对多张图片进行同样的操作，会不会显得比较麻烦。万一错点了始终，还需要先消除默认选项，在点仅此一次。当然我也可以在图片编辑软件里直接调用图片。只不过画廊给了我更好的交互体验，所以不免会有所吹毛求疵罢了。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/e0b7a33b4e556fd84fac1df3078ac22e" alt="果仁相册"></p>
<h1 id="第3个缺点"><a href="#第3个缺点" class="headerlink" title="第3个缺点"></a>第3个缺点</h1><p>没有自带视频播放功能<br>画廊自带了视频播放功能，打开速度很快，并且支持手势快进后退。而不是只能拖动进度条快进后退。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/7eae304e4fd65e775c6f3ae9b2e6c9e9" alt="画廊"></p>
<p>但是果仁相册没有自带视频播放功能，只是调用系统自带或者画廊自带的视频播放功能。另外多说一句，一加自带的图库视频播放，没有手势快进后退，只有通过生硬地拖动进度条来实现。希望作者在考虑加入视频播放功能的时候，以手势快进后退为主要目标。</p>
<p>总之，这是一款潜力强大的软件，这和开发者本身强劲的实力以及用户及时反馈、真实反馈离不开关系。希望作者通过这次我的使用报告，能够更好的改进果仁相册的使用体验，让果仁相册成为Android第一相册应用。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>果仁相册</tag>
        <tag>画廊</tag>
        <tag>图库</tag>
        <tag>gif</tag>
      </tags>
  </entry>
  <entry>
    <title>开罗金字塔游戏</title>
    <url>/025-cairo-pyramid-games/</url>
    <content><![CDATA[<p>开罗游戏真是个打发时间的好去处<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221742.png" alt=""></p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>游戏体验</category>
      </categories>
      <tags>
        <tag>开罗游戏</tag>
        <tag>GameGuardian</tag>
        <tag>VMOS Pro</tag>
      </tags>
  </entry>
  <entry>
    <title>炉石的同步策略</title>
    <url>/028-synchronization-strategy/</url>
    <content><![CDATA[<p>炉石在Android，PC，iPhone，iPad都共用一个服务器，数据都可以同步共享。暴雪这波操作简直把腾讯系游戏以及苹果官方的脸都吊起来打。而作为一个用户，真是拍手叫好。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222306.webp" alt=""></p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>游戏体验</category>
      </categories>
      <tags>
        <tag>炉石</tag>
        <tag>云同步</tag>
      </tags>
  </entry>
  <entry>
    <title>一加新功能</title>
    <url>/027-new-function/</url>
    <content><![CDATA[<p>一加在通讯录加入了类似Face Time的功能，一加手机之间可以通过Wifi、5G、4G进行聊天视频通话，界面的交互也和Face Time比较类似。使用下来，或可与Face Time相比，是一个很不错的功能</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>OnePlus</tag>
        <tag>通讯录</tag>
        <tag>FaceTime</tag>
      </tags>
  </entry>
  <entry>
    <title>Deepin初体验</title>
    <url>/030-deepin-experience/</url>
    <content><![CDATA[<p>在经过系统换源，安装常用软件，学习基本命令行，三大语言编译环境配置，增加一点窗口特效之后，Deepin终于整成和Win差不多的生产力工具了。不得不说，Python3.8环境真难装，花了三天都没琢磨明白，最后还是装一个Conda解决全部问题。<br>目前将这台Linux电脑作为网盘，远程服务器，代码调试工具。作为Debian分支的Linux操作系统，在一些程序调试方面确实比红帽分支的CentOS要解决更多依赖包问题。但是，Deepin好看，果然用个操作系统第一反应都要看颜值</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>DeepinV20</tag>
        <tag>CentOS</tag>
        <tag>Conda</tag>
        <tag>Debian</tag>
      </tags>
  </entry>
  <entry>
    <title>告别微软计划</title>
    <url>/029-farewell-microsoft/</url>
    <content><![CDATA[<p>1.彻底卸载VS2019</p>
<p>2.使用Clion写C/C++，好处是实时反馈BUG，JetBrain公司的插件在IDEA，Pycharm，Clion上都能通用。几种语言书写时都能享到同样的插件优化，体验很好。</p>
<p>3.照例升级三个IDE的版本至2020，插件也随之升级一波</p>
<p>4.整理一波桌面</p>
<p>5.将DeepinV20和黑苹果使用列入计划，尝试用Linux的DeepinV20或者类Linux的MacOS来进行代码书写</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>VS2019</tag>
        <tag>DeepinV20</tag>
        <tag>Clion</tag>
        <tag>Pycharm</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title>人脸识别程序在树莓派环境下使用方法(Linux环境使用教程)</title>
    <url>/031-ncnn/</url>
    <content><![CDATA[<h1 id="一、安装ncnn神经计算框架"><a href="#一、安装ncnn神经计算框架" class="headerlink" title="一、安装ncnn神经计算框架"></a>一、安装ncnn神经计算框架</h1><ol>
<li><p>安装g++<br>运行<code>sudo apt-get install g++</code></p>
</li>
<li><p>安装cmake<br>运行<code>sudo apt-get install cmake</code></p>
</li>
<li><p>安装protobuf<br>运行 <code>sudo apt-get install libprotobuf-dev protobuf-compiler</code></p>
<p>以下为安装效果图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%871.png" alt=""></p>
</li>
</ol>
<ol>
<li><p>下载源文件<br>运行 <code>git clone --recursive --depth=1 https://github.com/Tencent/ncnn</code></p>
</li>
<li><p>进入ncnn文件夹<br>运行 <code>cd ncnn</code></p>
</li>
<li><p>创建biuld文件夹<br>运行 <code>mkdir -p build</code></p>
</li>
<li><p>进入build文件夹<br>运行 <code>cd build</code></p>
</li>
<li><p>进行预编译<br>运行 <code>cmake -DCMAKE_TOOLCHAIN_FILE=../toolchains/pi3.toolchain.cmake -DPI3=ON ..</code></p>
</li>
<li><p>进行编译<br>这个过程会持续1-2小时<br>运行 <code>make -j4</code></p>
</li>
<li><p>安装<br>运行 <code>make install</code></p>
</li>
</ol>
<p>以下为安装效果图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%872.png" alt=""></p>
<h1 id="二、解决opencv安装遇到的依赖包问题"><a href="#二、解决opencv安装遇到的依赖包问题" class="headerlink" title="二、解决opencv安装遇到的依赖包问题"></a>二、解决opencv安装遇到的依赖包问题</h1><ol>
<li><p>关闭第上一步骤的终端，新开一个终端</p>
</li>
<li><p>安装依赖包libgtk2.0-dev<br>运行 <code>sudo aptitude install libgtk2.0-dev</code></p>
</li>
<li><p>安装依赖包build-essential<br>运行 <code>sudo aptitude install build-essential</code></p>
</li>
<li><p>安装依赖包libjasper-dev<br>运行 <code>sudo aptitude install libjasper-dev</code></p>
</li>
<li><p>安装依赖包libswscale-dev<br>运行 <code>sudo aptitude install libswscale-dev</code></p>
</li>
<li><p>安装依赖包libavcodec-dev<br>运行 <code>sudo aptitude install libavcodec-dev</code></p>
</li>
<li><p>安装依赖包libavformat-dev<br>运行<code>sudo aptitude install libavformat-dev</code></p>
</li>
<li><p>安装依赖包libjpeg.dev<br>运行<code>sudo apt-get install libjpeg.dev</code></p>
</li>
<li><p>安装依赖包libtiff4.dev<br>运行<code>sudo apt-get install libtiff4.dev</code></p>
</li>
<li><p>检查依赖包是否安装成功<br>运行<code>sudo apt-get install build-essential libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg.dev libtiff4.dev libswscale-dev libjasper-dev</code></p>
</li>
</ol>
<p>以下为安装效果图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%873.png" alt=""></p>
<h1 id="三、安装opencv计算机视觉库"><a href="#三、安装opencv计算机视觉库" class="headerlink" title="三、安装opencv计算机视觉库"></a>三、安装opencv计算机视觉库</h1><ol>
<li><p>新开一个终端</p>
</li>
<li><p>下载源文件<br>运行<code>git clone --recursive --depth=1 https://github.com/opencv/opencv</code></p>
</li>
<li><p>进入opencv-3.4.2文件夹<br>运行<code>cd opencv-3.4.2</code></p>
</li>
<li><p>创建build文件夹<br>运行<code>mkdir build</code></p>
</li>
<li><p>进入build文件夹<br>运行 <code>cd build</code></p>
</li>
<li><p>进行预编译<br>运行<code>cmake .. -D CMAKE_BUILD_TYPE=RELEASE -D ENABLE_PRECOMPILED_HEADERS=OFF</code></p>
</li>
<li><p>进行编译<br>大概花费1-2小时<br>运行<code>sudo make -j3</code></p>
</li>
<li><p>安装<br>运行<code>make install</code></p>
</li>
</ol>
<p>以下为安装效果图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%874.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%875.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%876.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%877.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%878.png" alt=""></p>
<h1 id="四、安装并运行Ultra-Light-Fast-Generic-Face-Detector-1MB轻量级人脸检测模型"><a href="#四、安装并运行Ultra-Light-Fast-Generic-Face-Detector-1MB轻量级人脸检测模型" class="headerlink" title="四、安装并运行Ultra-Light-Fast-Generic-Face-Detector-1MB轻量级人脸检测模型"></a>四、安装并运行Ultra-Light-Fast-Generic-Face-Detector-1MB轻量级人脸检测模型</h1><ol>
<li><p>新开一个终端</p>
</li>
<li><p>下载源文件<br>运行<code>git clone --recursive --depth=1 https://github.com/Linzaer/Ultra-Light-Fast-Generic-Face-Detector-1MB</code></p>
</li>
<li><p>进入ncnn文件夹<br>运行<code>cd Ultra-Light-Fast-Generic-Face-Detector-1MB/ncnn</code></p>
</li>
<li><p>创建build文件夹<br>运行<code>mkdir build</code></p>
</li>
<li><p>进入build文件夹<br>运行<code>cd build</code></p>
</li>
<li><p>进行预编译<br>运行<code>cmake -DCMAKE_TOOLCHAIN_FILE=../toolchains/pi3.toolchain.cmake -DPI3=ON ..</code></p>
</li>
<li><p>进行编译<br>大概花费1-2小时<br>运行<code>make -j4</code> </p>
</li>
<li><p>安装<br>运行<code>make install</code></p>
</li>
<li><p>进行人脸识别<br>运行<br><code>./main ../data/version-RFB/RFB-320.bin ../data/version-RFB/RFB-320.param ../data/test.jpg</code></p>
</li>
</ol>
<p>以下为安装及运行效果图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%879.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%8710.png" alt=""></p>
]]></content>
      <categories>
        <category>CV学习笔记</category>
        <category>项目展示</category>
      </categories>
      <tags>
        <tag>树莓派</tag>
        <tag>cmake</tag>
        <tag>g++</tag>
        <tag>ncnn</tag>
      </tags>
  </entry>
  <entry>
    <title>如何管理学习时间</title>
    <url>/032-manage-time/</url>
    <content><![CDATA[<h1 id="时间管理第一原则：效率"><a href="#时间管理第一原则：效率" class="headerlink" title="时间管理第一原则：效率"></a>时间管理第一原则：效率</h1><p>因为，当我跑去采访这些牛人的时候，他们不约而同地提到的“时间管理第一原则”是：效率。<br>在每天啃case的过程中，我也发现了这么一个简单的事实：同样长的case，我可以看上3小时，也可以40分钟-1小时看完，区别在于大脑的运转效率。<br>当大脑疲于工作的时候，对着case就开始犯困/发呆/走神，于是拖拖拉拉地看完，也不一定看进去了多少。<br>后来我学乖了，上完3节课回来，大脑已经累的不转了，干脆睡个半小时一小时的，起来又是一条好汉，看起case来哗哗的~算下来花的时间还是少的。</p>
<h2 id="1-维持能量"><a href="#1-维持能量" class="headerlink" title="1.维持能量"></a>1.维持能量</h2><p>觉当然是一定要好好睡的。白天连续工作太久，发现大脑效率下降的时候，不妨放松或者小憩一下充个电，往往效率曲线就又蹭的一下上去了。</p>
<h2 id="2-提高体力"><a href="#2-提高体力" class="headerlink" title="2.提高体力"></a>2.提高体力</h2><p>有没有发现动脑子的时候饿的快?说明脑力工作也是相当耗体力的。所以大脑与身体能持续高效工作多久，体力是基础。腾出时间，去健身房吧。这是对效率的投资，一定不亏本。</p>
<h2 id="3-集中精神"><a href="#3-集中精神" class="headerlink" title="3.集中精神"></a>3.集中精神</h2><p>大多数事情在集中精神的状态下都会完成的更快更好，所以尽量一次只做一件事情。抄抄写写这种不动脑子的不在此列。<br>为了让你的大脑保证只想一件事情，往往要能够把脑子清空——如果发现有些事情在脑子里转来转去，不妨干脆先写下来，然后分配一个另外的时间再去想。</p>
<h1 id="时间管理的第二原则：设置优先级"><a href="#时间管理的第二原则：设置优先级" class="headerlink" title="时间管理的第二原则：设置优先级"></a>时间管理的第二原则：设置优先级</h1><p>列了要做的/想要的list，下一步是排序。检验排序有效的标准：当出现冲突的时候，你能够干脆地放弃优先级低的。<br>比如：“对我来说，每天要睡8小时这件事情是第一优先级，绝对没有商量的余地。所以，party虽然不得不去，但一到12点我就会偷偷消失。第二天如果有人问我，怎么昨天party没看到你啊?我就会装傻说，“啊，真的么?我一定是错过你了吧!”——学生E的经验分享。<br>所以，关于优先级这一点，想说的是：比决定想要什么更难但也更重要的，也许是决定不要什么。<br>我是容易贪心的平凡人，常常觉这个也不能不做，那个也不舍得不要。观察身边的牛人，却发现很多我的第一反应会是“这怎么可以不做”的事情，他们却可以理直气壮地说，我不干。而这种放弃，是非常有策略性的。<br>同学Y，discussion group不去，大部分要求的case都不屑读。我并不认同这种做法，但慢慢发现人家不过是想学的东西跟学习的方法不一样。事实上，他会坚持在课后总结整理自己的收获与思考，还从学校图书馆拿了很多其他感兴趣的case和书，并认真地写读书笔记。<br>同学K，身为美女流行歌手的乐队鼓手，简直就是学校里的名人。可她偏偏几乎从不出席商学院的主流社交party与大型聚会活动。<br>她说，我就不喜欢跟一大群人去吵得要死说话也听不见的地方，特别浅薄，还不如省下来时间跟三两好友喝酒聊天。结果她依然是好友遍天下，第一次到土耳其也迅速找着了当地的音乐知己，聊天逛街抽水烟，不亦乐乎。<br>说到底，现在这个花花世界，填满生活还不容易，哪有那么多不能放弃的事情。</p>
<h1 id="时间管理的第三原则：提前计划"><a href="#时间管理的第三原则：提前计划" class="headerlink" title="时间管理的第三原则：提前计划"></a>时间管理的第三原则：提前计划</h1><p>说起来也不复杂，不过是每天、每周开始之前，拿出一点时间想想要干嘛。可是还是想不起来去做这件事情的。<br>所以我们说说不提前计划的坏处是什么吧。除了事情可能恰好堆到一起导致手忙脚乱以外，最典型的负面作用其实是：时间永远不知道花到哪里去了。很忙的过了一周觉得自己好像啥也没干。<br>原因是如果不很清晰地知道要做什么，就容易碰到什么是什么。于是哪件事情先找上来就处理了，反正一时也想不起来有什么更应该去做的事。然后过了一阵子发现几件重要的大事一件都没干。</p>
<p>我对付这个毛病的办法是，在提前计划的时候：<br>1.把大事分解成具体的任务<br>2.把Calendar（日程表）上用来做这件事情的时间锁定住。这样逼自己先把重要的事情的时间排出来，剩下的时间再处理其他事情。<br>反正时间长了就发现，其他事情真做不完也不会死。倒是重要的事情老拖着不做往往后果比较严重——重要的事情之所以“重要”，总是有道理的。</p>
<h1 id="时间管理的第四原则：获得成就感"><a href="#时间管理的第四原则：获得成就感" class="headerlink" title="时间管理的第四原则：获得成就感"></a>时间管理的第四原则：获得成就感</h1><p>最后想说一点，这些出色的时间管理者有个共同特点，就是都很喜欢to do list，享受从to do list上划掉一项的成就感。<br>这种对成就感的追求，本身也是他们去管理自己的时间的动力。但这未必是每个人喜欢的生活方式。<br>有些人从高效的生活中获得满足，也有些人从慢节奏随性的生活中获得满足。<br>如果你决定“发呆时间”、“看小说时间”、“看肥皂剧时间”对你来说很重要，我觉得一点问题都没有。只要你知道你的选择同时意味着放弃什么，并觉得值得就好。</p>
<p>这个人生选择话题就太大了，任谁都是一生的反复权衡与纠结，我们就不说了。😅<br>只是不管怎么样，以上说的这些小技巧应该都能对执行过程有所帮助。<br>最重要的是立刻开始去做，哪怕只是其中任何一点。应该都能帮助你在同样的24小时里收获更丰富和广阔以及不焦虑的人生吧!</p>
]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>效率</tag>
        <tag>时间管理</tag>
      </tags>
  </entry>
  <entry>
    <title>2019学年离散复习及押题</title>
    <url>/034-discrete-math/</url>
    <content><![CDATA[<p>离散复习及押题(综合12,13,14,17,18年题型)</p>
<h1 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a>第一部分</h1><h2 id="1、存在和任意"><a href="#1、存在和任意" class="headerlink" title="1、存在和任意"></a>1、存在和任意</h2><p>(1)一定与什么喜欢什么有关，注意区分存在和任意两种情况即可<br>(2)近两年与作家写作品有关，注意作品是属于存在还是任何情况</p>
<h2 id="2、推理证明"><a href="#2、推理证明" class="headerlink" title="2、推理证明"></a>2、推理证明</h2><p>一定考假设推理证明，最后两句话，由假设推理过程的定义知······<br>由推理定理可得代证公式</p>
<h2 id="3、近两年趋势趋向于函数化标准迭置"><a href="#3、近两年趋势趋向于函数化标准迭置" class="headerlink" title="3、近两年趋势趋向于函数化标准迭置"></a>3、近两年趋势趋向于函数化标准迭置</h2><h1 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a>第二部分</h1><h2 id="1、-集合"><a href="#1、-集合" class="headerlink" title="1、 集合"></a>1、 集合</h2><p> (1)必考写一个集合的子集<br> (2)笛卡尔积集，必考(1)中子集×另一个给出集合此类形式</p>
<h2 id="2、集合组合"><a href="#2、集合组合" class="headerlink" title="2、集合组合"></a>2、集合组合</h2><p>简单一点会考集合相关内容，差集并集交集定义；复杂一点会将群和集合放在一起考。<br>此题证明过程多用假设法证明</p>
<h2 id="3、偏序和等价"><a href="#3、偏序和等价" class="headerlink" title="3、偏序和等价"></a>3、偏序和等价</h2><p>此题近两年都考偏序关系的证明，注意区分偏序和等价，区别在于对称性和反对称性的证明方法</p>
<h3 id="4、构造关系"><a href="#4、构造关系" class="headerlink" title="4、构造关系"></a>4、构造关系</h3><p>此题必考构造关系(1)(2)中提到反自反性即为空集，提到自反性即为ΔA</p>
<h1 id="第三部分"><a href="#第三部分" class="headerlink" title="第三部分"></a>第三部分</h1><h2 id="1、-图"><a href="#1、-图" class="headerlink" title="1、 图"></a>1、 图</h2><p>(1)必考画欧拉图而非哈密尔顿图<br>均由下图变化而来<br>(2)必考画哈密尔顿图而非欧拉图<br>均由下图变化而来</p>
<h2 id="2、哈密尔顿圈题型"><a href="#2、哈密尔顿圈题型" class="headerlink" title="2、哈密尔顿圈题型"></a>2、哈密尔顿圈题型</h2><p>该题先用图论语言构造顶点集边集和图，再证明之<br>最后两句话，由哈密尔顿图的定义知，G中存在哈密尔顿圈<br>所以按哈密尔顿圈就坐就能使·····</p>
<h2 id="3、握手定理运用"><a href="#3、握手定理运用" class="headerlink" title="3、握手定理运用"></a>3、握手定理运用</h2><p>G中至少存在一个大于等于多少的顶点，用握手定理证明之即可</p>
<p><strong>2、3、两题考查内容顺序可能会交换，并不影响押题</strong></p>
<h2 id="4、握手定理，树的定义，二部图的定义类型证明题"><a href="#4、握手定理，树的定义，二部图的定义类型证明题" class="headerlink" title="4、握手定理，树的定义，二部图的定义类型证明题"></a>4、握手定理，树的定义，二部图的定义类型证明题</h2><p>搞懂三个概念即可解出。该题今年可能与欧拉公式以及平面图有关面个数r和边数m的关系公式相结合</p>
<h2 id="5、握手定理与简单平面图充分条件类型证明题"><a href="#5、握手定理与简单平面图充分条件类型证明题" class="headerlink" title="5、握手定理与简单平面图充分条件类型证明题"></a>5、握手定理与简单平面图充分条件类型证明题</h2><p>搞懂三个概念即可解出。该题今年可能与欧拉公式以及平面图有关面个数r和边数m的关系公式相结合</p>
<h1 id="第四部分"><a href="#第四部分" class="headerlink" title="第四部分"></a>第四部分</h1><h2 id="1、群"><a href="#1、群" class="headerlink" title="1、群"></a>1、群</h2><p>已知一群，证明另一群，四大点，闭运算，结合律，幺元，逆元，搞懂即可</p>
<h2 id="2、双射、同构映射"><a href="#2、双射、同构映射" class="headerlink" title="2、双射、同构映射"></a>2、双射、同构映射</h2><p>简单考证明双射，复杂考证明自同构映射</p>
<h2 id="3、大题"><a href="#3、大题" class="headerlink" title="3、大题"></a>3、大题</h2><p>已知一群，结合陪集或者集合有关概念证明另一群，预计19年题型与陪集或者正规子群有关</p>
]]></content>
      <categories>
        <category>考试资料</category>
      </categories>
      <tags>
        <tag>离散数学</tag>
      </tags>
  </entry>
  <entry>
    <title>后浪</title>
    <url>/033-backwave/</url>
    <content><![CDATA[<p>麻：“师爷，您给翻译翻译，什么叫后浪，翻译翻译，什么，叫后浪”</p>
<p>汤：“这还用翻译，年轻人嘛，新一代，都说了……”</p>
<p>麻：“我让你翻译给我听，什么叫后浪！”</p>
<p>汤：：“不用翻译，就是后浪啊，热爱生活嘛……”</p>
<p>黄：“难道你听不懂什么叫后浪？”</p>
<p>麻：“我就想让你翻译翻译，什么，叫后浪！！！”</p>
<p>汤：“后浪嘛！”</p>
<p>麻：“翻译出来给我听，什么TM的叫后浪！什么TM的叫TM的后浪！”</p>
<p>汤：“什么TM的叫后浪啊？”</p>
<p>黄：“后浪就是新一代青年，可以选择玩单反，开跑车，玩跳伞，在欧洲旅游拍vlog，明白了吗？”</p>
<p>汤：“这就是后浪呀！”</p>
<p>麻：“翻译翻译”</p>
<p>汤，黄：“…..？？？”</p>
<p>麻：“翻译翻译！”</p>
<p>汤：“后浪，就是前浪的儿子和女儿！”</p>
<p>麻：“噢，大哥这TM是后浪啊。”</p>
]]></content>
      <categories>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>翻译翻译</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux初体验</title>
    <url>/035-linux-experience/</url>
    <content><![CDATA[<p>在经过系统换源，安装常用软件，学习基本命令行，三大语言编译环境配置，增加一点窗口特效之后，Deepin终于整成和Win差不多的生产力工具了。不得不说，Python3.8环境真难装，花了三天都没琢磨明白，最后还是装一个Conda解决全部问题。</p>
<h1 id="C-C-环境配置"><a href="#C-C-环境配置" class="headerlink" title="C/C++环境配置"></a>C/C++环境配置</h1><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/psc.jpg" alt=""></p>
<h1 id="Java环境配置"><a href="#Java环境配置" class="headerlink" title="Java环境配置"></a>Java环境配置</h1><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/psc%20(1" alt="">.jpg)</p>
<h1 id="Python环境配置"><a href="#Python环境配置" class="headerlink" title="Python环境配置"></a>Python环境配置</h1><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/psc%20(2" alt="">.jpg)</p>
<p>目前将这台Linux电脑作为网盘，远程服务器，代码调试工具。作为Debian分支的Linux操作系统，在一些程序调试方面确实比红帽分支的CentOS要解决更多依赖包问题。但是，Deepin好看，果然用个操作系统第一反应都要看颜值<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/psc%20(3" alt="">.jpg)</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>Debian</tag>
        <tag>Deepin</tag>
      </tags>
  </entry>
  <entry>
    <title>iO流基本概念</title>
    <url>/036-io-flow/</url>
    <content><![CDATA[<p>1.从中央处理器流向外部设备的数据流称为输出流</p>
<p>2.程序读入字符文件时，能够以该文件作为直接参数的类是FileReader</p>
<p>3.java.io包的File类是字符流类</p>
<p>4.在Serializable接口中没有定义抽象方法，也没有定义常量</p>
<p>5.Java中用于创建文件对象的类是File</p>
<p>6.在键盘上输入一个字符串创建文件对象，isFile( )方法可以判断对象为目录文件还是数据文件</p>
<p>7.InputStream类不对接创建对象</p>
<p>8.从键盘上输入多个字符时，为了避免回车换行符的影响，需要使用skip( )流方法</p>
<p>9.以对象为单位，把某个对象写入文件，需要使用writeObject( )方法</p>
<p>10.ObjectOutputStream类的方法能够直接把简单数据类型写入文件</p>
<p>11.若一个类对象能被整体写入文件，则定义该类时必须实现Serializable接口</p>
<p>12.String类型的数据能够以对象的形式写入文件</p>
<p>13.File类的方法中，用于列举某目录下的子目录及文件的方法是String[] list( )</p>
<p>14.能够以字符串为单位写入文件数据的流类是BufferedWriter</p>
<p>15.能够向文件输入逻辑型数据的类是DataOutputStream</p>
<p>16.flush( )方法只对使用了缓冲的流类起作用</p>
<p>17.写出一段程序，要求创建BufferedReader类的对象in，以便读取本机C盘my文件夹下的文件1.txt<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:\\my\\1.txt&quot;</span>);</span><br><span class="line">file = <span class="keyword">new</span> <span class="title class_">FileReader</span>(f);</span><br><span class="line">in = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(file);</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>Java学习笔记</category>
      </categories>
      <tags>
        <tag>中央处理</tag>
        <tag>IO流</tag>
      </tags>
  </entry>
  <entry>
    <title>如何利用油猴脚本进行中国MOOC刷课</title>
    <url>/037-mooc-lessons/</url>
    <content><![CDATA[<h1 id="1-下载Google浏览器"><a href="#1-下载Google浏览器" class="headerlink" title="1.下载Google浏览器"></a>1.下载Google浏览器</h1><p><code>使用火狐浏览器、360浏览器也可以或者Microsoft Edge也可以，不过可以用Google浏览器还是建议首选它</code><br>我们需要使用的就是扩展程序这个功能，如下图所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_19-48-31.png" alt=""></p>
<p>这里我已经装了一些插件(没有插件的Google浏览器是没有灵魂的😛)<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_19-48-40.png" alt=""></p>
<h1 id="2-访问插件商店进行下载"><a href="#2-访问插件商店进行下载" class="headerlink" title="2.访问插件商店进行下载"></a>2.访问插件商店进行下载</h1><h2 id="前提准备"><a href="#前提准备" class="headerlink" title="前提准备"></a>前提准备</h2><p>这里可以使用谷歌访问助手插件(百度即可，有很多资源并附上使用方法)</p>
<p>或者如果有科学上网可以直接进行访问(科学上网方法自行解决)😊</p>
<h2 id="如何进入插件商店"><a href="#如何进入插件商店" class="headerlink" title="如何进入插件商店"></a>如何进入插件商店</h2><p>点击左上角之后会跳出如下页面，点击Chrome网上商店即可<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_19-54-24.png" alt=""></p>
<p><strong>下图为插件商店</strong><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_19-57-40.png" alt=""></p>
<h1 id="3-下载所需插件"><a href="#3-下载所需插件" class="headerlink" title="3.下载所需插件"></a>3.下载所需插件</h1><h2 id="tampermonkey-油猴脚本"><a href="#tampermonkey-油猴脚本" class="headerlink" title="tampermonkey(油猴脚本)"></a>tampermonkey(油猴脚本)</h2><p>在左上角搜索即可，弹出的第一个即为所需插件，根据指示一步步安装即可<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_20-07-18.png" alt=""></p>
<p>下载完成无需对该插件进行任何操作</p>
<h1 id="4-安装刷课脚本"><a href="#4-安装刷课脚本" class="headerlink" title="4.安装刷课脚本"></a>4.安装刷课脚本</h1><p>这里推荐<a href="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_20-10-18.png">Greasy Fork</a><br>搜索中国大学慕课等其他关键字，找到所需脚本，进行安装即可<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_20-10-18.png" alt=""></p>
<h2 id="推荐脚本"><a href="#推荐脚本" class="headerlink" title="推荐脚本"></a>推荐脚本</h2><p>推荐一个好用的脚本<a href="https://greasyfork.org/zh-CN/scripts/399230-%E4%B8%AD%E5%9B%BD%E5%A4%A7%E5%AD%A6%E6%85%95%E8%AF%BEmooc%E7%AD%94%E9%A2%98-%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE%E8%84%9A%E6%9C%AC-domooc">中国大学慕课mooc答题/自动播放脚本(domooc)</a></p>
<p>这个脚本可以实现一键自动刷课、自动答题和自动评论<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_20-12-31.png" alt=""></p>
<h1 id="5-设置刷课倍速"><a href="#5-设置刷课倍速" class="headerlink" title="5.设置刷课倍速"></a>5.设置刷课倍速</h1><p>在任意网课课件界面，右方会出现一个面板，点击更多，然后将加速倍速设置为16倍<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_20-26-18.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_22-43-20.png" alt=""></p>
<h1 id="6-进行愉快的刷课"><a href="#6-进行愉快的刷课" class="headerlink" title="6.进行愉快的刷课"></a>6.进行愉快的刷课</h1><p>点击开始刷课，脚本会自动开始刷课、看文档、完成小测验、完成作业、评论</p>
<p>之后静静等待课程刷完即可</p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>油猴脚本</tag>
        <tag>Chrome</tag>
        <tag>插件</tag>
      </tags>
  </entry>
  <entry>
    <title>第一个Android程序：HelloAndroid</title>
    <url>/039-first-android-program/</url>
    <content><![CDATA[<h1 id="1-下载开发工具"><a href="#1-下载开发工具" class="headerlink" title="1.下载开发工具"></a>1.下载开发工具</h1><p>有几个选项，Android Studio、IntelliJ IDEA、Eclipse<br>由于Android Studio是基于IntelliJ IDEA开发的，所以这里我使用IDEA来进行程序开发</p>
<h1 id="2-环境配置"><a href="#2-环境配置" class="headerlink" title="2.环境配置"></a>2.环境配置</h1><p>如果使用IDEA，那么恭喜你，在配置环境这一步你可以省去很多工夫了<br>在官网下载IDEA后安装，打开后首先创建一个Android开发项目<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-07-02.png" alt=""></p>
<p>如果创建不了，应该是缺少JDK，SDK等的一些开发工具包，根据IDEA跳出的提示进行下载即可</p>
<h1 id="3-Gradle"><a href="#3-Gradle" class="headerlink" title="3.Gradle"></a>3.Gradle</h1><p>这是我开始遇到的一个比较大的问题，IDEA报错如下<br><code>Could not initialize class org.codehaus.groovy.classgen.Verifier</code></p>
<p>这个问题的解决办法如下</p>
<h2 id="1-下载Gradle离线包"><a href="#1-下载Gradle离线包" class="headerlink" title="(1)下载Gradle离线包"></a>(1)下载Gradle离线包</h2><p><a href="https://gradle.org/install/">官网下载链接</a>，Gradle官网还是比较好的，将环境配置和检验环境是否配置成功的方法一同写了上去，按照教程操作即可</p>
<h2 id="2-调整设置"><a href="#2-调整设置" class="headerlink" title="(2)调整设置"></a>(2)调整设置</h2><p>依次打开File -&gt; Settings并导航至Gradle设置(Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle）<br>将Use Gradle from选项改为Specified location，此时后面会多出一个路径选项，IDEA应该会自动帮你确定位置，如果没有，手动选择Gradle路径即可，之后点击确定即可<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-21-21.png" alt=""></p>
<h2 id="3-导入依赖包"><a href="#3-导入依赖包" class="headerlink" title="(3)导入依赖包"></a>(3)导入依赖包</h2><p>然后就是最最最令人难受的一步，完成这一步，你需要掌握科学上网的方法，这个请自行解决<br>在(2)操作完成之后，IDEA下方会出现一些进程，这是因为Gradle在下载所需的依赖包，不科学上网的话等待时间会很长，这里我花费的时间是20多分钟，仅供参考<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_02-19-00(1" alt="">.png)</p>
<p>等待上述操作全部完成之后，右上方锤子按钮右边会出现一个APP选项，这说明我们可以进行调试运行了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-32-47.png" alt=""></p>
<h1 id="4-安卓手机模拟器"><a href="#4-安卓手机模拟器" class="headerlink" title="4.安卓手机模拟器"></a>4.安卓手机模拟器</h1><p>既然是Android程序，那肯定是要在Android手机上运行的，这里我采用安卓手机模拟器来运行Android软件，在APP按钮右边的选框是设备选择框，我们点击这个选框，并打开Open AVD Manager<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-35-44.png" alt=""></p>
<p>在弹出的界面里点击CREATE VIRTUAL DEVICES<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-37-18.png" alt=""></p>
<p>然后选择你喜欢的设备<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-41-10.png" alt=""></p>
<p>下载ROM包<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-39-05.png" alt=""></p>
<p>然后可能会有内存选项，下载之后IDEA会自动帮你配置完成<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-39-17.png" alt=""></p>
<p>之后点击完成即可</p>
<h1 id="5-运行"><a href="#5-运行" class="headerlink" title="5.运行"></a>5.运行</h1><p>在设备按钮右边的三角形是运行按钮，点击之后，会自动开启你选择的安卓模拟器，然后你的第一个程序就这么完成了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-32-47.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_02-28-11.png" alt=""></p>
]]></content>
      <categories>
        <category>Java学习笔记</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>IDEA</tag>
        <tag>Eclipse</tag>
        <tag>Gradle</tag>
      </tags>
  </entry>
  <entry>
    <title>Android软件应用名、显示文本和图标的修改</title>
    <url>/040-android-software-display/</url>
    <content><![CDATA[<p>这些操作都是在app这个文件夹下，具体路径为app-&gt;src-&gt;main-&gt;res<br><strong>app文件夹下存放的是所有的代码和资源</strong><br><strong>res文件夹下存放的是图片、布局、字符串等资源</strong><br><strong>draw开头文件夹存放的是图片</strong><br><strong>layout文件夹存放的是布局文件</strong><br><strong>mipmap开头文件夹存放的是图标内容，其中mipmap-xxhdpi是最主流的设备分辨率目录</strong></p>
<h1 id="1-应用名修改"><a href="#1-应用名修改" class="headerlink" title="1.应用名修改"></a>1.应用名修改</h1><p>应用名在res-&gt;valus下<br><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;string name=<span class="string">&quot;app_name&quot;</span>&gt;HelloAndroid&lt;/string&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure><br>HelloAndroid就是我们这个应用的名字了，我们可以直接进行修改<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-58-42.png" alt=""></p>
<p>例如修改为<code>张三</code><br><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;string name=<span class="string">&quot;app_name&quot;</span>&gt;张三&lt;/string&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure><br>我们可以看到，应用名发生了变化<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_16-05-15.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_16-05-20.png" alt=""></p>
<h1 id="2-显示文本修改"><a href="#2-显示文本修改" class="headerlink" title="2.显示文本修改"></a>2.显示文本修改</h1><p>显示文本属于布局文件，存放布局文件的路径为app-&gt;src-&gt;main-&gt;res-&gt;layout<br>打开layout下的activity_mian.xml，可以看到以下代码<br><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;HelloAndroid!&quot;</span></span><br><span class="line">        app:layout_constraintBottom_toBottomOf=<span class="string">&quot;parent&quot;</span></span><br><span class="line">        app:layout_constraintLeft_toLeftOf=<span class="string">&quot;parent&quot;</span></span><br><span class="line">        app:layout_constraintRight_toRightOf=<span class="string">&quot;parent&quot;</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">&quot;parent&quot;</span>/&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中<code>android:text=&quot;HelloAndroid!&quot;</code>就是显示文本的定义，我们可以进行修改，将需要显示的文本改为<code>每个人中心都有一个张三</code><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_16-13-52.png" alt=""></p>
<h1 id="3-图标修改"><a href="#3-图标修改" class="headerlink" title="3.图标修改"></a>3.图标修改</h1><p>将一张名为icon的图片移动到最主流的设备分辨率目录mipmap-xxhdpi下<br>对图标等应用是在app-&gt;src-&gt;main文件夹下的AndroidManifest.xml文件<br><strong>这里再提一下引用的用法</strong><br>在代码中引用图标可以用<code>R.mipmap.icon</code><br>在xml文件中引用图标可以用<code>@minmap/icon</code><br>在AndroidManifest.xml文件中我们可以找到以下代码<br><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">&lt;application</span><br><span class="line">            android:allowBackup=<span class="string">&quot;true&quot;</span></span><br><span class="line">            android:icon=<span class="string">&quot;@mipmap/ic_launcher&quot;</span></span><br><span class="line">            android:label=<span class="string">&quot;@string/app_name&quot;</span></span><br><span class="line">            android:roundIcon=<span class="string">&quot;@mipmap/ic_launcher_round&quot;</span></span><br><span class="line">            android:supportsRtl=<span class="string">&quot;true&quot;</span></span><br><span class="line">            android:theme=<span class="string">&quot;@style/AppTheme&quot;</span>&gt;</span><br><span class="line">        &lt;activity android:name=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">&quot;android.intent.action.MAIN&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">                &lt;category android:name=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span>/&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line">    &lt;/application&gt;</span><br></pre></td></tr></table></figure><br>其中<code>android:icon=&quot;@mipmap/ic_launcher&quot;</code>是对方图标进行修改，<code>android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;</code>是对圆图标进行修改</p>
<p>让我们修改为我们自定义的图标<br>将<code>android:icon=&quot;@mipmap/ic_launcher</code> 修改为<code>android:icon=&quot;@mipmap/icon</code><br>将<code>android:roundIcon=&quot;@mipmap/ic_launcher_round</code>修改为 <code>android:icon=&quot;@mipmap/icon</code></p>
<p>然后测试一下图标是否修改成功<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_16-32-11.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_16-32-17.png" alt=""></p>
]]></content>
      <categories>
        <category>Java学习笔记</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>在list中正序和倒序删除元素区别</title>
    <url>/038-order-in-list/</url>
    <content><![CDATA[<p>话说有下面这两段代码<br><strong>代码一</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> list.size() - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;java&quot;</span>.equals(list.get(i)))&#123;</span><br><span class="line">                list.remove(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p><strong>代码二</strong><br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; list.size() ; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;java&quot;</span>.equals(list.get(i)))&#123;</span><br><span class="line">                list.remove(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<p>请问哪一段代码可以将加入的“java”元素全部删除？</p>
<p>答案当然是代码一啦。什么？你不信？那就让我们从实际代码运行来看一下效果吧。</p>
<p>代码一测试代码和运行结果如下<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-13_14-33-41.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-13_14-33-52.png" alt=""></p>
<p>代码二测试代码和运行结果如下<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-13_14-35-47.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-13_14-35-52.png" alt=""></p>
<p>究其原因，为什么看上去可以实现一样功能的数组会导致结果不同？其实是因为你忽略了一个点，list中对元素进行删除添加操作之后，<code>list会产生动态变化</code>，删除一个元素，后面的元素会补全上面元素的位置。</p>
<p>让我们来分析一下代码二，<strong>代码二是正序删除</strong><br>当第一个“java”被移除之后，“aaa”位于第一的位置，第二个”java”位于第二的位置，第三个”java”位于第三的位置，”bbb”位于第四的位置。<br>然后下标+1，指向上一步操作排列好的第二个位置。于是，位于第二个位置的第二个“java”也能顺利删除，此时”aaa”仍旧在第一的位置，第三个”java”来到了第二的位置，”bbb”来到了第三的位置。<br>然后下标再+1，指向上一步操作排列好的第三个位置。但是注意此时，第三个位置是”bbb”，而我们本来想要继续删除的第三个”java”此时却在第二个位置。所以，代码二会导致漏删第三个”java”，致使程序块达不到想要的效果。</p>
<p><strong>代码一是倒序删除</strong>，每一个”java”删除之后，只对后面的元素产生影响，而后面的元素又都是经过删除操作，确保不存在”java”元素，因此，代码二的倒序删除法可以实现彻底删除所有”java”元素的操作。</p>
]]></content>
      <categories>
        <category>Java学习笔记</category>
      </categories>
      <tags>
        <tag>正序</tag>
        <tag>倒序</tag>
      </tags>
  </entry>
  <entry>
    <title>编程IDE的选择</title>
    <url>/041-selection-ide/</url>
    <content><![CDATA[<p>VScode一顿操作猛如虎，评论JetBrains真香<br>关于编译器选择，我确实也在考虑选择，一开始VC6.0用着都行，后来换了VS2019，觉得又强大又好用。再之后遇到JerBrains就圈粉入手全家桶了<br>除此之外，VScode确实也渐入我的视线，VSC优点为支持语言多，插件丰富，这一点总结为综合性强，兼容性高，就相当于各方面都不错的综合生。缺点也很明显，遇到大项目容易卡，一些操作，例如重构处理的就不是很好，综合为虽然各方面不错，但是和一般的编辑器拉开的差距比较小，和专门编写某一语言的IDE还是有些差距<br>官方对VScode其定义为编辑器，装上插件之后可以写一些中小型项目。对我来说，我会用VSC代替notepad++，平时写点小项目，研究下算法，不过更多情况下还是偏爱JetBrains全家桶，总体来说VSC还是很不错的，吊打自家VS2019</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>IDE</tag>
        <tag>VSCode</tag>
        <tag>JetBrains</tag>
      </tags>
  </entry>
  <entry>
    <title>路边小橘猫</title>
    <url>/042-orange-cat/</url>
    <content><![CDATA[<p>路边看到只猫就挪不动了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222836.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222846.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222900.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222910.webp" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>小黄猫</tag>
      </tags>
  </entry>
  <entry>
    <title>ARM架构</title>
    <url>/043-arm-architecture/</url>
    <content><![CDATA[<p>Mac转为arm架构，A12Z牛逼！</p>
<p>底层直接实现MacOS,iPhone,iPadOS软件互相使用！</p>
<p>Surface直接当场去世</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>MacOS</tag>
        <tag>ARM</tag>
        <tag>芯片</tag>
        <tag>iPhone</tag>
        <tag>iPadOS</tag>
      </tags>
  </entry>
  <entry>
    <title>尧新2考场科三考试流程</title>
    <url>/044-section3/</url>
    <content><![CDATA[<h2 id="一、灯光考试"><a href="#一、灯光考试" class="headerlink" title="一、灯光考试"></a>一、灯光考试</h2><h3 id="1-打开前照灯"><a href="#1-打开前照灯" class="headerlink" title="1.打开前照灯"></a>1.打开前照灯</h3><h3 id="2-交替使用远近光灯"><a href="#2-交替使用远近光灯" class="headerlink" title="2.交替使用远近光灯"></a>2.交替使用远近光灯</h3><ul>
<li>(1)夜间通过急弯</li>
<li>(2)夜间通过坡路</li>
<li>(3)夜间通过拱桥</li>
<li>(4)夜间通过人行横道</li>
<li>(5)夜间通过没有交通信号灯控制的路口</li>
<li>(6)夜间超车</li>
</ul>
<h3 id="3-开近光灯"><a href="#3-开近光灯" class="headerlink" title="3.开近光灯"></a>3.开近光灯</h3><ul>
<li>(1)夜间近距离跟车行驶</li>
<li>(2)夜间会车</li>
<li>(3)夜间直行通过路口</li>
<li>(4)夜间左右转弯</li>
<li>(5)夜间在有灯光的道路上行驶</li>
<li>(6)夜间在照明良好的道路上行驶</li>
</ul>
<h3 id="4-开远光灯"><a href="#4-开远光灯" class="headerlink" title="4.开远光灯"></a>4.开远光灯</h3><ul>
<li>(1)夜间在没有路灯的道路上行驶</li>
<li>(2)夜间在照明不良的道路上行驶</li>
</ul>
<h3 id="5-开示廓灯和危险报警闪光灯"><a href="#5-开示廓灯和危险报警闪光灯" class="headerlink" title="5.开示廓灯和危险报警闪光灯"></a>5.开示廓灯和危险报警闪光灯</h3><ul>
<li>(1)路边临时停车</li>
<li>(2)车辆发生故障和交通事故</li>
</ul>
<h3 id="6-关闭所有灯光"><a href="#6-关闭所有灯光" class="headerlink" title="6.关闭所有灯光"></a>6.关闭所有灯光</h3><h3 id="7-上车时检查有无打在远光灯未归位，如有，将其归位"><a href="#7-上车时检查有无打在远光灯未归位，如有，将其归位" class="headerlink" title="7.上车时检查有无打在远光灯未归位，如有，将其归位"></a>7.上车时检查有无打在远光灯未归位，如有，将其归位</h3><h2 id="二、起步"><a href="#二、起步" class="headerlink" title="二、起步"></a>二、起步</h2><h3 id="1-打左转向灯"><a href="#1-打左转向灯" class="headerlink" title="1.打左转向灯"></a>1.打左转向灯</h3><h3 id="2-踩离合、踩脚刹"><a href="#2-踩离合、踩脚刹" class="headerlink" title="2.踩离合、踩脚刹"></a>2.踩离合、踩脚刹</h3><h3 id="3-挂1挡"><a href="#3-挂1挡" class="headerlink" title="3.挂1挡"></a>3.挂1挡</h3><h3 id="4-松手刹"><a href="#4-松手刹" class="headerlink" title="4.松手刹"></a>4.松手刹</h3><h3 id="5-侧身四角观察"><a href="#5-侧身四角观察" class="headerlink" title="5.侧身四角观察"></a>5.侧身四角观察</h3><h3 id="6-抬离合，找联动点"><a href="#6-抬离合，找联动点" class="headerlink" title="6.抬离合，找联动点"></a>6.抬离合，找联动点</h3><h3 id="8-关方向灯"><a href="#8-关方向灯" class="headerlink" title="8.关方向灯"></a>8.关方向灯</h3><h2 id="三、通过特殊道路"><a href="#三、通过特殊道路" class="headerlink" title="三、通过特殊道路"></a>三、通过特殊道路</h2><h3 id="1-通过学校区域"><a href="#1-通过学校区域" class="headerlink" title="1.通过学校区域"></a>1.通过学校区域</h3><ul>
<li>(1)减速至20码，挂2档，左右摆头</li>
</ul>
<h3 id="2-通过公交站台"><a href="#2-通过公交站台" class="headerlink" title="2.通过公交站台"></a>2.通过公交站台</h3><ul>
<li>(1)轻踩刹车，左右摆头</li>
</ul>
<h3 id="3-通过人行横道"><a href="#3-通过人行横道" class="headerlink" title="3.通过人行横道"></a>3.通过人行横道</h3><ul>
<li>(1)轻踩刹车，左右摆头</li>
</ul>
<h2 id="四、转弯"><a href="#四、转弯" class="headerlink" title="四、转弯"></a>四、转弯</h2><h3 id="1-听到指令之后，打右转向灯"><a href="#1-听到指令之后，打右转向灯" class="headerlink" title="1.听到指令之后，打右转向灯"></a>1.听到指令之后，打右转向灯</h3><h3 id="2-减档减速，挂二档"><a href="#2-减档减速，挂二档" class="headerlink" title="2.减档减速，挂二档"></a>2.减档减速，挂二档</h3><h3 id="3-转弯箭头标志处轻踩刹车，左右摆头"><a href="#3-转弯箭头标志处轻踩刹车，左右摆头" class="headerlink" title="3.转弯箭头标志处轻踩刹车，左右摆头"></a>3.转弯箭头标志处轻踩刹车，左右摆头</h3><h3 id="4-转弯时方向盘尽量打90度，回弯时转向灯自动归位"><a href="#4-转弯时方向盘尽量打90度，回弯时转向灯自动归位" class="headerlink" title="4.转弯时方向盘尽量打90度，回弯时转向灯自动归位"></a>4.转弯时方向盘尽量打90度，回弯时转向灯自动归位</h3><h3 id="5-小圈一路口，在警局前也需轻踩刹车，左右摆台；大圈一路口，标志牌处以及不远处两处转弯标注处，三处地方也需要轻踩刹车，左右摆头"><a href="#5-小圈一路口，在警局前也需轻踩刹车，左右摆台；大圈一路口，标志牌处以及不远处两处转弯标注处，三处地方也需要轻踩刹车，左右摆头" class="headerlink" title="5.小圈一路口，在警局前也需轻踩刹车，左右摆台；大圈一路口，标志牌处以及不远处两处转弯标注处，三处地方也需要轻踩刹车，左右摆头"></a>5.小圈一路口，在警局前也需轻踩刹车，左右摆台；大圈一路口，标志牌处以及不远处两处转弯标注处，三处地方也需要轻踩刹车，左右摆头</h3><h2 id="五、直行"><a href="#五、直行" class="headerlink" title="五、直行"></a>五、直行</h2><h3 id="1-小圈最长道路上，有一处人行横道，通过时需要轻车刹车，左右摆头"><a href="#1-小圈最长道路上，有一处人行横道，通过时需要轻车刹车，左右摆头" class="headerlink" title="1.小圈最长道路上，有一处人行横道，通过时需要轻车刹车，左右摆头"></a>1.小圈最长道路上，有一处人行横道，通过时需要轻车刹车，左右摆头</h3><h3 id="2-一圈至少需要一次挂到5档"><a href="#2-一圈至少需要一次挂到5档" class="headerlink" title="2.一圈至少需要一次挂到5档"></a>2.一圈至少需要一次挂到5档</h3><h3 id="3-靠边停车，先打右转向灯，减速，车头回正，停下后挂空挡，拉手刹，关闭方向灯，松离合松刹车"><a href="#3-靠边停车，先打右转向灯，减速，车头回正，停下后挂空挡，拉手刹，关闭方向灯，松离合松刹车" class="headerlink" title="3.靠边停车，先打右转向灯，减速，车头回正，停下后挂空挡，拉手刹，关闭方向灯，松离合松刹车"></a>3.靠边停车，先打右转向灯，减速，车头回正，停下后挂空挡，拉手刹，关闭方向灯，松离合松刹车</h3><h2 id="六、为什么要担心紧张？如果努力了，担心紧张不会让结果变得更好。"><a href="#六、为什么要担心紧张？如果努力了，担心紧张不会让结果变得更好。" class="headerlink" title="六、为什么要担心紧张？如果努力了，担心紧张不会让结果变得更好。"></a>六、为什么要担心紧张？如果努力了，担心紧张不会让结果变得更好。</h2>]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>驾照</tag>
        <tag>科目三</tag>
      </tags>
  </entry>
  <entry>
    <title>伊甸园献祭平面图</title>
    <url>/045-sacrifice-eden/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/src%3Dhttp___img.tkgame.com_d_file_2020_07_10_24n2lnyhrap.jpg%26refer%3Dhttp___img.tkgame_mh1615302773095.jpg" alt="伊甸园献祭平面图"></p>
]]></content>
      <categories>
        <category>游戏体验</category>
      </categories>
      <tags>
        <tag>光遇</tag>
      </tags>
  </entry>
  <entry>
    <title>白夜</title>
    <url>/046-white-night/</url>
    <content><![CDATA[<p>白夜：我的世界里本就没有太阳，只是有些东西代替了太阳，给我光芒。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223209.webp" alt="白夜"></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>白夜</tag>
      </tags>
  </entry>
  <entry>
    <title>生活在Fibonacci堆上</title>
    <url>/048-fibonacci-pile/</url>
    <content><![CDATA[<p>现代计算机科学以哈罗德·埃布尔森的“代码是为人类阅读而写，只是顺便能被机器执行罢了。”为嚆矢。滥觞于哲学与数学的期望正失去它们的借鉴意义。但面对看似无垠的未来天空，我想循林纳斯·托瓦兹“懦夫才用磁带备份：真男人把重要的东西传到ftp，然后世界会帮他备份。”好过过早地振翮。<br>我们怀揣热忱的灵魂天然被赋予对超越性的追求，不屑于古旧坐标的约束，钟情于在别处的芬芳。但当这种期望流于对构造主义不假思索的批判，乃至走向逻辑与直觉主义时，便值得警惕了。与秩序的落差、错位向来不能为越矩的行为张本。而纵然我们已有翔实的蓝图，仍不能自持已在浪潮之巅立下了自己的沉锚。<br>“傻瓜都能写计算机能看懂的代码。好程序员写人能看懂的代码。”马丁·福勒之言可谓切中了肯綮。人的离散性是不可祓除的，而我们欲上青云也无时无刻不在因风借力。数学与哲学暂且被我们把握为一个薄脊的符号客体，一定程度上是因为我们尚缺乏体验与阅历去支撑自己的认知。而这种偏见的傲慢更远在知性的傲慢之上。<br>在孜孜矻矻以求计算机科学意义的道路上，对自己的期望本就是在与数学与哲学对接中塑型的动态过程。而我们的底料便是对不同P=NP猜想、不同最大流最小割定理的觉感与体认。大卫·韦勒为林纳斯·托瓦兹送去模拟退火，又维系启发式迭代加深。他的计算机科学观念是厚实的，也是实践的。倘若我们在对过往借史蒂夫·迈克康奈尔之言“祓魅”后，又对不断膨胀的自我进行“赋魅”，那么在丢失外界预期的同时，未尝也不是丢了自我。<br>毫无疑问，从哲学与数学角度一觇的自我有偏狭过时的成分。但我们所应摒弃的不是对此的批判，而是其批判的廉价，其对批判投诚中的反智倾向。在林纳斯·托瓦兹的观念中，如果在成为狮子与孩子之前，略去了像骆驼一样背负前人遗产的过程，那其“永远重复”洵不能成立。<br>蓝图上的落差终归只是理念上的区分，在实践场域的分野也未必明晰。譬如当我们追寻AC自动机时，在途中涉足网络流，这究竟是伴随着期望的泯灭还是期望的达成？在我们塑造计算机科学的同时，计算机科学也在浇铸我们。既不可否认原生的无后效性与有限性，又承认自己的图景有轻狂的失真，不妨让体验走在言语之前。用不被禁锢的头脑去体味林纳斯·托瓦兹的大海与风帆，并效艾伦·J·佩利，对无法言说之事保持沉默。<br>用在Fibonacci堆上的生活方式体现个体的超越性，保持婞直却又不拘泥于所谓“遗世独立”的单向度形象。这便是史蒂夫·迈克康奈尔为我们提供的理想期望范式。生活在Fibonacci堆上——始终热爱大地——升上天空。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>生活在树上</tag>
      </tags>
  </entry>
  <entry>
    <title>字节事件感想</title>
    <url>/047-bytedance-traitor/</url>
    <content><![CDATA[<p>字节跳动成功助美国完成在“法国投降前攻占巴黎”的史诗级任务</p>
<p>我手机所有字节跳动名下软件全部卸载</p>
<p>这或许是历史上中美科技战的一场导火索</p>
<p>或许某人会被钉在历史的耻辱柱上</p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>法国行为</tag>
        <tag>耻辱柱</tag>
      </tags>
  </entry>
  <entry>
    <title>怎么把走廊拍出高级感</title>
    <url>/049-corridor/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223555.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223605.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223616.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223626.webp" alt=""></p>
]]></content>
      <categories>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>走廊</tag>
      </tags>
  </entry>
  <entry>
    <title>iPad编程初步实现</title>
    <url>/050-ipad-programming/</url>
    <content><![CDATA[<p>iPad+TeamViewer，远程访问宿舍电脑<br>由于游戏本又重续航又差，带不出去宿舍，没法才想到这个方法。iPad和电脑都连Wifi可以大大降低网络延迟。鼠标键盘直接使用蓝牙的，稍微设置一下，体验就可以和电脑相比了<br>总体操作使用起来就和电脑没有什么区别，可以应付上课要用到电脑的情况，iPad+鼠标+键盘都比较轻，易于携带，唯一需要注意的是，出门前要检查保证宿舍电脑一定要连上Wifi</p>
]]></content>
      <tags>
        <tag>IDE</tag>
      </tags>
  </entry>
  <entry>
    <title>申遗</title>
    <url>/055-world-heritage/</url>
    <content><![CDATA[<p>来晚了，税都收到2077年了</p>
<p>我来夜之城只办三件事</p>
<p>二哥：“大哥你是知道我的，如果是我的话，躺在我旁边的应该是天使。”</p>
<p>枪在手，跟我走，杀三郎，炸碉楼！<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224424.webp" alt=""></p>
]]></content>
      <categories>
        <category>游戏体验</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>赛博朋克2077</tag>
        <tag>鹅城</tag>
        <tag>夜之城</tag>
      </tags>
  </entry>
  <entry>
    <title>蒲公英</title>
    <url>/053-dandelion/</url>
    <content><![CDATA[<p>好像平常白色的植物看到的都少<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224213.webp" alt=""></p>
]]></content>
      <categories>
        <category>植物欣赏</category>
      </categories>
      <tags>
        <tag>蒲公英</tag>
      </tags>
  </entry>
  <entry>
    <title>闪电五连鞭&amp;凡人修仙传</title>
    <url>/052-five-lashes/</url>
    <content><![CDATA[<p>朋友们好啊，我是血色禁地二级妖兽墨蛟。<br>刚才有个朋友问我墨老师发生什么事了，我说怎么回事，给我发了一几张截图，我一看！嗷！原来是昨天，有两个年轻人，一个二十多岁相貌平平练气期，一个几百岁结丹期。上来就是二打一，偷袭！还用符宝砸我，年轻人不讲武德。修仙界要以和为贵，好自为之！</p>
]]></content>
      <categories>
        <category>影视观赏</category>
      </categories>
      <tags>
        <tag>整活</tag>
      </tags>
  </entry>
  <entry>
    <title>初入修仙</title>
    <url>/051-novice-xiuxian/</url>
    <content><![CDATA[<p>到了庙门，拜了真神，很开心。一声道友尽沧桑，修仙路，一步一层天。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223929.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223938.webp" alt=""></p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>王式安</tag>
        <tag>武忠祥</tag>
        <tag>李永乐</tag>
      </tags>
  </entry>
  <entry>
    <title>身在南方体验北方</title>
    <url>/056-north-in-the-south/</url>
    <content><![CDATA[<p>确定了，我在北方<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224607.webp" alt=""></p>
]]></content>
      <categories>
        <category>摄影记录</category>
        <category>植物欣赏</category>
      </categories>
      <tags>
        <tag>鬼天气</tag>
        <tag>好滤镜</tag>
      </tags>
  </entry>
  <entry>
    <title>初遇2077</title>
    <url>/054-2077/</url>
    <content><![CDATA[<p>今晚和基努里维斯血洗夜之城<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224332.webp" alt=""></p>
]]></content>
      <categories>
        <category>游戏体验</category>
      </categories>
      <tags>
        <tag>赛博朋克2077</tag>
        <tag>捏脸</tag>
        <tag>V</tag>
      </tags>
  </entry>
  <entry>
    <title>多做减法</title>
    <url>/058-do-more-subtraction/</url>
    <content><![CDATA[<p>简单选择，艰难生活；艰难选择，简单生活。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224732.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>以启山林</tag>
      </tags>
  </entry>
  <entry>
    <title>四子连珠</title>
    <url>/057-four-beads-connect/</url>
    <content><![CDATA[<h1 id="1-问题描述"><a href="#1-问题描述" class="headerlink" title="1.问题描述"></a>1.问题描述</h1><p>设计一个玩家下棋的操作类，里面封装了棋盘、棋子类别和输赢次数等成员数据。<br>操作类的函数包括有初始化棋盘、下棋、判断输赢等。定义一个类的对象，在调用类<br>函数时直接使用对象名加函数名即可。<br>将两个玩家定义为两个数组用于区分他们的信息，分别用’O’和’X’代表两个玩家所用棋<br>子，然后分别对两个玩家通过已定义的类的对象调用类中的函数，完成下棋过程。<br>进一步改进程序：<br>(1)程序中用if else if格式的语句来判断玩家的输赢，当棋盘增大时，三子连珠的各种可<br>能性成倍增加，使得语句非常繁琐，所以将其改为for语句的循环结构进行判断，当棋<br>盘增大时，只需更改循环条件结束的参数即可，可灵活使用于各种尺寸的棋盘。<br>(2)为防止用户误操作，特别是在姓名的输入时的失误，可以采用cin.getline函数读入在判断确认。<br>(3)在完成第一步的基础上可将三子连珠扩充为标准的五子棋。</p>
<h1 id="2-基本要求"><a href="#2-基本要求" class="headerlink" title="2.基本要求"></a>2.基本要求</h1><p>(1)将程序改写成类。<br>(2)将棋盘扩充成4×4。<br>(3)统计输赢结果并打印输出。<br>(4)使游戏更生动(输赢条件相同)。</p>
<h1 id="3-需求分析"><a href="#3-需求分析" class="headerlink" title="3.需求分析"></a>3.需求分析</h1><p>(1)程序要使得两个玩家能进行下棋比赛，并且决出胜负，或者是出现平局情况。</p>
<p>(2)任意玩家输入时以坐标方式输入棋子的坐标，单个坐标范围不得超过4个单位值。</p>
<p>(3)输出棋盘的内容，其中包括已输入的棋子。</p>
<p>(4)两个玩家依次进行下棋的坐标输入，直到出现一方赢得比赛或者双方平局的情<br>现。</p>
<p>(5)测试数据</p>
<p>正确输入的情况，输入正确坐标后输出带有输入坐标棋子的整个棋盘<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824160429.png" alt=""><br>错误输入的情况，输入重复坐标则输出棋盘出已有棋子，请重新输入；输入超出边界的坐标，要求重新输入<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824160455.png" alt=""></p>
<h1 id="4-概要设计"><a href="#4-概要设计" class="headerlink" title="4.概要设计"></a>4.概要设计</h1><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824160614.png" alt="图1 四子连珠流程图"></p>
<h2 id="类的设计："><a href="#类的设计：" class="headerlink" title="类的设计：　"></a>类的设计：　</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CGobang</span> <span class="comment">//棋子类</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">char</span> chSort; <span class="comment">//棋子的类别</span></span><br><span class="line">	<span class="type">int</span> nWin; <span class="comment">//赢棋的次数</span></span><br><span class="line">	<span class="type">int</span> nLose; <span class="comment">//输棋的次数</span></span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> nDraw; <span class="comment">//平局次数</span></span><br><span class="line">	<span class="type">static</span> <span class="type">char</span> achBoard[<span class="number">4</span>][<span class="number">4</span>]; <span class="comment">//棋盘</span></span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> nSize; <span class="comment">//棋盘的尺寸 nSize X nSize</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">CGobang</span>(<span class="type">char</span> chsort) <span class="comment">//构造函数，决定一方棋子的类别</span></span><br><span class="line">	&#123;</span><br><span class="line">		chSort=chsort;</span><br><span class="line">		nWin=nLose=nDraw=<span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">PlayTurn</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//走1步棋</span></span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">Judge</span><span class="params">()</span></span>; <span class="comment">//判断是否连成一线，是则返回1，否则返回0</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Win</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//赢棋</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Lose</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//输棋</span></span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">Draw</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//平局</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">PrintInfo</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//输出总体情况</span></span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PrintBoard</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//输出棋盘</span></span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">GetFull</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//判断棋盘是否已布满棋子</span></span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">InitialBoard</span><span class="params">(<span class="type">void</span>)</span></span>; <span class="comment">//初始化棋盘</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="5-详细设计"><a href="#5-详细设计" class="headerlink" title="5.详细设计"></a>5.详细设计</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::Draw</span><span class="params">()</span>  <span class="comment">//平局函数实现</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\n\n\t\t平局!\n\n&quot;</span>;</span><br><span class="line">	nDraw++;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::InitialBoard</span><span class="params">()</span> <span class="comment">//初始化棋盘</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nSize;i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;nSize;j++)</span><br><span class="line">			achBoard[i][j]=<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::PrintBoard</span><span class="params">()</span> <span class="comment">//输出棋盘</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;  1   2   3   4&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;1 &quot;</span> &lt;&lt; achBoard[<span class="number">0</span>][<span class="number">0</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">0</span>][<span class="number">1</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">0</span>][<span class="number">2</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">0</span>][<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot; ---|---|---|---&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;2 &quot;</span> &lt;&lt; achBoard[<span class="number">1</span>][<span class="number">0</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">1</span>][<span class="number">1</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">1</span>][<span class="number">2</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">1</span>][<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot; ---|---|---|---&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;3 &quot;</span> &lt;&lt; achBoard[<span class="number">2</span>][<span class="number">0</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">2</span>][<span class="number">1</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">2</span>][<span class="number">2</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">2</span>][<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot; ---|---|---|---&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;4 &quot;</span> &lt;&lt; achBoard[<span class="number">3</span>][<span class="number">0</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">3</span>][<span class="number">1</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">3</span>][<span class="number">2</span>] &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; achBoard[<span class="number">3</span>][<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CGobang::GetFull</span><span class="params">()</span> <span class="comment">//判断棋盘是否布满棋子，若是返回1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> flag=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nSize;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;nSize;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(achBoard[i][j] == <span class="string">&#x27; &#x27;</span> )</span><br><span class="line">			&#123;</span><br><span class="line">                flag=<span class="number">0</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(flag == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::Win</span><span class="params">()</span> <span class="comment">//赢棋</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\n\n\t\t&quot;</span>&lt;&lt;chSort&lt;&lt;<span class="string">&quot;方获胜!\n\n&quot;</span>;</span><br><span class="line">	nWin++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::Lose</span><span class="params">()</span> <span class="comment">//输棋</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	nLose++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::PlayTurn</span><span class="params">(<span class="type">void</span>)</span> <span class="comment">//走1步棋</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> nRow,nCol;</span><br><span class="line">	cout &lt;&lt;<span class="string">&quot;现在该 &quot;</span>&lt;&lt;chSort&lt;&lt;<span class="string">&quot; 方下棋，请输入棋盘坐标（x，y）：&quot;</span>;</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		cin &gt;&gt; nRow &gt;&gt; nCol; <span class="comment">//输入坐标</span></span><br><span class="line">		<span class="keyword">if</span>(nRow&gt;nSize || nCol&gt;nSize) <span class="comment">//判断坐标越界</span></span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt;<span class="string">&quot;输入的坐标越界，x与y的范围应小于等于&quot;</span>&lt;&lt;nSize&lt;&lt;<span class="string">&quot;,请重新输入\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(achBoard[nRow<span class="number">-1</span>][nCol<span class="number">-1</span>]!=<span class="string">&#x27; &#x27;</span>) <span class="comment">//判断坐标合理</span></span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt;<span class="string">&quot;棋盘(&quot;</span>&lt;&lt;nRow &lt;&lt;<span class="string">&quot; ，&quot;</span>&lt;&lt;nCol &lt;&lt;<span class="string">&quot;)处已有棋子，请重新输入\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			achBoard[nRow<span class="number">-1</span>][nCol<span class="number">-1</span>]=chSort; <span class="comment">//在坐标处放上棋子</span></span><br><span class="line">			<span class="keyword">break</span>; <span class="comment">//退出循环</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CGobang::Judge</span><span class="params">()</span> <span class="comment">//判断是否棋子连成一线，若是返回1</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">//以下是各种可能连成一线的情况</span></span><br><span class="line">	<span class="type">int</span> flag=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(achBoard[<span class="number">0</span>][<span class="number">0</span>]==chSort &amp;&amp; achBoard[<span class="number">1</span>][<span class="number">1</span>]==chSort &amp;&amp; achBoard[<span class="number">2</span>][<span class="number">2</span>]==chSort &amp;&amp; achBoard[<span class="number">3</span>][<span class="number">3</span>]==chSort)</span><br><span class="line">		flag=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(achBoard[<span class="number">3</span>][<span class="number">0</span>]==chSort &amp;&amp; achBoard[<span class="number">2</span>][<span class="number">1</span>]==chSort &amp;&amp; achBoard[<span class="number">1</span>][<span class="number">2</span>]==chSort &amp;&amp; achBoard[<span class="number">0</span>][<span class="number">3</span>]==chSort)</span><br><span class="line">		flag=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nSize;i++)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="keyword">if</span>(achBoard[i][<span class="number">0</span>]==chSort &amp;&amp; achBoard[i][<span class="number">1</span>]==chSort &amp;&amp; achBoard[i][<span class="number">2</span>]==chSort &amp;&amp; achBoard[i][<span class="number">3</span>]==chSort)</span><br><span class="line">			flag=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(achBoard[<span class="number">0</span>][i]==chSort &amp;&amp; achBoard[<span class="number">1</span>][i]==chSort &amp;&amp; achBoard[<span class="number">2</span>][i]==chSort &amp;&amp; achBoard[<span class="number">3</span>][i]==chSort)</span><br><span class="line">			flag=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> flag; <span class="comment">//没有连成一线则返回0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CGobang::PrintInfo</span><span class="params">(<span class="type">void</span>)</span> <span class="comment">//打印总体情况</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt;chSort&lt;&lt;<span class="string">&quot;方共计赢 &quot;</span>&lt;&lt;nWin&lt;&lt;<span class="string">&quot; 局，输 &quot;</span>&lt;&lt;nLose&lt;&lt;<span class="string">&quot; 局，平 &quot;</span>&lt;&lt;nDraw&lt;&lt;<span class="string">&quot; 局。&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintRule</span><span class="params">(<span class="type">void</span>)</span> <span class="comment">//打印规则</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\t\t欢迎使用三子连珠游戏!&quot;</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\t游戏规则:&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\t1.每1步输入要下棋的格子的x，y坐标，按Enter键\n&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\t2.有1方首先4个棋子连成一线即判获胜\n&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\t3.当棋子布满棋盘但仍无获胜方即为平局\n&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\t4.X方先行\n&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;\n\n\t\t请回车键开始下棋!\n\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">JudgePlay</span><span class="params">(CGobang &amp; SideX,CGobang &amp; SideO)</span> <span class="comment">//每下1步要进行输赢的判断，有结果则返回1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(SideX.<span class="built_in">Judge</span>()) <span class="comment">//X方获胜</span></span><br><span class="line">	&#123;</span><br><span class="line">		SideX.<span class="built_in">Win</span>();</span><br><span class="line">		SideO.<span class="built_in">Lose</span>();</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(SideO.<span class="built_in">Judge</span>()) <span class="comment">//O方获胜</span></span><br><span class="line">	&#123;</span><br><span class="line">		SideO.<span class="built_in">Win</span>();</span><br><span class="line">		SideX.<span class="built_in">Lose</span>();</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Play</span><span class="params">(CGobang &amp; SideX,CGobang &amp; SideO)</span> <span class="comment">//开始一局游戏</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		CGobang::<span class="built_in">PrintBoard</span>(); <span class="comment">//输出棋盘</span></span><br><span class="line"></span><br><span class="line">		SideX.<span class="built_in">PlayTurn</span>(); <span class="comment">//X方下棋</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">JudgePlay</span>(SideX,SideO)) <span class="comment">//判断输赢</span></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">if</span>(CGobang::<span class="built_in">GetFull</span>()) <span class="comment">//判断是否平局</span></span><br><span class="line">		&#123;</span><br><span class="line">			CGobang::<span class="built_in">Draw</span>();</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		CGobang::<span class="built_in">PrintBoard</span>(); <span class="comment">//输出棋盘</span></span><br><span class="line"></span><br><span class="line">		SideO.<span class="built_in">PlayTurn</span>(); <span class="comment">//O方下棋</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">JudgePlay</span>(SideX,SideO)) <span class="comment">//判断输赢</span></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">if</span>(CGobang::<span class="built_in">GetFull</span>()) <span class="comment">//判断是否平局</span></span><br><span class="line">		&#123;</span><br><span class="line">			CGobang::<span class="built_in">Draw</span>();</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="6-调试分析"><a href="#6-调试分析" class="headerlink" title="6.调试分析"></a>6.调试分析</h1><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824160956.png" alt=""></p>
<h2 id="问题1："><a href="#问题1：" class="headerlink" title="问题1："></a>问题1：</h2><p>判断玩家输入坐标是否有错，开始采用无论是否为出界或者输入重复坐标，均统一输出“输入坐标有错”，但这样不能有效的分辨到底是哪种输入错误<br>解决：<br>因此通过分开判断两种错误的方式解决<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161027.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161100.png" alt=""></p>
<h2 id="问题2："><a href="#问题2：" class="headerlink" title="问题2："></a>问题2：</h2><p>判断是否连成一线时第一次采用的是if和else if来实现该功能，是否可通过for循环来实现这个功能，使得程序更加简洁<br>解决：<br>利用flag来判断，首先，令flag=0，先单独对对角线两种连成四字的情况判断，若连成一条线flag=1,再用for循环判断横竖8种情况是否连成四子，若连成一条线flag=1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161137.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161203.png" alt=""></p>
<h2 id="问题3："><a href="#问题3：" class="headerlink" title="问题3："></a>问题3：</h2><p>对于如何通过调用judgeplay来判断是否有输赢<br>解决：<br>通过返回1或0，用逻辑判断来实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161245.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161314.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161335.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161400.png" alt=""></p>
<h2 id="问题4："><a href="#问题4：" class="headerlink" title="问题4："></a>问题4：</h2><p>UltraEdit软件无法直接编译Cpp文件<br>解决：<br>首先下载MinGW库并且配置环境，然后在UltraEdit软件软件高级选项的工具中创建C++编译和运行工具</p>
<h2 id="设计与实现的回顾讨论和分析："><a href="#设计与实现的回顾讨论和分析：" class="headerlink" title="设计与实现的回顾讨论和分析：　"></a>设计与实现的回顾讨论和分析：　</h2><p>任何一个程序的实现都是从大的框架来实现的，因此画出流程图分析是不可缺少的一个步骤，其次在流程图已画出的情况下，通过参考其他文献来细化每个程序的实现以及各个程序关系，最后，通过各类判断条件以及函数之间的调用来实现某一模块的功能</p>
<h1 id="7-用户使用说明"><a href="#7-用户使用说明" class="headerlink" title="7.用户使用说明"></a>7.用户使用说明</h1><p>(1)首先输出游戏欢迎语句和规则，玩家按任意键进行下棋<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161447.png" alt=""><br>(2)玩家输入坐标，有错即会报错，要求重新输入<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161514.png" alt=""><br>(3)玩家下棋直到有一方赢得比赛或者平局<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161544.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161605.png" alt=""><br>(4)当玩家不想再进行游戏时，结束游戏，输出统计结果<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161628.png" alt=""></p>
<h1 id="8-测试结果"><a href="#8-测试结果" class="headerlink" title="8.测试结果"></a>8.测试结果</h1><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161657.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161716.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161735.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161803.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161822.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161843.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161905.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161929.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824161950.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162012.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162029.png" alt=""></p>
<h1 id="9-课程设计总结"><a href="#9-课程设计总结" class="headerlink" title="9.课程设计总结"></a>9.课程设计总结</h1><p>任何一个程序的实现都是从大的框架来实现的，因此画出流程图分析是不可缺少的一个步骤。通过流程图，我们可以分析出玩家每下一个棋，就需要判断一次是否有四子连成一条线，若有则结束程序运行，并且询问是否再开一局，若没有，则另一玩家再继续下棋。通过画出具体流程图可以分析得出，我们需要两个关键函数，一个是判断是否有四子连成一条线的函数，另一函数是判断棋盘是否布满（即是否为平局情况出现）。由于手上资源有限，因此需要参考其他文献来细化每个程序的实现以及各个程序关系。在查阅资料和询问相关人士后，程序内的各种小问题都被很好的解决了。整个程序花费3天实现，第一天构建出整体流程和模型，第二天确定具体流程和函数的实现，最后一天调试代码，解决各种问题，并且书写课程设计报告。本次课程设计让我体验到了程序设计的过程，总是由易到难，并不是一蹴而就的事情。从此中，我也体会到了运行自己开发的程序的乐趣和自我思考解决问题的成就感。本次C++课程设计在四子连珠中圆满完成。</p>
<h1 id="10-参考文献"><a href="#10-参考文献" class="headerlink" title="10.参考文献"></a>10.参考文献</h1><p>[1]孙静波，郭建伟. C++课程设计任务书[EB/OL].<a href="https://wenku.baidu.com/view/858ea37c27284b73f24250ac.html,2011-03-05">https://wenku.baidu.com/view/858ea37c27284b73f24250ac.html,2011-03-05</a></p>
<p>[2]步士旋.C++课程设计题目要求[EB/OL].<a href="https://wenku.baidu.com/view/88c27f5adcccda38376baf1ffc4ffe473268fd4d.html,2017-04-11">https://wenku.baidu.com/view/88c27f5adcccda38376baf1ffc4ffe473268fd4d.html,2017-04-11</a></p>
<p>[3]钱芸生.c++课程设计论文三子连珠[EB/OL].<a href="https://www.docin.com/p-1486882349.html,2014-04-05">https://www.docin.com/p-1486882349.html,2014-04-05</a></p>
<p>[4]N_0_1.把三字连珠（三子棋）棋盘改成4x4的[EB/OL].<a href="https://zhidao.baidu.com/question/2205231972327907748.html,2016-03-27">https://zhidao.baidu.com/question/2205231972327907748.html,2016-03-27</a></p>
<p>[5]xingyunbuzui.C++三子连珠编程问题[EB/OL].<a href="https://zhidao.baidu.com/question/471564808.html,2012-08-31">https://zhidao.baidu.com/question/471564808.html,2012-08-31</a></p>
<p>[6]人潮尽头.三子连珠游戏[EB/OL].<a href="http://tieba.baidu.com/p/1057812021,2011-04-21">http://tieba.baidu.com/p/1057812021,2011-04-21</a></p>
<p>[7]巴喆.MinGW的安装以及如n配置C++[EB/OL].<a href="http://tieba.baidu.com/p/2826016538?pid=44774220947#,2014-01-21">http://tieba.baidu.com/p/2826016538?pid=44774220947#,2014-01-21</a></p>
<p>[8]a19161.UltraEdit配置C++开发环境[EB/OL].<a href="https://blog.csdn.net/a19161/article/details/54343914,2017-01-11">https://blog.csdn.net/a19161/article/details/54343914,2017-01-11</a></p>
<p>[9]狼本善.使用UltraEdit打造C/C++编译环境![EB/OL].<a href="https://blog.51cto.com/johnjohn/1407845,2012-10-21">https://blog.51cto.com/johnjohn/1407845,2012-10-21</a></p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>C++学习笔记</category>
      </categories>
      <tags>
        <tag>四子连珠</tag>
        <tag>结构体</tag>
        <tag>Struct</tag>
        <tag>UltraEdit</tag>
        <tag>MinGW</tag>
      </tags>
  </entry>
  <entry>
    <title>喵喵侄子</title>
    <url>/061-meow-nephew/</url>
    <content><![CDATA[<p>安详<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225000.webp" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
      </categories>
      <tags>
        <tag>养猪</tag>
        <tag>安逸</tag>
      </tags>
  </entry>
  <entry>
    <title>2022考研初试长期安排</title>
    <url>/062-long-term-arrangement/</url>
    <content><![CDATA[<p>1.建议 <em>现在到明年三月</em> 完成 <strong>数学基础复习</strong> （ <strong>张宇30讲+330习题</strong>），同时天天背单词<br>2.<em>三月到暑假开始前</em> 完成 <strong>数学强化第一轮（武忠祥强化课）</strong><br>3.<em>暑假</em> 开始 <strong>数学强化第二轮（武忠祥强化课）</strong>，同时开始 <strong>专业课第一轮</strong> （王道数据结构）<br>PS：在 <em>暑假结束开学前</em> 完成 <strong>数学强化二轮和专业课一轮复习（专业课一轮建议跟 王道）</strong> 。<br>关于暑期是否复习政治个人建议是不要复习，主要经历放在数学与专业课，如果你认为你高中马克思哲学和政治经济学学的不好的话，这再建议复习马原和哲学和政治经济学。<br>4.<em>9月份</em> 如果 <strong>数学强化</strong> 没有来得及在暑假结束的话尽快结束，在 <em>9月结束前</em>开始 <strong>刷数学真题</strong> ，并辅以 <strong>武忠祥17堂课</strong> ，最迟到 <em>10月结束</em> 必须真题刷完一遍。<br>同时 <strong>王道第二轮复习</strong> 该从 <em>9月开始</em> ，并在 <em>10月过完前</em> 完成 <strong>二轮复习</strong> ，第二轮应当 <strong>做少量真题</strong> 主要是在做真题时发现自己一轮复习的漏洞，然后看王道课本查漏补缺。<br>英语坚持背单词，可以做题但不建议真题，真题很少且各大模拟题没有价值，建议应当留到后面做，所以这一阶段如果你考英一你就做英二练手，反之 <strong>考英二就拿英语一练手</strong> 。<br>政治最晚从 <em>10月1号</em> 正式开始复习 <strong>选择题</strong> 直到 <em>12月</em> <strong>肖四</strong> 出来为止，政治主要 <strong>靠背并辅以习题</strong> ，刷完 <strong>肖1000和肖8</strong> 建议使用微信小程序“ <strong>小白政治</strong> ”和“ <strong>一硕考研</strong> ”刷其他老师的题目，但必须 <strong>以肖秀荣为主</strong> ，其他老师的选择题仅用作“补充习题”。<br>5.<em>11月开始直到考试开始</em> 建议数学以 <strong>二刷真题</strong> （2010年及以后的卷子，二刷建议别刷10年前的，因为没有时间且收获不大）。<br>一定刷完 <strong>李林6套和李林4套</strong> ，二刷真题仅建议在李林没发货或者已经刷完的情况下进行。<br>最后 <em>12月</em> ，建议刷题同时配合李永乐的 <strong>考研临阵磨枪</strong> ，此书重在讲解技巧和技巧性查漏补缺，如果看得看的太早，会看不懂一脸闷逼，如果你发现你能够流畅地看懂这本书了，那说明你已经可以去考研了。<br>关于这一阶段的专业课，应该是以 <strong>刷真题</strong> 为主，把题目做熟， <em>12月</em> 应该已经做完专业课真题了，于是刷错题，能刷几遍看时间和掌握程度。<br>建议 <em>早上6:30</em> 起床吃完饭到 <em>9:00</em> <strong>背书加刷政治</strong> <em>，9:00到12:00</em> <strong>一张数学卷子</strong> ，然后去吃饭，下午 <strong>写专业课</strong> ， <em>晚上</em> 有空 <strong>做英语或者总结上午数学错题到错题本</strong> 。英语不建议模拟题，只建议真题！！！若不理解这句话，等你做了模拟题就会明白我的意思的。英语题目不多没有必要天天晚上做，但背单词必须天天进行。 <strong>肖四</strong> 会在 <em>12月初</em> 发货，一到手就背上面的 <strong>简答题</strong> ，一定全部背熟，不要背其他老师的简答题，肖秀荣压的最准就背他的。 <strong>英语作文</strong> 应当最迟从 <em>12月初</em> 开始练习，建议 <strong>一天一篇到两天一篇</strong> 这种写作文频率。<br>6.就是这么多，加油你一定可以最终击败他们的</p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>路由信息协议Rip</title>
    <url>/064-routing-protocol/</url>
    <content><![CDATA[<p> 路由信息协议是基于向量-距离选择算法的协议，设置了周期更新定时器、延迟定时器、超时定时器与清除定时器。对照自己的路由表，没有的话接收； 有的话比较度量值，大了就忽略，小了就接收；（说明：当更新来源于同一个R时，不论度量值大小与否，都将接收。）<br>①RIP周期更新定时器：路由器设置一个周期更新定时器，每隔30秒在相邻路由器之间交换一次路由更新信息，路由器以广播的方发送路由信息。<br>②为了防止因触发更新而引起的广播风暴，RIp增加了一个延迟定时器。延迟定时器为每次路由更新延迟一个随机时间。<br>③每个路由表增加一个超时定时器，当路由信息中一个表项修改算起，超过180秒没有收到刷新信息，则认为该路径已经出现故障，路由表将该项记录设置为“无效”，而不是立即清除。<br>④设置一个清除定时器，如果路由表中的一个路由记录设置为“无效”超过120秒没有收到更新信息，则立即从路由表中删除该项记录。<br>⑤为了防止路由更新过程中，某个路径出现故障，而出现路由环路的情况，使得Rip产生慢收敛。有四种解决方式：设置路径的最大跳数为16； 如果路由器R1从R2处获得距离信息，R1不再给R2发送距离信息，称为“水平分割”；三是路由器在得知目的网络不可达信息之后的60秒时间内，不接受任何关于目的网络可达的信息；毒性逆转：当某条路径出现故障，最早广播该路由的路由器将距离定为16,，于此同时出发路由更新，立即广播刷新信息。<br>⑥由于防止引起广播风暴以及最大跳数的限制，Rip只适用于比较小的系统。</p>
]]></content>
      <categories>
        <category>考试资料</category>
        <category>计算机网络学习笔记</category>
      </categories>
      <tags>
        <tag>路由信息协议</tag>
        <tag>Rip</tag>
      </tags>
  </entry>
  <entry>
    <title>青年大学生如何增强文化自信</title>
    <url>/063-enhance-cultural-confidence/</url>
    <content><![CDATA[<p>青少年的自信，其实不仅指能力强而且还有自知之明，两者缺一不可，只能力强而不自知就会自负或自卑，只自知没有多少能力也不会有自信。一个青少年是这样，，一个国家，一种文化也是这样。自信不是要求出来的，更不是喊口号喊出来的。可以说自信根本不是一种高要求，是需要天赋的，一个人能做到自知不盲目自信就不错了，大部分人天赋以一般，本分是最好的选择，希求自信便南辕北辙了。强不能以为能根本就是志大才疏，像极端分子一样，本来就是落后文化，一个小小的以色列就把整个中东打得爬不起来，越是无能越是打死不认，为了维护虚荣的自尊，到处搞破坏，叫嚣着复兴这个复兴那个，都跑到欧洲当难民了还不知道自己的斤两，根本就是死鸭子，只有嘴硬。身为一个青少年能不能自信完全身不由己，这时候认命并不是消极，而是积极的自知。一个国家一一个民族更要有自知之明，不能盲目自信，要勤修内功，要懂得自我优化，实现成员间的优胜劣汰，实打实地提高国民素质，才能实现国家民族的强大，只有国家富强民族强盛才有真正的文化自信，否则就只能像某些低等神族一样到处秀下限，成为天下的笑柄。作为青少年来说，唯有自信才能把自己的生活过得好，作为一个国家，也唯有自信，才能实现国家的强盛。因此当代大学生应积极响应国家对于文化自信的倡导精神，不断提升自信力，为民族的伟大复兴贡献力量。首先，大学生要深刻意识到树立文化自信的<br>重大意义，唯有对民族文化充满敬仰，才有底气推动国家的伟大建设;其次，大学生要坚持学习传统美德，中华文明几千年的历史长河中，先辈们为我们留下众多优秀传统知识，大学生须从中不断汲取营养， 提升自己的民族自豪感;再者，大学生要加深对我国传统科学技术的认知，包括耳熟能详的四大发明，及在数学、建筑学、农医等方面的伟大造诣，提升对民族智慧的敬仰;我们应加强对革命文化的学习，学习先烈的革命精神和牺牲意识,以提升自己在学习及工作中的创新能力;更要加深对现代文化的理解。如改革开放以来国家发生的翻天覆地的变化，全国人民在党的领导下逐渐步入小康生活，以及各行各业中先进人物事迹的学习等等;最后要说的是，坚持文化自信不等于盲目自大，我们对于外来的先进文化不应该盲目模仿，应采取包容及借鉴的态度，要以广阔的胸襟坚持学习精神，以不断扩充自身的文化宝库。</p>
]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>思修</tag>
      </tags>
  </entry>
  <entry>
    <title>黑苹果安装方法</title>
    <url>/066-black-apple/</url>
    <content><![CDATA[<p>以下出自个人安装经验，仅供参考，开学可以去实验室，可以先用虚拟机顶一顶，如果对黑苹果实在有需求，可以根据以下教程来操作</p>
<h1 id="1-镜像下载"><a href="#1-镜像下载" class="headerlink" title="1.镜像下载"></a>1.镜像下载</h1><p>去黑果小兵网站下载镜像文件，big sur的bug较多，建议下载15.7的catalina</p>
<h1 id="2-烧录"><a href="#2-烧录" class="headerlink" title="2.烧录"></a>2.烧录</h1><p>准备一个至少8G的U盘和一个叫transmac的软件</p>
<p>transmac的使用办法百度一下，将镜像文件烧录到U盘当中</p>
<h1 id="3-安装"><a href="#3-安装" class="headerlink" title="3.安装"></a>3.安装</h1><p>电脑进入bios，进行一些相关，详情见如下视频，插入U盘，根据电脑型号进入启动界面，安装mac系统。可能会无法安装，需要进入终端更改时间。安装过程可能会持续10多分钟，要进行多次安装，具体情况按照个人</p>
<h1 id="4-驱动"><a href="#4-驱动" class="headerlink" title="4.驱动"></a>4.驱动</h1><p>驱动是黑苹果最难解决的一步，需要有对应的EFI文件，建议去github找电脑相关对应文件，替换电脑内部本身的文件。同时还要做好声卡网卡显卡三卡驱动，市面上大部分win本的网卡都不能直接在mac系统下上网(有些可以)，需要买一张博通的网卡更换之后才能驱动上网成功。也有快捷方法，运行一段程序可以驱动任意网卡，但是速度会慢一点，每次开机都要重新运行。</p>
<p>显卡驱动会麻烦一点，如果图形卡那里显示5m或者7m，就是没有驱动成功，使用过程中会比较卡(好像虚拟机里运行一样)。正确驱动看下面第二个视频。</p>
<p>三卡驱动完毕，还要检查键盘，鼠标，亮度的问题，没有问题之后，黑苹果才算安装成功</p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>刷机</tag>
        <tag>MacOS</tag>
        <tag>黑苹果</tag>
        <tag>BigSur</tag>
        <tag>Transmac</tag>
        <tag>EFI</tag>
        <tag>Clover</tag>
      </tags>
  </entry>
  <entry>
    <title>大物2考试复习一图到底</title>
    <url>/065-physics-exam/</url>
    <content><![CDATA[<h1 id="一、填空题（20分，10空，每空2分）"><a href="#一、填空题（20分，10空，每空2分）" class="headerlink" title="一、填空题（20分，10空，每空2分）"></a>一、填空题（20分，10空，每空2分）</h1><h2 id="（1）电源，可能涉及的理论内容"><a href="#（1）电源，可能涉及的理论内容" class="headerlink" title="（1）电源，可能涉及的理论内容"></a>（1）电源，可能涉及的理论内容</h2><p>电容器放电过程，不能形成稳恒电流。<br> <em>电源：</em> 提供非静电力的装置，将正电荷从低电势处移到高电势处。<br><em>电源</em>电动势：在<em>电源</em>内部，将单位正电荷从负极移到正极，非静电力所做的功。<br><em>电源</em>电动势方向：<em>电源</em>内从负极到正极的方向，<em>电源</em>内电势升高的方向。</p>
<h2 id="（2）惠更斯-菲涅耳原理，可能涉及的理论内容"><a href="#（2）惠更斯-菲涅耳原理，可能涉及的理论内容" class="headerlink" title="（2）惠更斯-菲涅耳原理，可能涉及的理论内容"></a>（2）惠更斯-菲涅耳原理，可能涉及的理论内容</h2><p>菲涅耳假定：波在传播时，从同一波阵面上各点发出的子波，经传播而在空间某点相遇时，产生相干叠加。</p>
<h1 id="二、简答题（80分，7题）"><a href="#二、简答题（80分，7题）" class="headerlink" title="二、简答题（80分，7题）"></a>二、简答题（80分，7题）</h1><h2 id="（1）第一题，下图为仅供参考可能出现相类似的题型（12分）"><a href="#（1）第一题，下图为仅供参考可能出现相类似的题型（12分）" class="headerlink" title="（1）第一题，下图为仅供参考可能出现相类似的题型（12分）"></a>（1）第一题，下图为仅供参考可能出现相类似的题型（12分）</h2><p>练习一，第4题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/29/20210829000450548.jpg" alt=""></p>
<h2 id="（2）第二题，下图为仅供参考可能出现相类似的题型（12分）"><a href="#（2）第二题，下图为仅供参考可能出现相类似的题型（12分）" class="headerlink" title="（2）第二题，下图为仅供参考可能出现相类似的题型（12分）"></a>（2）第二题，下图为仅供参考可能出现相类似的题型（12分）</h2><p>练习六，第1题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/29/20210829000523345.jpg" alt=""></p>
<h2 id="（3）第三题，下图为仅供参考可能出现相类似的题型（12分）"><a href="#（3）第三题，下图为仅供参考可能出现相类似的题型（12分）" class="headerlink" title="（3）第三题，下图为仅供参考可能出现相类似的题型（12分）"></a>（3）第三题，下图为仅供参考可能出现相类似的题型（12分）</h2><p>练习十七，第1题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/29/20210829000547612.jpg" alt=""></p>
<h2 id="（4）第四题，下图为仅供参考可能出现相类似的题型（12分）"><a href="#（4）第四题，下图为仅供参考可能出现相类似的题型（12分）" class="headerlink" title="（4）第四题，下图为仅供参考可能出现相类似的题型（12分）"></a>（4）第四题，下图为仅供参考可能出现相类似的题型（12分）</h2><p>练习二十，第1题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/29/20210829000621865.jpg" alt=""></p>
<h2 id="（5）另外三题，第五题8分，第六、七题12分"><a href="#（5）另外三题，第五题8分，第六、七题12分" class="headerlink" title="（5）另外三题，第五题8分，第六、七题12分"></a>（5）另外三题，第五题8分，第六、七题12分</h2><p>仅提供思考范围，自行作为参考复习<br>练习十～练习十六，练习十五不用看（光学部分）</p>
<h1 id="三、本图仅作参考"><a href="#三、本图仅作参考" class="headerlink" title="三、本图仅作参考"></a>三、本图仅作参考</h1><p>从往年考卷题型进行分析所得题型分析，不涉及原题分析，如有雷同，不胜荣幸</p>
]]></content>
      <categories>
        <category>考试资料</category>
      </categories>
      <tags>
        <tag>大物</tag>
      </tags>
  </entry>
  <entry>
    <title>赛博朋克2077捏脸数据</title>
    <url>/067-cyberpunk2077/</url>
    <content><![CDATA[<p>皮肤04</p>
<p>发型12</p>
<p>眼睛12</p>
<p>眉毛6</p>
<p>鼻子12</p>
<p>嘴巴9</p>
<p>下巴3</p>
<p>耳朵18</p>
<p>义体2</p>
<p>穿环9</p>
<p>牙齿0</p>
<p>眼妆3</p>
<p>唇妆1</p>
<p>面妆关</p>
<p>颜色自己调</p>
]]></content>
      <categories>
        <category>游戏体验</category>
      </categories>
      <tags>
        <tag>赛博朋克2077</tag>
        <tag>捏脸</tag>
      </tags>
  </entry>
  <entry>
    <title>小米无线充电桩惊了我</title>
    <url>/059-xiaomi-wireless-charging/</url>
    <content><![CDATA[<p>有5m以内5w充电，就会有20m以内100w充电。好家伙，以后直接偷邻居电用。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224829.webp" alt=""></p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>充电桩</tag>
      </tags>
  </entry>
  <entry>
    <title>正联导剪版第一观感</title>
    <url>/070-justice-league/</url>
    <content><![CDATA[<p>什么他妈的叫他妈的正义联盟，扎克施奈德牛逼！！！！！！！！！<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225225.webp" alt=""></p>
]]></content>
      <categories>
        <category>影视观赏</category>
      </categories>
      <tags>
        <tag>正义联盟</tag>
        <tag>扎斯林</tag>
        <tag>扎克施耐德</tag>
        <tag>扎导</tag>
        <tag>DC</tag>
      </tags>
  </entry>
  <entry>
    <title>此刻正是一枝花</title>
    <url>/069-flower-now/</url>
    <content><![CDATA[<p>由于不可抗力，上学期换了一个宿舍。新宿舍卫生实在是太糟糕，我的床位也实在是过于单调和邋遢，这学期发动部分室友打扫宿舍卫生。同时买了许多东西装饰美化一下我的床位，给自己带来便利，也让接下来的考研生活变得更丰富多彩。<br>经过一番整理之后，心情也变得更好。</p>
<p>在自己的床位上面下了点功夫，这是最终效果。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131543.jpg" alt=""></p>
<p>首先就是桌纸，感觉有点花了，适合看书听歌，修身养性😄<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210304_223827.jpg" alt=""></p>
<p>桌子上的零食盒，一直用个纸箱子，现在换了一个塑料盒子😊<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131742.jpg" alt=""></p>
<p>台灯原来是放在桌子上的那种类型，现在买一个吊灯类型，桌子上腾出一点空间了😉<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_132109.jpg" alt=""></p>
<p>零钱罐原来是个用爆米花盒子装的，太简陋了，干脆买了一个新的存钱罐😋<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_132009.jpg" alt=""></p>
<p>利用一下墙面空间，买了两个挂钩放手表和耳机🤠<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_132139.jpg" alt=""></p>
<p>书包和电脑一直就直接放地上，才意识到很脏，买了个盒子放书包和电脑🤡<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131907.jpg" alt=""></p>
<p>之前洗衣服都是用自行车前框装衣服去洗的，换了个洗衣筐<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_132311.jpg" alt=""></p>
<p>之前一直没镜子，头发吹都不知道怎么吹好的，有镜子就舒服多了👋<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_132412.jpg" alt=""></p>
<p>买了两个夜灯放柜子里，正好打开一靠近就亮，有时候理衣服，拿衣服，看都看不清，上面放了些接下来会用的衣服<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131931.jpg" alt=""></p>
<p>下面柜子里放了些夏季衣服<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131938.jpg" alt=""></p>
<p>之前鞋子全部是摊在地上的，太邋遢了，买了个鞋架就好多了😐<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_132334.jpg" alt=""></p>
<p>蚊子🦟快来了，感觉装上蚊帐，这个外面是蚊帐，里面是帘子，架子搭好，套上去就行了，安装比较方便<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131555.jpg" alt=""></p>
<p>我这堵墙，很不隔音，晚上隔壁又喜欢发神经，干脆买点隔音棉挡挡，效果不错，这两天啥也听不见了，终于可以安稳睡觉了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210304_204026.jpg" alt=""></p>
<p>洗澡间本来这些东西都是放地上的，浴球更是没地方放，只能放脸盆里，买了个置物架好多了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210304_204126.jpg" alt=""></p>
<p>洗漱台这些也一样，有了个置物架，方便很多<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210304_204113.jpg" alt=""></p>
<p>原来这里放着的脸盆架是蓝色的，上面全是黑黑的不知道什么东西，感觉买了一个，把原来的扔了，原来那个真是太脏了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210303_182916.jpg" alt=""></p>
<p>洗漱台原来上面都是黄的黑的，和蹲厕里面那种颜色一样，快吐了🤮，发动了一个室友两个人拿刷子好不容易刷干净的<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210303_182910.jpg" alt=""></p>
<p>就像上面说的，这里原来比外面的公共厕所还要脏，另外三个室友竟然无动于衷。不过我受不了这么臭，这么脏，把这个搞干净了<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210303_182858.jpg" alt=""></p>
<p>原来洗澡间，不知道墙上板上都是些什么，黄黄的，黑黑的，板子上都已经成菌斑了，一大片一大片，一走进去正面这堵墙，全是黄的。那刷子加洗衣液兑水，刷了五六回才干净的(摊上邋遢室友，太难受了🤢)<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210303_182850.jpg" alt=""></p>
<p>今年要考研了，问了室友买副对联可以不，都没啥意见，我就买来贴了。最后这段时间了，也不用多理他们，管自己就行，打扫整理纯粹为了自己心情愉悦，有个好的宿舍环境，这样学习动力也多一些。</p>
<p>总之祝今年2022考研上岸，诸事皆顺！🙏🙏🙏<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131329__01.jpg" alt=""></p>
<p>这学期课总体轻松点，刚开始一节Linux，作为酷安基佬，玩Linux不是基本操作，去年已经黑苹果、deepin、ubuntu、centos都玩过一圈了，这学期可以轻松应付。</p>
<p>不得不说，黑苹果里装虚拟机，流畅度还是不错的，相比于win流畅许多。用VMware Fusion，网卡声卡硬盘显卡等问题也都能避免出现，好评。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/11/Snipaste_2021-03-05_14-15-58.png" alt=""></p>
<p>在经过分辨率调整，换源之后，就是最终安装好的成品了<br>华为镜像源是真的好看，用镜像速度也是真的快😎<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/11/Snipaste_2021-03-05_14-31-53.png" alt=""></p>
<p>区块链操作读取也成功运行<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/Snipaste_2021-01-23_02-39-09.png" alt=""></p>
<p>很早以前，考博的老师就给了我一个树莓派，让我在Linux下编译C++版opencv，从此就踏上了Linux和深度学习这条路，而现在，即将考研，今年形势极其严峻，上海大学等诸多大学的分数线已经什么说明了当今内卷严重，我辈还需努力<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/emoticon_0227_171339.png" alt=""></p>
<p>在如今这个内卷的形势下，我需要捡漏而不是硬钢<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/Screenshot_20210305-115501.jpg" alt=""></p>
<p>找了几个研友，四个女生，一个男生，打算在图书馆的位子买在附近，一块备考<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/0226_111317.png" alt=""></p>
<p>此刻正是一枝花，未来虽然布满荆棘，但是只要专注于此刻，做好准备工作，当未来来临之际，也不至于手足无措</p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>床位</tag>
        <tag>整理</tag>
      </tags>
  </entry>
  <entry>
    <title>考研初记录</title>
    <url>/071-preliminary-record/</url>
    <content><![CDATA[<p>吃完饭在图书馆下面遇到只猫，顺手就拍了下来</p>
<p>图书馆买的ViP位子很舒服，安静、有插头，iPad配的是18w的快充头，一加8T用的是以前一加7pro的头，65W原装的放宿舍。两根线往理线口一放，整洁很多，iPad插根耳机(无线的会用的没电，耐久不行)听课，手机放旁边用CoStudy记录时间，氛围蛮有感觉的</p>
<p>现在用全书+660，积分还没看到，大题没做过，过两天看看1k题里的大题。泰勒用的不多，没有仔细记，明天上午看看，函数定义的题都比较难，找了隔壁的大佬看了下他的归纳，他也说难，多做点题就行了，建议现在再刷刷题，过两天再看看</p>
<p>英语背了快5个月了，词汇量从荒废的3k提升到近7k了，做完英一09年第一篇阅读，全对很高兴，做完想背下里面的生词，墨墨云词库一搜，发现英一英二真题都有归纳，好评！做完第二天背的时候可以复习下生词，比较有效率</p>
<p>做阅读相当于看小说了，对里面的观点还是比较认同的</p>
<p>总之任重道远，吾辈还需加油 </p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>千山暮雪向谁去</title>
    <url>/072-whom-to-go/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225338.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>摄影记录</category>
        <category>植物欣赏</category>
      </categories>
      <tags>
        <tag>桃花</tag>
      </tags>
  </entry>
  <entry>
    <title>考研三月复盘</title>
    <url>/073-march-resumption/</url>
    <content><![CDATA[<p>路过操场，一抹红叶倒是格外的引人注意。</p>
<p>回顾一下三月份，平均每天复习6个小时，有点拉胯，之后要调整一下时间，争取每天复习时间7-8小时</p>
<p>大部分时间还是在高数上，目前微分方程已经结束，还有多元微分和二重积分就结束一轮基础了，在做660，正确率55%，群里问的题倒是都能有思路做出来。一块考研的隔壁大佬660正确率72%，数学有天赋。等一轮结束，还要理一理框架，啃一下难点再去看线代</p>
<p>英语方面，用墨墨，每天233个，墨墨抗遗忘蛮强的，就是慢一点，背到现在，满打满算也就2300+，不过词汇量快8k了，还是蛮不错的。现在阅读，长难句，完形，翻译，新题型视频都在看，英一阅读真题也在做。不过前几天没看，在赶数学进度，今天看了完形视频</p>
<p>草稿纸和笔芯准备了很多很多，现在用掉一部分草稿纸，估计有100+，笔芯黑笔用完了又买了一堆。这方面资源可以短时间内不用愁了</p>
<p>和五个小伙伴一块考研，四个女生，一个男生大佬，给女生买了点柠檬茶，女生给了我点糖，顺便问了一些题，由于大家考的学校都不同，没有什么冲突，很不错</p>
<p>和一个目标院校今年上岸的学长聊，发现他原来去年考上了985，但是女朋友没考上985所以没去，今年跟着女朋友考的学校又考了一遍，真的流弊。他说我的进度还行，不过我觉得有点慢，得加加速，比如专业课要开始看起来了，打开Clion，敲了第一行代码(群友发了一张表情包，10多个bug，忍不住敲了下)</p>
<p>最近一个月，就是一般般，和喝凉白开一样，没什么特别的滋味，但又很解渴。吾辈任重道远，还需努力，加油 </p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>雨花台游记</title>
    <url>/074-yuhuatai-travel/</url>
    <content><![CDATA[<p>来到了雨花台，感受到了浓烈的氛围，一股令人由衷肃穆的感觉。</p>
<p>一路上，遇到了两位老人，他们说，参加了抗美援朝、西藏平叛。听到这里令人不禁肃然起敬，那些书本上的历史，正是他们的人生经历。</p>
<p>老人说，他在抗美援朝被炸弹扎伤，右耳失聪，两耳严重损坏，白细胞损失了大半。但他还想回到这片埋葬着他战友的土地上，在这里，他能想起他曾经为祖国热血拼搏的岁月。这就是信仰的力量，一份根植内心，使人前仆后继的信仰，一份让人年至90仍步伐铿锵有力的信仰。此次之行，也让我加深了对这份信仰的坚定之心！</p>
<p>4月5日，有感记</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225433.webp" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225445.webp" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225458.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>雨花台</tag>
      </tags>
  </entry>
  <entry>
    <title>如人饮水</title>
    <url>/075-like-drinking-water/</url>
    <content><![CDATA[<p>眼看他起朱楼，眼看他宴宾客，眼看他楼塌了。</p>
<p>体会了一把凌晨两点读书的感觉，体会了一把被英语老师教Java的感觉。</p>
<p>日子过的像喝凉白开，没什么滋味，但是解渴。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225607.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225618.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225627.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225638.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>摄影记录</category>
        <category>植物欣赏</category>
      </categories>
      <tags>
        <tag>桃花</tag>
      </tags>
  </entry>
  <entry>
    <title>考研四月复盘</title>
    <url>/078-april-resumption/</url>
    <content><![CDATA[<p> 一转眼就来到了4.20，时间过得真的好快</p>
<p>来说一下进度，数学目前高数基础课视频过一遍，660一阶过了两遍，正确率64%，接下来要对照着对错题去复习公式概念<br>线代刚看到第二章，660的题也在开始做起来了。同时高数660二阶，880，300可以稍微写一写</p>
<p>目前高数三大计算部分感觉还可以，例如图3的第267题，答案根据对称性来做，我没用这个性质，把根号换成其他元做也可以，感觉略微快一些</p>
<p>最难受的，是概念题，物理应用，中值证明和积分微分应用。武老师说这是强化需要攻克的难点，现在就没有过多去解决这些题</p>
<p>英语部分，用墨墨，已经背了170+天了(可见动态置顶)，手上这本单词书，前一百页已经背的七七八八了。4月初拿墨墨测了下词汇量，大概有8k左右，感觉有点虚，6-7k撑死了</p>
<p>我考英二，先用英一练练手。英一09年第一篇全对，第二三篇各错两个，第四篇错一个；英一10年第一篇错三个，第二篇错四个，第三篇和第四篇各错两个，当时做完直接心态爆炸，查了下才知道10年阅读最难的</p>
<p>今天做了英一11年第一篇阅读，全对感觉蛮不错的，10年之后难度逐渐稳定，这样做下去，英语应该不会太差</p>
<p>专业课晚上图书馆闭馆之后，回去教学楼自修教室看一看，不过那里的楼管阿姨老是到了22:30左右就来赶我们走了，很无奈，专业课只能看30分钟多一点</p>
<p>目前作息是早上6点半起床，背单词，看阅读课或者刷篇阅读(有时候不搞，一周2-3次)，然后线代基础视频。下午和晚上就留给高数了，一直到22点，看专业课，然后回去洗漱下就睡了。日子过得就像喝凉白开，没什么滋味，但是很解渴</p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
        <tag>线代</tag>
        <tag>高数</tag>
        <tag>660</tag>
        <tag>墨墨背单词</tag>
      </tags>
  </entry>
  <entry>
    <title>Vim初体验</title>
    <url>/079-vim-experience/</url>
    <content><![CDATA[<p>宇宙第一IDE吗，人道主义情怀满分<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225745.png" alt="Vim"></p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>IDE</tag>
        <tag>VIM</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>校园导航系统</title>
    <url>/082-campus-navigation/</url>
    <content><![CDATA[<h1 id="1-问题概述"><a href="#1-问题概述" class="headerlink" title="1.问题概述"></a>1.问题概述</h1><p>综合运用所学的数据结构知识解决一个关于学校导航系统的问题，侧重对图的相关内容特别是求最短路径的应用，使得能进一步熟悉掌握数据结构的基础知识，进一步提升自己的解决问题和编程调试能力，为后续专业课程的学习打下基础。</p>
<h1 id="2-系统需求分析"><a href="#2-系统需求分析" class="headerlink" title="2.系统需求分析"></a>2.系统需求分析</h1><p>设计学校的平面图，至少包括30个以上的场所，每两个场所间可以有不同的路，且路长也可能不同，找出从某个场所到达另一场所的最佳路径。<br>求最短路径用Floryd算法实现。</p>
<h1 id="3-系统概要设计"><a href="#3-系统概要设计" class="headerlink" title="3.系统概要设计"></a>3.系统概要设计</h1><h2 id="3-1系统主要功能"><a href="#3-1系统主要功能" class="headerlink" title="3.1系统主要功能"></a>3.1系统主要功能</h2><p>系统的主要功能是实现两个建筑之间的导航以及信息查询<br>主要包括:</p>
<p>(1)查询起点与终点</p>
<p>(2)计算两点之间的距离</p>
<p>(3)求两点之间的最短路径</p>
<p>(4)添加一个景点</p>
<h2 id="3-2系统的总体结构"><a href="#3-2系统的总体结构" class="headerlink" title="3.2系统的总体结构"></a>3.2系统的总体结构</h2><h3 id="1-将校园平面图绘制为无向图并标各点和权值"><a href="#1-将校园平面图绘制为无向图并标各点和权值" class="headerlink" title="(1)将校园平面图绘制为无向图并标各点和权值"></a>(1)将校园平面图绘制为无向图并标各点和权值</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824154659.png" alt=""></p>
<h3 id="2-结构图设计"><a href="#2-结构图设计" class="headerlink" title="(2)结构图设计"></a>(2)结构图设计</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824154854.png" alt="图3.2.1校园导航系统计结构图"></p>
<h3 id="3-图的制作"><a href="#3-图的制作" class="headerlink" title="(3)图的制作"></a>(3)图的制作</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824154949.png" alt="图3.2.2图的制作"></p>
<h3 id="4-最短路径计算"><a href="#4-最短路径计算" class="headerlink" title="(4)最短路径计算"></a>(4)最短路径计算</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155049.png" alt="图3.2.3最短路径计算"></p>
<h3 id="5-图的制作"><a href="#5-图的制作" class="headerlink" title="(5)图的制作"></a>(5)图的制作</h3><p>①载入顶点数、边数、权值<br>②建立顶点表和边表，构建邻接表</p>
<h3 id="6-最短路径计算"><a href="#6-最短路径计算" class="headerlink" title="(6)最短路径计算"></a>(6)最短路径计算</h3><p>①利用Floryd算法计算各个顶点之间最短路径<br>②输出最短路径</p>
<h3 id="7-添加景点"><a href="#7-添加景点" class="headerlink" title="(7)添加景点"></a>(7)添加景点</h3><p>对类中对象进行修改即可</p>
<h2 id="3-3数据结构的设计"><a href="#3-3数据结构的设计" class="headerlink" title="3.3数据结构的设计"></a>3.3数据结构的设计</h2><p>校园导航数据结构类型如下:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155157.png" alt=""></p>
<h1 id="4-系统详细设计"><a href="#4-系统详细设计" class="headerlink" title="4.系统详细设计"></a>4.系统详细设计</h1><p>①根据系统总体结构对问题进行的模块划分，对总的问题可划分为:校园地图的制作、校园地图的展示、计算两地点最短路径<br>②在主函数中创建了Map类型guide变量，为map变量申请一个邻接表空间<br>③调用InMap(map)函数初始化地图，调用CreateMap(map)函数创建地图<br>④调用ShortWay(map)函数计算两点之间的最短路径，调用ShowShortWay(begin, end)函数输出两点之间的最短路径<br>⑤调用Add(map)函数进行添加景点</p>
<h2 id="4-1校园地图的制作-InMap-MapBox-map-、CreateMap-MapBox-map"><a href="#4-1校园地图的制作-InMap-MapBox-map-、CreateMap-MapBox-map" class="headerlink" title="4.1校园地图的制作(InMap(MapBox map)、CreateMap(MapBox map))"></a>4.1校园地图的制作(InMap(MapBox <em>map)、CreateMap(MapBox </em>map))</h2><h3 id="1-InMap-MapBox-map"><a href="#1-InMap-MapBox-map" class="headerlink" title="(1)InMap(MapBox *map)"></a>(1)InMap(MapBox *map)</h3><p>①用来初始化地图，该函数实现过程中首先将32个顶点数赋给map-&gt;topnum，59条边赋给map-&gt;edgenum。将每个点之间的权值赋给distance数据储存</p>
<p>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155241.png" alt=""></p>
<h3 id="2-CreateMap-MapBox-map"><a href="#2-CreateMap-MapBox-map" class="headerlink" title="(2)CreateMap(MapBox *map)"></a>(2)CreateMap(MapBox *map)</h3><p>①用来创建地图，该函数实现过程中首先定义一个边结点指针e。然后先用for来读取顶点信息，利用了strvpy函数，将mapname[i]中储存顶点名称传给map-&gt;Box[i].data，以此来读取顶点信息，并且将每个顶点对应的边头指针初始化，以达到将边表制空的目的。<br>再利用for循环，采用头插法创建边表。判断条件，当无向图两个点之间存在路径的时候，将两点之间的距离赋给temp变量。<br>为变量e申请新的空间来存放对应的下标、后继的地址、权值。将j赋给e-&gt;script作为入度下标，将两点的权值temp赋给e-&gt;weight。再利用e-&gt;next = map-&gt;Box[i].edgefirst和map-&gt;Box[i].edgefirst = e将边结点的头指针与后继相连接<br>为变量e申请新的空间来存放对应的下标、后继的地址、权值。将i赋给e-&gt;script作为出度下标，将两点的权值temp赋给e-&gt;weight。再利用e-&gt;next = map-&gt;Box[j].edgefirst和map-&gt;Box[j].edgefirst = e将边结点的头指针与后继相连接</p>
<p>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155328.png" alt=""></p>
<h2 id="4-2校园地图的展示"><a href="#4-2校园地图的展示" class="headerlink" title="4.2校园地图的展示"></a>4.2校园地图的展示</h2><h3 id="1-用来显示校园平面图，该函数实现过程中首先将制作好的校园平面图命名为SchoolMap并存放在Project1中等待调用。在主函数中使用system函数，执行system-“mspaint-SchoolMap-png”-来使用Win10自带画板打开SchoolMap，使校园平面图得到调出，让用户直观了解学校景点信息，以及便于选择需要查询的景点信息和最短路径"><a href="#1-用来显示校园平面图，该函数实现过程中首先将制作好的校园平面图命名为SchoolMap并存放在Project1中等待调用。在主函数中使用system函数，执行system-“mspaint-SchoolMap-png”-来使用Win10自带画板打开SchoolMap，使校园平面图得到调出，让用户直观了解学校景点信息，以及便于选择需要查询的景点信息和最短路径" class="headerlink" title="(1)用来显示校园平面图，该函数实现过程中首先将制作好的校园平面图命名为SchoolMap并存放在Project1中等待调用。在主函数中使用system函数，执行system(“mspaint SchoolMap.png”)来使用Win10自带画板打开SchoolMap，使校园平面图得到调出，让用户直观了解学校景点信息，以及便于选择需要查询的景点信息和最短路径"></a>(1)用来显示校园平面图，该函数实现过程中首先将制作好的校园平面图命名为SchoolMap并存放在Project1中等待调用。在主函数中使用system函数，执行system(“mspaint SchoolMap.png”)来使用Win10自带画板打开SchoolMap，使校园平面图得到调出，让用户直观了解学校景点信息，以及便于选择需要查询的景点信息和最短路径</h3><h3 id="2-操作实现"><a href="#2-操作实现" class="headerlink" title="(2)操作实现"></a>(2)操作实现</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155422.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155543.png" alt=""></p>
<h2 id="4-3计算两地点最短路径-ShortWay-MapBox-map-、ShowShortWay-int-begin-int-end"><a href="#4-3计算两地点最短路径-ShortWay-MapBox-map-、ShowShortWay-int-begin-int-end" class="headerlink" title="4.3计算两地点最短路径(ShortWay(MapBox *map)、ShowShortWay(int begin, int end))"></a>4.3计算两地点最短路径(ShortWay(MapBox *map)、ShowShortWay(int begin, int end))</h2><h3 id="1-ShortWay-MapBox-map"><a href="#1-ShortWay-MapBox-map" class="headerlink" title="(1)ShortWay(MapBox *map)"></a>(1)ShortWay(MapBox *map)</h3><p>①利用Floryd算法计算各个顶点之间最短路径，该函数实现过程中首先用两层for循环初始化，用if判断，若两点之间不存在路径并且不是相同的点，则将权值赋为10000,然后将每个结点对应的最短路径和下标信息分别初始化为distance[i][j]和下标j，以此来引入一个矩阵法S<br>利用三层循环判断最短路径，对引入的矩阵S进行k次更新，第一个顶点为中介，若shortdistance[i][j] &gt; shortdistance[i][0] + shortdistance[0][j]，将shortdistance[i][j]更新为shortdistance[i][0] + shortdistance[0][j]，同理，第k次更新时，如果shortdistance[i][j] &gt; shortdistance[i][k] + shortdistance[k][j]，则将shortdistance[i][j]更新为shortdistance[i][k] + shortdistance[k][j]。更新k次之后，操作即可完成。此时shortdistance[i][j]之中储存的即为每个顶点到其他顶点之间的最短路径距离，而shortpath中储存最短路径对应的信息。<br>图解如下:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155459.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155611.png" alt=""></p>
<p>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155712.png" alt=""></p>
<h3 id="2-ShowShortWay-int-begin-int-end"><a href="#2-ShowShortWay-int-begin-int-end" class="headerlink" title="(2)ShowShortWay(int begin, int end)"></a>(2)ShowShortWay(int begin, int end)</h3><p>①用来输出路径长度和具体路径，该函数实现过程中首先定义一个temp变量。<br>输出地点名字、两点之间的最短距离，然后将两点间最短路径的下标信息temp = shortpath[begin][end]赋给temp变量。<br>之后利用while输出两点之间的最短路径，判断条件为temp不等于终点数值，若不相等，输出mapname[temp]，令temp赋为shortpath[temp][end]，如此循环，输出两点之间最短路径的具体路径。</p>
<p>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155745.png" alt=""></p>
<h3 id="4-4景点的添加"><a href="#4-4景点的添加" class="headerlink" title="4.4景点的添加"></a>4.4景点的添加</h3><p>mapname数组添加元素进行点的添加，distance数组添加元素进行边的添加</p>
<h1 id="5-系统的测试及调试"><a href="#5-系统的测试及调试" class="headerlink" title="5.系统的测试及调试"></a>5.系统的测试及调试</h1><p>系统的测试及调试是为了发现程序中错误而执行程序的过程。</p>
<h2 id="5-1运行过程"><a href="#5-1运行过程" class="headerlink" title="5.1运行过程"></a>5.1运行过程</h2><p>(1)进入主界面，进入选择界面<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155832.png" alt=""><br>(2)显示地图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155904.png" alt=""><br>(3)添加一个景点<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824155932.png" alt=""><br>(4)查询两点之间最短路径<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824160015.png" alt=""></p>
<h2 id="5-2系统调试过程中遇到的问题"><a href="#5-2系统调试过程中遇到的问题" class="headerlink" title="5.2系统调试过程中遇到的问题"></a>5.2系统调试过程中遇到的问题</h2><p>(1)每次只能进行一次查询，并不能进行多次查询<br>错误原因:没有对代码进行完善<br>解决方案:添加一个while循环，使得用户可以进行多次查询</p>
<p>(2)校园平面图输出复杂，容易出现地图混乱的情况<br>错误原因:输出一幅图的处理不当<br>解决方案:采用system函数直接将已经绘制完成的校园平面图进行调用</p>
<h1 id="6-用户手册"><a href="#6-用户手册" class="headerlink" title="6.用户手册"></a>6.用户手册</h1><p>(1)本系统执行文件为Project1.sln<br>(2)进入系统界面后，根据提示，在校园平面图中查找对应的地点，输入两点信息<br>(3)两点输入为整型</p>
<h1 id="7-总结"><a href="#7-总结" class="headerlink" title="7.总结"></a>7.总结</h1><p>通过对校园导航系统的设计，我对数据结构又有了进一步的了解与掌握，尤其是对其中的一些地方又有了深刻的理解，使得对知识有了进一步的加深。使求最短路径的算法有了更深一个层次的掌握，更进一步的把握，希望将来可以用来解决更加切合实际的问题，从而达到学以致用的目的。还明白了在做一个系统之前还应该做好全面的安排，对一个系统的整个流程及功能实现有一个很好的统筹。另在遇到困难不能解决时，应查资料或问其它懂的同学，参考一下意见，再结合自己的想法，最后实现自己想实现的功能。在本次设计中我发现细节有时候很重要，又是一个很小的问题都可能导致失败，所以细心非常重要。</p>
<h1 id="8-参考文献"><a href="#8-参考文献" class="headerlink" title="8.参考文献"></a>8.参考文献</h1><p>[1] 张磊编著《C语言程序设计教程第2版》 中国铁道出版社<br>[2] 薛小龙编著《开发日记：深入体验C语言项目开发》清华大学出版社<br>[3] 刘字君张月琴叶瑶王庆生编著《C+理序设计案例分析》 清华大学出版社</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>C++学习笔记</category>
        <category>数据结构学习笔记</category>
      </categories>
      <tags>
        <tag>VS2019</tag>
        <tag>Floryd</tag>
        <tag>栈</tag>
        <tag>链表</tag>
      </tags>
  </entry>
  <entry>
    <title>泰勒公式速记</title>
    <url>/080-taylor-formula/</url>
    <content><![CDATA[<p>指对函数123，正弦函数135，正弦对数隔一换，正弦指数有感叹。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/28/20210828235903071.jpg" alt=""></p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
        <tag>泰勒</tag>
      </tags>
  </entry>
  <entry>
    <title>记五四</title>
    <url>/081-may-4th/</url>
    <content><![CDATA[<p>我们当初之所以达到了今天的高度，靠的正是放低姿态，不放过任何一个知识点，和提高自己的机会。我们一切行动力的来源，正是来源于内心对目标的渴望和追求。<br>——记五四青年节</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225851.png" alt=""></p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>人生不易 且行且珍惜</title>
    <url>/083-life-is-not-easy/</url>
    <content><![CDATA[<p>打在胎里就随时有可能流产</p>
<p>当妈的一口烟就可能长成畸形</p>
<p>长慢了心脏缺陷 长快了就六指</p>
<p>好容易扛过十个月生出来了</p>
<p>一不留神 还得让产夹钳把脑袋夹扁了</p>
<p>都多过去了 小儿麻痹 百日咳</p>
<p>猩红热 大脑炎 还在前边等着呢</p>
<p>哭起来呛奶 走起来摔跤</p>
<p>摸水水烫 碰火火燎</p>
<p>是个东西撞上 咱就是个半死</p>
<p>钙多了不长个 钙少了吧罗圈腿</p>
<p>总算混到会吃饭能出门了</p>
<p>天上下雹子 地下跑骑车</p>
<p>大街小巷是个暗处就躲着坏人</p>
<p>你说赶上谁都是个九死一生</p>
<p>不送命也得落个残疾</p>
<p>这都是明枪 还有暗箭呢 </p>
<p>势利眼 冷脸子 闲言碎语 指桑骂槐</p>
<p>好了遭人嫉妒 差了让人瞧不起</p>
<p>忠厚人家说你傻 精明了人家说你奸</p>
<p>冷淡了大伙说你傲 热情了群众说你浪</p>
<p>走到前边挨闷棍 走到后边全没份</p>
<p>但是生而为人 我很精彩！就凭这九死一生我也得打起精神去走一走那非线性人生</p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>百日咳</tag>
        <tag>挨闷棍</tag>
        <tag>非线性人生</tag>
      </tags>
  </entry>
  <entry>
    <title>运动会里观健康</title>
    <url>/085-view-health/</url>
    <content><![CDATA[<p>3000被套两圈 最后一名 用时20min</p>
<p>本意料之中的事 却给了我一次警醒</p>
<p>看着不胖 肉肉一圈 亚健康状态 身体素质堪忧</p>
<p>考研结束 无论结果如何 身体该有个规划 恢复一下状态</p>
<p>考研期间 要控制饮食 戒糖 戒可乐 戒汉堡 戒高脂肪 戒高热量 清淡饮食 早睡早起 养成良好作息</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230139.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>3000m</tag>
        <tag>运动会</tag>
        <tag>亚健康</tag>
      </tags>
  </entry>
  <entry>
    <title>《一枝花·不伏老》</title>
    <url>/084-flower-never-old/</url>
    <content><![CDATA[<p>我是个蒸不烂、煮不熟、捶不匾、炒不爆、响珰珰一粒铜豌豆，恁子弟每谁教你钻入他锄不断、斫不下、解不开、顿不脱、慢腾腾千层锦套头？我玩的是梁园月，饮的是东京酒，赏的是洛阳花，攀的是章台柳。</p>
<p>我也会围棋、会蹴鞠、会打围、会插科、会歌舞、会吹弹、会咽作、会吟诗、会双陆。你便是落了我牙、歪了我嘴、瘸了我腿、折了我手，天赐与我这几般儿歹症候，尚兀自不肯休！则除是阎王亲自唤，神鬼自来勾。三魂归地府，七魄丧冥幽。天哪！那其间才不向烟花路儿上走！</p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>铜豌豆</tag>
        <tag>锦套头</tag>
        <tag>章台柳</tag>
      </tags>
  </entry>
  <entry>
    <title>记国士无双</title>
    <url>/086-remember/</url>
    <content><![CDATA[<p>上午有多坚定，这是假新闻；下午就有多难以置信，这是真消息。<br>一代人影响一代人，可谓国士无双，我也要做一粒好种子。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230221.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>种子</tag>
      </tags>
  </entry>
  <entry>
    <title>Waterfall development mode</title>
    <url>/087-waterfall/</url>
    <content><![CDATA[<ol>
<li>Strictly divide the development of a software project into various development stages: requirements analysis, definition of elements, basic design, detailed design, coding, unit testing, combination testing, system testing, etc.</li>
</ol>
<p>Using milestones, the inputs and outputs of each development phase are rigorously defined. If the required output is not met, the next phase of the work is not initiated.</p>
<ol>
<li>Focus on and emphasize the process documentation. The software prototype will only be seen in the middle and late stages of development, and the system can only be understood through the documentation early.</li>
</ol>
<p>In this case, the documentation seems to be more important than the code.</p>
<ol>
<li>The waterfall model defines each development phase as a black box and expects people in each phase to only care about the work of their own phase and not the work of other phases.</li>
</ol>
<p>The benefit is that it allows developers to focus more on their work and improve phase efficiency.</p>
<p>The downside is that:</p>
<p>A. Developers at all stages can only touch things within their work scope, so their understanding of customer needs varies from level to level. Developers are more defined as workers on an assembly line.</p>
<p>B. Coders tend to be more resistant to changes in customer requirements than designers.</p>
<p>C. At each stage of development, there is information that is deliberately kept from the people in other stages of development (the intention is to talk about efficiency, but in fact sometimes there is a mutual understanding bias).</p>
<ol>
<li><p>The management documents (plan, schedule) produced by the waterfall model can make people who do not know much about the project understand the progress of the project (only if they can understand the percentage), which is very suitable for reporting to the leader. So managers prefer the waterfall model, but developers don’t, because it restricts developers’ creativity.</p>
</li>
<li><p>Since it’s called a waterfall, it means there should be no turning back. Otherwise, if rework occurs, the price will be very high.</p>
</li>
</ol>
<p>The impact of bugs early in the software life cycle is much greater than later in the software life cycle.</p>
<p>The main reason for the high cost is that the pace of each development stage is too large, and each adjustment may break bones and muscles.</p>
<ol>
<li>It is more suitable for large projects with relatively stable demand.</li>
</ol>
<p>Agile development model:</p>
<p>The core is to iterate quickly and embrace change.</p>
<p>Because the ultimate goal is to satisfy customers, they can take the initiative to accept changes in requirements, which enables the software to be designed with flexibility and scalability.</p>
<p>Declaration:</p>
<p>Individuals and interactions trump processes and tools</p>
<p>Software that works is better than well-written documentation</p>
<p>Customer cooperation trumps contract negotiation</p>
<p>Responding to change over following a plan</p>
<p>Agile development model has the following salient characteristics:</p>
<ol>
<li><p>The story refinement.</p>
</li>
<li><p>Keep it simple and avoid overdoing it.</p>
</li>
<li><p>Repeat iterations.</p>
</li>
<li><p>Reduce unnecessary documentation.</p>
</li>
<li><p>The functions that customers care about most should be completed first.</p>
</li>
<li><p>Customers are required to have time to confirm the results of each iteration and put forward suggestions for improvement.</p>
</li>
<li><p>Showcase.</p>
</li>
<li><p>Communication is very important, and all developers should have the same understanding of the project activities. Enhance communication between teams and customers.</p>
</li>
<li><p>Test Driven Development (TDD)</p>
</li>
<li><p>Strong individual and team skills are required.</p>
</li>
<li><p>Agile management is self-management of the team and service-oriented management of the project manager.</p>
</li>
<li><p>Agile development cannot provide a complete cost plan for the project at the beginning.</p>
</li>
<li><p>It is not appropriate to start an iteration when there are technical issues that have not been resolved.</p>
</li>
<li><p>Agile practices: Morning Meetings, Deadlines, Lead Management, etc.</p>
</li>
</ol>
]]></content>
      <categories>
        <category>考试资料</category>
      </categories>
      <tags>
        <tag>学术</tag>
      </tags>
  </entry>
  <entry>
    <title>有时候也是会想的</title>
    <url>/088-sometimes/</url>
    <content><![CDATA[<p>春赏百花冬观雪，醒亦念卿，梦亦念卿。</p>
<p>晓看天色暮看云，行也思君，坐也思君。</p>
]]></content>
      <categories>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>念卿</tag>
      </tags>
  </entry>
  <entry>
    <title>六一快乐啊</title>
    <url>/089-happy-june-day/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230332.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230340.webp" alt=""></p>
]]></content>
      <categories>
        <category>动物大赏</category>
      </categories>
      <tags>
        <tag>六一</tag>
      </tags>
  </entry>
  <entry>
    <title>四十九事件有感</title>
    <url>/090-49event/</url>
    <content><![CDATA[<p>成都四十九中事件反应出敌人始终存在，并且即将有破土而出的趋势，他们等不及潜伏了。</p>
<p>让子弹飞或许指代的是我们从行动的那一刻，就已经向暗处的敌人射出了一颗子弹，而接下来沉住气，让自己的思路清晰，让视野开阔，让情绪沉淀，在这子弹时间里，看清敌人的所在与轮廓，看清对真相的欲求与正义的号角背后，藏着的是谁家的暗枪冷箭。</p>
<p>“让子弹多飞一会儿吧”</p>
<p>沈逸老师的课，受益匪浅，记下笔记。</p>
<p>所谓的势力，不管是境内还是境外的，有那么一股势力，它对于今天中国的发展的道路不满，对于今天中国老百姓，能够过上的这种生活不满，对于中国政府不满，想借一切机会，或者撕裂社会或者对立关系，甚至在一定程度上搞了一些类似于三十年前导致苏联最终走向解体的事情，这种势力是一种客观的存在。不是说所有都是，但它就在那，并且随着时间的流逝，这股势力会变得：第一，越来越焦虑，为什么焦虑，因为总体上中国的发展前行的方向，表现出来的态势，我们站在历史正确的那一方，它没有办法用常规的、低成本的方式来阻断我们。第二，有人愿意给这样的势力投钱，这涉及到主权国家之间的战略博弈，我们最大的战略竞争对手美国，国会正在讨论相关的法案，这个法案当中最大的单笔拨出之一，摆明了说连续五个财政年度，每年至少3亿美元，用来培养各种各样的媒体记者。用来干什么？对冲中国的影响。在哪里培养？在中国的内部和中国的外部，国内和国外同步，而在香港2019年以及我们还没有收复的领土台湾，真真实实存在着这种，你死我活的敌我的矛盾，有一小部分势力就是对着我们的政权，对着我们的制度，对着我们的模式和道路过来，对他们来说，任何题材、任何议题、任何信息只要有助于制造对立、撕裂、矛盾，增加不信任，就是可以被使用的，在他们采取行动之前，也很难提前全部地有效加以识别，更多的是需要在动态的信息博弈的过程当中加以识别、加以斗争，而这件事情，也不是靠一个部门、一两个人、一两个媒体就能完成的。是所有那些愿意把中国建设成为一个更加富强美好的社会主义现代化强国愿意为建设人类命运共同体共同做出努力的中国人一起努力的方向。</p>
<p>——6月7日有感记</p>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>让子弹飞</tag>
      </tags>
  </entry>
  <entry>
    <title>放假回家咯</title>
    <url>/091-go-home/</url>
    <content><![CDATA[<p>“我辞别了山，度过了江，划着一条小船，独自驶向人间的海洋。海风吹打我的面，海浪拍打我的船，却不曾淹没过我。”<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230619.webp" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>摄影记录</category>
      </categories>
      <tags>
        <tag>在路上</tag>
        <tag>回家</tag>
      </tags>
  </entry>
  <entry>
    <title>《莫斯科不相信眼泪》</title>
    <url>/093-moscow/</url>
    <content><![CDATA[<p>“将军们的妻子怎么都又老又丑？要是我，肯定能当个出色的将军夫人。”</p>
<p>“想当将军夫人，就得先嫁给中尉，跟他在边境上、森林里、沙漠上，过上20年。”         </p>
]]></content>
      <categories>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>将军夫人</tag>
      </tags>
  </entry>
  <entry>
    <title>黑苹果,浏览器,系统</title>
    <url>/097-blackapple/</url>
    <content><![CDATA[<p>1.火狐真好用 win mac Android iOS ubuntu 全能互通 体验又和谷歌一样 插件主题还极其丰富,还能直接装gnome扩展 装dash-to-dock这样的ubuntu桌面工具</p>
<p>2.ubuntu老流氓了 总是喜欢把自己的EFI放别人盘下面</p>
<p>3.真是没有完美的oc 键盘鼠标接口解决完了 usb接口又要开放 然后缓冲帧又要调蛮久</p>
<p>4.win mac linux都能日用了 但是类unix的文件管理真不错 win的注册表相比比较反人类</p>
<p>5.ohmyzsh很爽 踩雷几个坑 甚至搞的系统崩溃 好不容易救回来 不过解决完bug体验很爽</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>openSUSE</tag>
        <tag>Windows</tag>
        <tag>dash-to-dock</tag>
        <tag>gnome扩展</tag>
        <tag>OpenCore</tag>
        <tag>oh-my-zsh</tag>
        <tag>缓冲帧</tag>
      </tags>
  </entry>
  <entry>
    <title>难为知己难为敌</title>
    <url>/096-hard-confidant-enemy/</url>
    <content><![CDATA[<p>古语有云「难为知己难为敌」，从策略上讲，你和最大敌人若在一段时间内无法杀死对方，到最后反而会不舍得离开他，皆因彼此熟门熟路，相斗相倚。</p>
<p>这个人很冷漠很生人勿近，你怎么看也看不穿他的心的，更甭说想当他的朋友了；他同时又是个很厉害的角色，你肯定不能轻易嬴过他，所以当他的敌人也绝非一件好事。所以你和他之间皆非知己亦非敌人，是一种很微妙的关系。</p>
]]></content>
      <categories>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>难为知己难为敌</tag>
      </tags>
  </entry>
  <entry>
    <title>年轻人的第一篇期刊</title>
    <url>/098-periodicals/</url>
    <content><![CDATA[<p>不动声色 安心蛰伏 第一篇期刊get<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/24/20210824174622936.jpeg" alt=""></p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>期刊</tag>
        <tag>论文</tag>
        <tag>数字技术与应用</tag>
      </tags>
  </entry>
  <entry>
    <title>996ICU</title>
    <url>/099-996icu/</url>
    <content><![CDATA[<p>加入了反996活动 难以想象 这场运动已经在Github如此声势浩大了<br>主页添加了一些资料 反996活动的主办方 各种衍生链接 还有最重要的黑名单和白名单公司<br>所有项目都在GPL证书的前提下加入了Anti 996 License<br>一方面是提前给自己踩踩坑 了解一下996<br>另外一方面在自由开源的影响下 希望能够在这场活动中尽一份力<br>打算加入另外一个开源代码组织 已经提交了申请资料 在等审核通过<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826231226.webp" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826231238.webp" alt=""></p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>Anti996</tag>
      </tags>
  </entry>
  <entry>
    <title>自个做饭,贼舒服~</title>
    <url>/100-comfortable/</url>
    <content><![CDATA[<p>做的都是焖饭系列,做法也比较简单<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907025934035.jpg" alt="黑椒鸡肉"></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907025934067.jpg" alt="豌豆饭"></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907025934086.jpg" alt="咖喱鸡+鸡胸肉"></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907025934107.jpg" alt="肥牛焖饭"></p>
]]></content>
      <categories>
        <category>烹调之道</category>
      </categories>
      <tags>
        <tag>cooking</tag>
      </tags>
  </entry>
  <entry>
    <title>最近剁手的服务</title>
    <url>/101-services/</url>
    <content><![CDATA[<h1 id="1-博客"><a href="#1-博客" class="headerlink" title="1.博客"></a>1.博客</h1><p>博客搭建采用了GithubPage的服务，同时使用Github仓库做图床.</p>
<h2 id="图床工具"><a href="#图床工具" class="headerlink" title="图床工具"></a>图床工具</h2><p>手机端使用的是<a href="https://www.coolapk.com/apk/name.gudong.pic">咕咚云图</a>,这款软件是字节跳动的大佬开发的,做的比较有质感,Github上创建一个仓库,在软件中进行链接,就可以进行上传了.除此之外,还有七牛云、腾讯云COS、码云、又拍云、阿里云等图床的支持.<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907031127102.jpg" alt="咕咚云图设置页面"></p>
<p>软件是基础功能完全免费的,和市面上图床软件实现效果一样,不过大佬在市面上图床软件都实现的基础上,增加了一次多张图片上传的功能(需会员),WebDAV云备份功能(免费),<strong>35元的永久会员</strong>还可以接受,一次性买断,还能第一时间在微信体验新功能.和大佬聊过,人十分热情,给我激活码那一天,正好是这款软件换了一个新的后端的时候,我有幸成为新后端的第一个体验者.<br>这款软件最让人舒服的地方,就是能将软件配置,历史上传数据和图片预览全部备份到坚果云里面,坚果云配置好,每次软件配置发生变化或者上传新的图片,都能及时备份,并且备份文件只有几十KB,也能很好兼容坚果云默认云盘空间的弊端.而其他很多图床软件重新安装之后,你传过哪些图片,都不知道了,这也是我选择这款手机端图床软件的原因!<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907031314518.jpg" alt="咕咚云图预览"></p>
<p>至于在电脑端,Win下我使用的是大名鼎鼎的<a href="https://github.com/Molunerfinn/PicGo">PicGo</a>,Mac下我使用的是<a href="https://github.com/gee1k/uPic">uPic</a>,这两款软件都在Github开源使用,配置方法和手机上基本一致.唯一的缺点就是上传记录在软件卸载之后,会被清空,期待开发者这也能加入云同步功能.</p>
<p>无论是咕咚云图、PicGo还是uPic,都支持CDN加速,速度十分快速,尤其是使用Github做图床的时候,容量可以没有限制,访问速度又很快,确实是写博客必备的图床!</p>
<h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p>网站的域名是在腾讯云上进行的购买,YuZhangWang加个小数点就成为了网址<a href="https://yuzhang.wang/">YuZhang.Wang</a>,只要知道了YuZhangWang,就能顺便记住网址,还是比较有识别度的.一次性购买了十年的这个域名,价格<strong>400元不到</strong>,个人认为不长加上好记,这个价格不错了.</p>
<h2 id="SSL和CDN"><a href="#SSL和CDN" class="headerlink" title="SSL和CDN"></a>SSL和CDN</h2><p>SSL证书和CDN加速都是又拍云的免费服务,又拍云的CDN只要加入<a href="https://www.upyun.com/league">又拍云联盟</a>就可以免费使用了,而又拍云的免费SSL证书服务可以自动续费申请,这就剩去了每次手动申请SSL证书的麻烦了.</p>
<h1 id="2-云空间"><a href="#2-云空间" class="headerlink" title="2.云空间"></a>2.云空间</h1><p>先来整理一下,在不花钱的情况下,我拥有多少云空间</p>
<ul>
<li>2T <a href="https://pan.baidu.com/buy/checkoutcounter?from=homepage&amp;svip=1&amp;triggertco=1">百度网盘</a></li>
<li>1T <a href="https://www.aliyundrive.com/">阿里云盘</a></li>
<li>15G <a href="https://onedrive.live.com/about/zh-cn/">OneDrive</a></li>
<li>5G <a href="https://support.apple.com/zh-cn/HT201238">iCloud</a></li>
<li>3G <a href="https://www.jianguoyun.com/s/pricing">坚果云</a></li>
<li>1G <a href="https://plus.wps.cn/price?utm_buysource=epwps">WPS</a></li>
</ul>
<h2 id="百度网盘"><a href="#百度网盘" class="headerlink" title="百度网盘"></a>百度网盘</h2><p>因为考研的需要,百度网盘开了超级会员,目前容量是8T,上面主要存放漫威宇宙和DC宇宙的所有电影,极客软件资料,学习资料(正经的),考研资料.在考研结束之后,估计日常用处也就是放一些软件资料的备份了,至于下载可以使用IDM配合油猴脚本的直链来下载,影响倒不是很大.如果实在需要,可以短期再开一个会员用一下.</p>
<h2 id="阿里云盘"><a href="#阿里云盘" class="headerlink" title="阿里云盘"></a>阿里云盘</h2><p>最近才使用阿里云盘,一进去做一些任务就可以永久获得1T空间,我主要使用这1T空间备份QQ、微信和手机上的照片(手机上几万张照片,万一丢了很麻烦),以及在一些情况下,存一些阿里云链接的资料.你说隐私?大数据时代人人在网上都是赤身裸体,只有相对的隐私.阿里既然下场做网盘了,数据被盗取可能性不会很大,可以暂时相信一下.</p>
<h2 id="WPS和OneDrive"><a href="#WPS和OneDrive" class="headerlink" title="WPS和OneDrive"></a>WPS和OneDrive</h2><p>关于Office和WPS,我之前一直使用的是WPS,云同步很好用,打开马上上传,手机、iPad、电脑上可以实现完全同步和实时同步，不过缺点是普通用户云空间只有1G，而我又没有设置云函数打开获取云空间，大学几年用下来，竟然还没用完1G，当然中间用满过一次，把云空间清了重新再用.<br>由于两点,我最终换成Office,一点是非会员单个文件上传又10M的限制,一些大一点的论文根本没办法上传,另一点是之前我硬盘报废过一次,恐怖程度不亚于世界末日,花了很大功夫才把里面文档内容恢复了三分之一,由于云空间实在太小了,所以需要换一云空间大一点的服务.<br>于是乎我下单了Office365一年的服务,并且获得了5T的云空间,我想这下空间总够用了,文档处理终于可以一劳永逸了吧.没想到还是我太年轻了,坑就坑在OneDrive云同步上面.</p>
<p>我的OneDrive是世纪互联,也就是国内代理,服务器在国内,速度不同担心,同步也很快,Office本身打开文件也很快,动画也比较舒服.<br>但是Office的同步策略却很奇怪,例如我在D盘上面的文件要云同步,需要我手动按自动同步的按钮,我以为按一次就够了,下次我再打开这个文件,就能像WPS一样自动同步了,但是当我之后打开的时候,这个文件自动同步按钮还是关闭的,并不能自动同步.后来经过我研究发现,当我去C盘OneDrive的文件夹里打开里面云空间文件的时候,这个文件的自动同步按钮是打开的,也就是说,我每次本地打开编辑文件,都需要手动上传到OneDrive,只有打开OneDrive云端的文件才会自动同步,那这样还玩个锤子,我要的就是打开就同步,解放双手,做到自动各个平台一致,要我手动上传每次打开的文件,那不得麻烦死.想到这里,我还是把买的Office退了,老老实实用回WPS,开上了三年的WPS超级会员,也是<strong>400元不到</strong>,完事还送我一年的QQ绿钻.既然都开了超级会员,那就把电脑上的文档全部打开云同步一遍,最后一看也才用1.32G,365G的云空间还是太大了,估计5G其实就够了.想到8月31日前WPS有个活动可以免费升级永久5G,想想就后悔错过了.只能安慰自己,可以把自己写的巨型课设备份到云端,同步到各个设备了,并且未来三年都不缺文档云备份了.</p>
<h2 id="iCloud"><a href="#iCloud" class="headerlink" title="iCloud"></a>iCloud</h2><p>iCloud默认的云空间确实有点不够用了,加上几台苹果设备需要同步密码、浏览记录,以及GoodNotes一下子就能用掉将近2G.于是买了200g一年的空间,<strong>一个月21元</strong>还可以接受.众所周知,果黑的苹果设备是最多的.</p>
<h2 id="坚果云"><a href="#坚果云" class="headerlink" title="坚果云"></a>坚果云</h2><p>坚果云目前使用的服务又两个,一个就是上面提到的咕咚云图备份,另外一个是微博第三方客户端See的设置备份,我是头一回见到做的软件客户端本身更好用的第三方客户端.为什么不用Share,因为Share没有See设置更全面,See还有一些比较戳人痛点的实用功能,例如一键已读全部消息.</p>
<h1 id="3-软件增值"><a href="#3-软件增值" class="headerlink" title="3.软件增值"></a>3.软件增值</h1><h2 id="bilibili大会员"><a href="#bilibili大会员" class="headerlink" title="bilibili大会员"></a>bilibili大会员</h2><p>作为7年bilibili的用户,开个会员也能方便以后,于是开了连续包年的大会员,由于在促销时间段一年是<strong>168元</strong>,这也是几个会员里,让我感觉花的比较值得会员了.</p>
<h2 id="JetBrains全家桶"><a href="#JetBrains全家桶" class="headerlink" title="JetBrains全家桶"></a>JetBrains全家桶</h2><p>作为老JetBrains用户,当然是毫无疑问又续费一年了,一年价格大概是<strong>1500元</strong>,我常用五个软件,分别是Pycharm、Clion、WebStorm、IDEA、DataGrip,我好久没有更新了,从2020.1.1版本一下子升级到了2021.2.1版本.感觉首先是打开界面操作逻辑大统一,DataGrip终于不再是打开全屏了,而是和其他软件一样的界面.第二个爽点是只要一个软件设置完毕之后,其他软件只需要用新的导入设置功能,就能把包括设置、插件等等全部Copy过来,这比之前一个软件一个软件设置,方便多了呀.而且还新增加了云同步设置的功能,以后在新电脑上使用,需要要一个账户激活,然后就可以云同步设置插件,然后其他软件再导入这个设置好的软件的配置就可以了,大大方便了多个软件同步配置.这从体验总体来说很不错.</p>
<h2 id="Steam游戏"><a href="#Steam游戏" class="headerlink" title="Steam游戏"></a>Steam游戏</h2><p>说实话,游戏这一块,我主要玩炉石传说,充钱也是为了卡包或者改名(一次<strong>60元</strong>),Steam上的3A大作确实让我着迷的不多,不过也有一些让我热血澎湃.</p>
<h3 id="赛博朋克2077"><a href="#赛博朋克2077" class="headerlink" title="赛博朋克2077"></a>赛博朋克2077</h3><p>2077一出来就买了,当时好像是<strong>400元出头的样子</strong>,为了信仰真的值得买一波玩玩,2060显卡1080P可以跑出60+以上的帧率,优化过后还能再有提升.</p>
<h3 id="鬼谷八荒"><a href="#鬼谷八荒" class="headerlink" title="鬼谷八荒"></a>鬼谷八荒</h3><p>鬼谷八荒是打折买的,大概是<strong>38元</strong>,这类游戏就很符合我这种修仙党玩,玩这游戏时长比赛博朋克2077(2077当长线体验游戏,短时间不急着玩通关)还要久,一次玩完60个成就足足达成了45个,真是很过瘾,希望张三作者不要不识好歹,早点把不周山做出来.</p>
<h2 id="EPIC"><a href="#EPIC" class="headerlink" title="EPIC"></a>EPIC</h2><p>EPIC上有人会买游戏???</p>
<p>已经在上面白嫖了很多佳作,比如GTA5、方舟生存进化、文明6、Control(这个超级好玩,SCP味十足)、AER(融合了个人解密,飞行模拟的一款治愈游戏,就是有点短,最终BOSS一见面就戛然而止了)等等,登录很慢,推荐用小黑盒登录,下载和云同步倒是很快.</p>
]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>JetBrains</tag>
        <tag>图床</tag>
        <tag>云图</tag>
        <tag>云服务</tag>
        <tag>云空间</tag>
        <tag>iCloud</tag>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title>选题说明</title>
    <url>/104-select-topic/</url>
    <content><![CDATA[<h1 id="课题简介"><a href="#课题简介" class="headerlink" title="课题简介"></a>课题简介</h1><p>财务行业的发票识别及财务做账问题一直是会计行业关注的焦点问题，在这其中发票信息填录尤其重要。近年来随着企业之间财务交易越来越频繁，企业中财务处理也日趋频繁，但传统的人工填录方法效率较低，而且易于出错；在这样的背景下，社会急需一整套发票自动填录系统来解决这些问题。本课题使用Python构建增值<strong>税发票识别系统</strong>，具有一定的工程意义。</p>
<h1 id="课题应完成的任务和要求"><a href="#课题应完成的任务和要求" class="headerlink" title="课题应完成的任务和要求"></a>课题应完成的任务和要求</h1><p>设计与实现一款增值税发票自动识别系统。<br>在做课题的过程中需要掌握：Python开发技术、机器学习、深度学习</p>
<h1 id="达到的目的"><a href="#达到的目的" class="headerlink" title="达到的目的"></a>达到的目的</h1><p>通过查阅资料和自主学习，动手设计和实现一个增值税发票自动识别系统，在Python、机器学习和深度学习等技术基础上，完成系统的功能设计。本课题应达到如下目的：</p>
<ul>
<li>掌握文献检索、资料查询的基本方法，提高自己获取新知识的能力。</li>
<li>设计并开发一个增值税发票自动识别系统。</li>
<li>通过软件项目的完整训练，提高软件系统的设计、开发、测试等技能。<br>通过论文的撰写，对大学期间学习的知识进行系统的梳理和回顾，深入了解软件工程流程，提高解<br>决实际问题的能力。</li>
</ul>
<h1 id="内容和要求"><a href="#内容和要求" class="headerlink" title="内容和要求"></a>内容和要求</h1><h2 id="任务内容："><a href="#任务内容：" class="headerlink" title="任务内容："></a>任务内容：</h2><p>从实际需求出发对增值税发票自动识别系统进行设计与实现。</p>
<h2 id="任务要求："><a href="#任务要求：" class="headerlink" title="任务要求："></a>任务要求：</h2><ul>
<li>增值税电子普通发票，增值税普通发票，增值税专用发票；识别字段为：发票代码、发票号码、开票日期、校验码、税后金额等。</li>
<li>论文写作思路清晰，对相关概念理解准确，逻辑严密，文字通顺，有自己的独立见解，结论恰如其分。</li>
<li>软件架构实现合理，模块划分恰当，流程清晰。对于函数、变量等的命名能够做到望文知意，复杂的算法实现需要有清晰的代码注释，整体编码符合规范。<br>严格按照毕业设计计划进行，在不同阶段及时提交相关文档和测试用例等资料。</li>
</ul>
<h1 id="成果的要求"><a href="#成果的要求" class="headerlink" title="成果的要求"></a>成果的要求</h1><ul>
<li>毕业设计论文。</li>
<li>提交可运行的完整系统及其源代码和有关设计的详细说明。</li>
</ul>
]]></content>
      <categories>
        <category>CV学习笔记</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>选题</tag>
      </tags>
  </entry>
  <entry>
    <title>开题报告</title>
    <url>/105-opening-report/</url>
    <content><![CDATA[<h1 id="文献综述"><a href="#文献综述" class="headerlink" title="文献综述"></a>文献综述</h1><ul>
<li>增值税发票增值税专用发票是商事凭证，由于实行凭发票购进税款扣税，购货方要向销货方支付增值税，因此也是完税凭证，起到销货方纳税义务和购货方进项税额的合法证明的作用，是增值税普征性和公平性的体现：每个环节征税，每个环节扣税，让税款从上一个经营环节传递到下一个经营环节，一直到把商品或劳务供应给最终消费者，这样，各环节开具的增值税总额，就是该商品或劳务的整体税负，体现了增值税普遍征收和公平税负的特征<sup>[1]</sup>。 </li>
<li>在当前移动互联网快速发展的大环境下，增值税发票识别成为一个比较热门而有价值的应用方向。并且伴随着社会信用体系不断完善，增值税发票已经成为人们主流的交易证明。在现代科学研究、军事技术、医学、工农业生产等领域，越来越多的人使用图像信息来识别和判断事物并解决实际问题，在此环境条件下如何高效有序地对增值税发票进行智能化管理，是对当下智能票据提出的一个硬性要求。发票号码作为发票唯一的身份标识，常用作支付交易证明和经费报销申请的主要依据，所以针对发票识别技术（Invoice Recognition Technology，IRT）<sup>[2]</sup>，从传统的机器学习到当下的深度学习都在不断地进行着算法的更新与迭代。因此在当今科学技术高速发展的时代，对增值税发票识别的处理技术就有了更高的要求，能够更加快速准确地检测人们所需的图像文本信息<sup>[3]</sup>。</li>
<li>目前CVPR、ICCV、ECCV等国际顶级会议，已将场景文字检测与识别列为其重要主题之一，文字检测与识别技术广泛运用在图片识别方面，是当前研究的前沿课题。场景文字识别（Scene Text Recognition，STR）<sup>[4]</sup>是在各种复杂情况下将图像输入翻译为自然语言输出，需要包括文字检测和文字识别两个步骤，文字检测即发现文字的位置和范围，文字识别即将文字区域转化为字符信息。文字识别技术对人类来说是非常具有挑战性的领域，尽管文字识别技术发展缓慢，但人类为了实现技术普遍应用到生活中的各方面也一直在为之奋斗着。因为文字识别技术不仅有利于其他技术的发展并且文字识别技术的发展领域非常广泛，其中光学字符识别（Optical CharacterRecognition，OCR）识别技术在文字识别领域中是项重要技术。 </li>
<li>发票识别检测的主要目的是从复杂的发票布局环境中检测出发票的有效区域。通过Sobel算子进行发票边缘检测<sup>[5]</sup> 。在进入21世纪后，计算机算力实现了巨大的飞跃，深度神经网络和计算机视觉开始广泛应用于发票文字检测之中，其中比较成功的是基于卷积递归神经网络（Convolutional Recurrent Neural Network，CRNN）和连接主义文本建议网络（Connectionist Text Proposal Network，CTPN）<sup>[6]</sup>实现的算法。  </li>
<li>传统的发票识别是由预处理和图像输入组成的，预处理方法包含灰度化和二值化及图像矫正，还有去除噪声等等<sup>[7]</sup>，图像输入对不一样的压缩方法，有不一样的存储方法等等。关于企业衡量发票识别性能的好与坏的指标分析主要有产品的稳定性、易用性、可行性、误识率及识别速度的问题等等，并用相关辅助数据来提升识别的准确率，这在发票识别信息技术中是非常重要的<sup>[8]</sup>。简略的讲就是把文字转化成图像数据，而后运用字符识别将图像数据转换成能够应用的输入技术。并对发票识别的结果实行剖析后智能纠正错误结果。随着中国的科技发展愈来愈好，发票识别信息技术随之也普遍运用起来。  </li>
<li>在实际应用中，发票文字的检测和识别往往串联在-起，能同时检测到文字位置并对其进行识别的方法被称为“端到端”文字识别方法<sup>[9]</sup>。由于中文场景中存在背景干扰、字体模糊、遮挡等多种复杂情况，中文场景文本识别面临更多的挑战因不同类型的发票的大小、颜色均不同，所以本文首先进行的是分类，确定发票的类别，这样如火车票这种字符像素固定的发票，就可以采用固定的模板截取出待识别信息的图像，同时降低了后续识别的难度。其次针对增值税这种机打字符像素随打印机的不同而变化的发票，将使用基于图像增强的二次分割法，用于实现截取，并进行倾斜校正。这样既降低了识别难度，又提高了发票识别的准确率<sup>[10]</sup>。  </li>
<li>近几年，国内外大量的专家学者们也关注到了这个方面。Wang<sup>[11]</sup>等最早提出用深度学习的方法实现文字检测，用卷积神经网络对每一处滑动窗进行分类。但这类方法算法复杂度高又不能够完全实现端到端的训练和测试。Zhou<sup>[12]</sup>等提出支持多方向文字定位的EAST网络，该方法可以检测各个方向的文字，但是对较长文字检测效果不佳，感受野不够长。杜薇<sup>[13]</sup>等人在验证码识别研究中指出字符分割有很明显的弊端，如在文字重叠度高且文字结构不规范时分割难度较大，准确率低、效率低等问题。  </li>
<li>目前，文字检测方法主要包括基于文本框回归的分类、基于分割的回归以及分割和回归结合的方法<sup>[14]</sup>。虽然近些年基于深度学习的文字检测方法已经取得巨大进步，但是文字作为一种具有其独有特色的目标，其字体、颜色、方向、大小等呈现多样化形态，相比一般目标检测更加困难<sup>[15]</sup>。一个模型在某个开源的数据集上得到了很好的效果，用这个方法直接换到另外的数据集上也许效果就不是很好，甚至是比较差的。因为很多模型是针对某项数据集来调整参数进行不断优化的，所以它极大依赖于数据，深度学习它有没有学到本质的东西，这个问题还值得深度探讨<sup>[16]</sup>。神经网络模型在文字检测方面已经有了研究，例如区域文本框网络（Region Proposal Network，RPN），只是RPN进行的文字检测很难准确地进行水平检测。RPN是通过直接训练来定位图像中的文本行，但是通过文本行来预测图像中的文本出现错误的可能性很大，因为文本是个没有明确的封闭边界的序列。令人欣喜的是，Anchor回归机制<sup>[17]</sup>的提出允许RPN可以使用单尺度窗口检测多尺度的对象，这个想法的核心是通过使些灵活的Anchors在大尺度和纵横比的范围内对物体进行预测。其研究结果表明，根据CTPN方法，建立增值税发票文字检测神经网络模型，能够准确地对增值税发票的文字进行水平检测。  </li>
</ul>
<p>参考文献：<br>[1] 唐军，唐潮.增值税发票信息结构化识别[J]．计算机系统应用，2021，30(12):317-325．<br>[2] 杨蕊，杨洁.基于图像分析的发票识别与管理系统[J]．计算机时代，2020(10):4-8．<br>[3] 白翔，杨明银，石葆光，等．基于深度学习的场景文字检测与识[J]．中国科学(信息科学)，2018，48(5):531-544．<br>[4] 辜双佳，栗智．基于CRNN模型的中文场景文字识别[J]．科技风，2021(17):108-110．<br>[5] 杨华．基于Sobel算法的塑料袋边缘位置标定[J]．包装工程，2021，42(23):178-182．<br>[6] 郝聚涛，段静文，陈超，陈鸿龙．一种基于CTPN网络的文档图像标题检测算法[J]．电子技术与软件工程，2021(05):175-176．<br>[7] 斩振伟．基于CTPN的网店工商信息提取系统的研究和实现[J]．现代信息科技，2018，2(11):27-28．<br>[8] 王梦迪，张友梅，常发亮．基于边缘检测和特征融合的自然场景文本定位[J]．计算机科学，2017，44(9):300-303．<br>[9] 邱晓欢，吴啟超．一种基于改进EAST网络和改进CRNN网络的火车票站名识别系统[J]．南方职业教育学刊，2019，9(6):81-88．<br>[10] 曹长玉，郑佳春，黄一琦．基于区域卷积网络的行驶车辆检测算法[J]．集美大学学报:自然科学版，2019，24(4):315-320．<br>[11] WANG T，WU D J．COATES A，et al．End-to-End Text Recognition with Convolutional Neural Networks．2012 International Conference on Pattern Recognition(ICPR 2012)，2012．<br>[12] ZHOU X，YAO C，WEN H，et al．EAST: An Efficient and Accurate Scene Text Detector[J]．2017．<br>[13] 杜薇，周武能．基于CTC模型的无分割文本验证码识别[J]．计算机与现代化，2018(09): 48-51．<br>[14] 杨国亮，王志元，张 雨，等．基于垂直区域回归网络的自然场景文本检测[J]．计算机工程与科学，2018，40(7):1256-1263．<br>[15] 戈嘉宇，刘为嵩．基于深度学习的身份证识别系统的设计与实现[J]．电子世界，2020(2):109．<br>[16] 杨捷，刘进锋．利用CTPN检测电影海报中的文本信息[J]．电脑知识与技术，2018，14(25):213-215．<br>[17] 张 勋，陈 亮，朱雪婷，等．基于区域卷积神经网络FasterR-CNN的手势识别方法[J]．东华大学学报:自然科学版，2019，45(4):559-563．</p>
<h1 id="研究问题和拟采用研究手段"><a href="#研究问题和拟采用研究手段" class="headerlink" title="研究问题和拟采用研究手段"></a>研究问题和拟采用研究手段</h1><h2 id="研究问题"><a href="#研究问题" class="headerlink" title="研究问题"></a>研究问题</h2><ul>
<li>近年来基于深度卷积神经网络的发票文本识别方法开始占据主导地位。其中循环神经网络在具有依赖性的上下文序列化信息的发票文本识别表现突出。其中包含记忆功能机制的识别方案主要采用”code-encode”的框架即编解码的框架结构。基于CTC损失函数的识别模型，首先利用CNN进行文本特征提取，然后利用RNN对文本特征序列化依赖信息进行建模，最后利用CTC损失函数进行预测，得到文本序列。这种序列到序列的方法能够更好的结合上下文的文本信息，对后续的文本行进行合理预测，能够将每一段的预测值再筛选留下对应的文本行信息，这样转出来的文本序列准确率更高。</li>
</ul>
<h2 id="拟采用研究手段"><a href="#拟采用研究手段" class="headerlink" title="拟采用研究手段"></a>拟采用研究手段</h2><p> 现阶段，深度学习的框架已经出现了几十种，例如常用的CNN和RNN网络，以及深度信念网络等，它们能够应用于发票文本识别领域主要得益于以下的两种经典算法。</p>
<ul>
<li>第一种就是AlexNet，AlexNet由Alex Krizhevsky 创建，一共有八层网络，由5个cov层和3个FC（全连接）层构成的。AlexNet创造性的引用了droput的框架模式，使其在进行文本识别时，能够保证特征提取的结果错误率大大降低，为后续的卷积神经网络应用于文本识别开拓了新的方向。但是由于其网络层数过少，在应用于发票识别领域时，无法充分提取发票的粘滞文本特征，在紧密字符的识别上，准确率不高。</li>
<li>第二种就是VGGNet，全称为Visual Geometry Group Network，它由牛津大学的视觉几何组的Karen Simony 和Andrew Zissmen等人创建。VGG相较于AlexNet，它的网络层数共有22层。VGG的最大的特点在于使用了3x3的卷积核进行特征提取，这样使的网络层数更深，且特征提取更加的完善。而且在图像处理方面，数据增强的方式与AlexNet的单纯的旋转和反转不同，其采用了Multi-Scale方式，能够将所有特征提取后的图片统一处理为224x224大小的图片，这样统一大小后的图片能够使后续的预训练更加的迅速，而不会因为网络层数的变深导致训练速度变慢的情况。综上VGG的表现验证了不需要改变结构就能通过加深网络层数改善网络性能。</li>
</ul>
]]></content>
      <categories>
        <category>CV学习笔记</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>CNN</tag>
        <tag>RNN</tag>
        <tag>CRNN</tag>
        <tag>CTPN</tag>
        <tag>CTC</tag>
      </tags>
  </entry>
  <entry>
    <title>年轻人的头两份软著</title>
    <url>/103-software-publications/</url>
    <content><![CDATA[<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01/2022/01/20/20220120192413837.jpg" alt=""></p>
<p>在一篇期刊之后，又是两份软著。软著获得难度不高，代码方面不是最复杂的地方，最头疼的地方在于申请。  </p>
<p>申请有两种方式，，一种是直接去官网进行申请，另外一种是通过阿里云帮助申请，我采用的方式是阿里云代为申请，会方便许多，然后就是等待证书批来下，大概需要2-4个月时间。两份证书，用了3个多月的时间审核，在1月份批下来，整体还算流畅。</p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>项目展示</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>软件著作</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown简明语法手册</title>
    <url>/107-markdown/</url>
    <content><![CDATA[<h3 id="1-斜体和粗体"><a href="#1-斜体和粗体" class="headerlink" title="1. 斜体和粗体"></a>1. 斜体和粗体</h3><p>使用 <em> 和 *</em> 表示斜体和粗体。</p>
<p>示例：</p>
<p>这是 <em>斜体</em>，这是 <strong>粗体</strong>。</p>
<h3 id="2-分级标题"><a href="#2-分级标题" class="headerlink" title="2. 分级标题"></a>2. 分级标题</h3><p>使用 === 表示一级标题，使用 —- 表示二级标题。</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">这是一个一级标题</span><br><span class="line">============================</span><br><span class="line"></span><br><span class="line">这是一个二级标题</span><br><span class="line">--------------------------------------------------</span><br><span class="line"></span><br><span class="line">### 这是一个三级标题</span><br></pre></td></tr></table></figure>
<p>你也可以选择在行首加井号表示不同级别的标题 (H1-H6)，例如：# H1, ## H2, ### H3，#### H4。</p>
<h3 id="3-外链接"><a href="#3-外链接" class="headerlink" title="3. 外链接"></a>3. 外链接</h3><p>使用 [描述](链接地址) 为文字增加外链接。</p>
<p>示例：</p>
<p>这是去往 <a href="https://yuzhang.wang/">YuZhangWang的领域</a> 的链接。</p>
<h3 id="4-无序列表"><a href="#4-无序列表" class="headerlink" title="4. 无序列表"></a>4. 无序列表</h3><p>使用 * ，+ ，- 表示无序列表。</p>
<p>示例：</p>
<ul>
<li>无序列表项 一</li>
<li>无序列表项 二</li>
<li>无序列表项 三</li>
</ul>
<h3 id="5-有序列表"><a href="#5-有序列表" class="headerlink" title="5. 有序列表"></a>5. 有序列表</h3><p>使用数字和点表示有序列表。</p>
<p>示例：</p>
<ol>
<li>有序列表项 一</li>
<li>有序列表项 二</li>
<li>有序列表项 三</li>
</ol>
<h3 id="6-文字引用"><a href="#6-文字引用" class="headerlink" title="6. 文字引用"></a>6. 文字引用</h3><p>使用 &gt; 表示文字引用。</p>
<p>示例：</p>
<blockquote>
<p>野火烧不尽，春风吹又生。</p>
</blockquote>
<h3 id="7-行内代码块"><a href="#7-行内代码块" class="headerlink" title="7. 行内代码块"></a>7. 行内代码块</h3><p>使用 `代码` 表示行内代码块。</p>
<p>示例：</p>
<p>让我们聊聊 <code>html</code>。</p>
<h3 id="8-代码块"><a href="#8-代码块" class="headerlink" title="8.  代码块"></a>8.  代码块</h3><p>使用 四个缩进空格 表示代码块。</p>
<p>示例：</p>
<pre><code>这是一个代码块，此行左侧有四个不可见的空格。
</code></pre><h3 id="9-插入图像"><a href="#9-插入图像" class="headerlink" title="9.  插入图像"></a>9.  插入图像</h3><p>使用 ![描述](图片链接地址) 插入图像。</p>
<p>示例：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202210171416164.png" alt="我的头像"></p>
]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown高阶语法手册</title>
    <url>/108-markdown-advanced/</url>
    <content><![CDATA[<h3 id="1-标签分类"><a href="#1-标签分类" class="headerlink" title="1. 标签分类"></a>1. 标签分类</h3><p>在编辑区任意行的列首位置输入以下代码给文稿标签：</p>
<p>标签： 数学 英语 Markdown</p>
<p>或者</p>
<p>Tags： 数学 英语 Markdown</p>
<h3 id="2-删除线"><a href="#2-删除线" class="headerlink" title="2. 删除线"></a>2. 删除线</h3><p>使用 ~~ 表示删除线。</p>
<p><del>这是一段错误的文本。</del></p>
<h3 id="3-注脚"><a href="#3-注脚" class="headerlink" title="3. 注脚"></a>3. 注脚</h3><p>使用 <code>[^keyword]</code>表示注脚。</p>
<p>这是一个注脚<sup>1</sup>的样例。</p>
<p>这是第二个注脚<sup>2</sup>的样例。</p>
<h3 id="4-LaTeX-公式"><a href="#4-LaTeX-公式" class="headerlink" title="4. LaTeX 公式"></a>4. LaTeX 公式</h3><p>行内公式： </p>
<p>质能守恒方程可以用一个很简洁的方程式 $E=mc^2$ 来表达。</p>
<p>整行公式：</p>
<script type="math/tex; mode=display">\sum_{i=1}^n a_i=0</script><script type="math/tex; mode=display">f(x_1,x_x,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2</script><script type="math/tex; mode=display">\sum^{j-1}_{k=0}{\widehat{\gamma}_{kj} z_k}</script><p>访问 <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">MathJax</a> 参考更多使用方法。</p>
<h3 id="5-加强的代码块"><a href="#5-加强的代码块" class="headerlink" title="5. 加强的代码块"></a>5. 加强的代码块</h3><p>支持四十一种编程语言的语法高亮的显示，行号显示。</p>
<p>非代码示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install vim-gnome</span><br></pre></td></tr></table></figure>
<p>Python 示例：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@requires_authorization</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">somefunc</span>(<span class="params">param1=<span class="string">&#x27;&#x27;</span>, param2=<span class="number">0</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;A docstring&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> param1 &gt; param2: <span class="comment"># interesting</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Greater&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> (param2 - param1 + <span class="number">1</span>) <span class="keyword">or</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SomeClass</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>message = <span class="string">&#x27;&#x27;&#x27;interpreter</span></span><br><span class="line"><span class="string"><span class="meta">... </span>prompt&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>JavaScript 示例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* nth element in the fibonacci series.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> n &gt;= 0</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> the nth element, &gt;= 0.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fib</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> tmp;</span><br><span class="line">  <span class="keyword">while</span> (--n &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    tmp = a;</span><br><span class="line">    a += b;</span><br><span class="line">    b = tmp;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">fib</span>(<span class="number">10</span>));</span><br></pre></td></tr></table></figure>
<h3 id="6-流程图"><a href="#6-流程图" class="headerlink" title="6. 流程图"></a>6. 流程图</h3><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><div id="flowchart-0" class="flow-chart"></div>

<h4 id="更多语法参考：流程图语法参考"><a href="#更多语法参考：流程图语法参考" class="headerlink" title="更多语法参考：流程图语法参考"></a>更多语法参考：<a href="http://adrai.github.io/flowchart.js/">流程图语法参考</a></h4><h3 id="7-序列图"><a href="#7-序列图" class="headerlink" title="7. 序列图"></a>7. 序列图</h3><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例 1"></a>示例 1</h4><div id="sequence-0"></div>

<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例 2"></a>示例 2</h4><div id="sequence-1"></div>

<h4 id="更多语法参考：序列图语法参考"><a href="#更多语法参考：序列图语法参考" class="headerlink" title="更多语法参考：序列图语法参考"></a>更多语法参考：<a href="http://bramp.github.io/js-sequence-diagrams/">序列图语法参考</a></h4><h3 id="8-甘特图"><a href="#8-甘特图" class="headerlink" title="8. 甘特图"></a>8. 甘特图</h3><p>甘特图内在思想简单。基本是一条线条图，横轴表示时间，纵轴表示活动（项目），线条表示在整个期间上计划和实际的活动完成情况。它直观地表明任务计划在什么时候进行，及实际进展与计划要求的对比。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">title 项目开发流程</span><br><span class="line">section 项目确定</span><br><span class="line">    需求分析       :a1, 2016-06-22, 3d</span><br><span class="line">    可行性报告     :after a1, 5d</span><br><span class="line">    概念验证       : 5d</span><br><span class="line">section 项目实施</span><br><span class="line">    概要设计      :2016-07-05  , 5d</span><br><span class="line">    详细设计      :2016-07-08, 10d</span><br><span class="line">    编码          :2016-07-15, 10d</span><br><span class="line">    测试          :2016-07-22, 5d</span><br><span class="line">section 发布验收</span><br><span class="line">    发布: 2d</span><br><span class="line">    验收: 3d</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203110337907.png" alt=""></p>
<h4 id="更多语法参考：甘特图语法参考"><a href="#更多语法参考：甘特图语法参考" class="headerlink" title="更多语法参考：甘特图语法参考"></a>更多语法参考：<a href="https://github.com/webappdevelp/hexo-filter-mermaid-diagrams">甘特图语法参考</a></h4><h3 id="9-Mermaid-流程图"><a href="#9-Mermaid-流程图" class="headerlink" title="9. Mermaid 流程图"></a>9. Mermaid 流程图</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A[Hard edge] --&gt;|Link text| B(Round edge)</span><br><span class="line">B --&gt; C&#123;Decision&#125;</span><br><span class="line">C --&gt;|One| D[Result one]</span><br><span class="line">C --&gt;|Two| E[Result two]</span><br><span class="line">Bob--&gt;&gt;John: Jolly good!</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203110337910.png" alt=""></p>
<h4 id="更多语法参考：Mermaid-流程图语法参考"><a href="#更多语法参考：Mermaid-流程图语法参考" class="headerlink" title="更多语法参考：Mermaid 流程图语法参考"></a>更多语法参考：<a href="https://github.com/webappdevelp/hexo-filter-mermaid-diagrams">Mermaid 流程图语法参考</a></h4><h3 id="10-Mermaid-序列图"><a href="#10-Mermaid-序列图" class="headerlink" title="10. Mermaid 序列图"></a>10. Mermaid 序列图</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Alice-&gt;John: Hello John, how are you?</span><br><span class="line">loop every minute</span><br><span class="line">    John--&gt;Alice: Great!</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203110338462.png" alt=""></p>
<h4 id="更多语法参考：Mermaid-序列图语法参考"><a href="#更多语法参考：Mermaid-序列图语法参考" class="headerlink" title="更多语法参考：Mermaid 序列图语法参考"></a>更多语法参考：<a href="https://github.com/webappdevelp/hexo-filter-mermaid-diagrams">Mermaid 序列图语法参考</a></h4><h3 id="11-表格支持"><a href="#11-表格支持" class="headerlink" title="11. 表格支持"></a>11. 表格支持</h3><div class="table-container">
<table>
<thead>
<tr>
<th>项目</th>
<th style="text-align:right">价格</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>计算机</td>
<td style="text-align:right">$1600</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td>手机</td>
<td style="text-align:right">$12</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td>管线</td>
<td style="text-align:right">$1</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
</div>
<h3 id="12-定义型列表"><a href="#12-定义型列表" class="headerlink" title="12. 定义型列表"></a>12. 定义型列表</h3><p>名词 1<br>:   定义 1（左侧有一个可见的冒号和四个不可见的空格）</p>
<p>代码块 2<br>:   这是代码块的定义（左侧有一个可见的冒号和四个不可见的空格）</p>
<pre><code>    代码块（左侧有八个不可见的空格）
</code></pre><h3 id="13-Html-标签"><a href="#13-Html-标签" class="headerlink" title="13. Html 标签"></a>13. Html 标签</h3><p>本站支持在 Markdown 语法中嵌套 Html 标签，譬如，你可以用 Html 写一个纵跨两行的表格：</p>
<pre><code>&lt;table&gt;
    &lt;tr&gt;
        &lt;th rowspan=&quot;2&quot;&gt;值班人员&lt;/th&gt;
        &lt;th&gt;星期一&lt;/th&gt;
        &lt;th&gt;星期二&lt;/th&gt;
        &lt;th&gt;星期三&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;李强&lt;/td&gt;
        &lt;td&gt;张明&lt;/td&gt;
        &lt;td&gt;王平&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;
</code></pre><table>
    <tr>
        <th rowspan="2">值班人员</th>
        <th>星期一</th>
        <th>星期二</th>
        <th>星期三</th>
    </tr>
    <tr>
        <td>李强</td>
        <td>张明</td>
        <td>王平</td>
    </tr>
</table>


<h3 id="14-待办事宜-Todo-列表"><a href="#14-待办事宜-Todo-列表" class="headerlink" title="14. 待办事宜 Todo 列表"></a>14. 待办事宜 Todo 列表</h3><p>使用带有 [ ] 或 [x] （未完成或已完成）项的列表语法撰写一个待办事宜列表，并且支持子列表嵌套以及混用Markdown语法，例如：</p>
<pre><code>- [ ] **Cmd Markdown 开发**
    - [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率
    - [ ] 支持以 PDF 格式导出文稿
    - [x] 新增Todo列表功能 [语法参考](https://github.com/blog/1375-task-lists-in-gfm-issues-pulls-comments)
    - [x] 改进 LaTex 功能
        - [x] 修复 LaTex 公式渲染问题
        - [x] 新增 LaTex 公式编号功能 [语法参考](http://docs.mathjax.org/en/latest/tex.html#tex-eq-numbers)
- [ ] **七月旅行准备**
    - [ ] 准备邮轮上需要携带的物品
    - [ ] 浏览日本免税店的物品
    - [x] 购买蓝宝石公主号七月一日的船票
</code></pre><p>对应显示如下待办事宜 Todo 列表：</p>
<ul>
<li>[ ] <strong>Cmd Markdown 开发</strong><ul>
<li>[ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>
<li>[ ] 支持以 PDF 格式导出文稿</li>
<li>[x] 新增Todo列表功能 <a href="https://github.com/blog/1375-task-lists-in-gfm-issues-pulls-comments">语法参考</a></li>
<li>[x] 改进 LaTex 功能<ul>
<li>[x] 修复 LaTex 公式渲染问题</li>
<li>[x] 新增 LaTex 公式编号功能 <a href="http://docs.mathjax.org/en/latest/tex.html#tex-eq-numbers">语法参考</a></li>
</ul>
</li>
</ul>
</li>
<li>[ ] <strong>七月旅行准备</strong><ul>
<li>[ ] 准备邮轮上需要携带的物品</li>
<li>[ ] 浏览日本免税店的物品</li>
<li>[x] 购买蓝宝石公主号七月一日的船票</li>
</ul>
</li>
</ul>
<p>[1]: 这是一个 <em>注脚</em> 的 <strong>文本</strong>。</p>
<p>[2]: 这是另一个 <em>注脚</em> 的 <strong>文本</strong>。<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Start:>https://www.zybuluo.com
io=>inputoutput: verification
op=>operation: Your Operation
cond=>condition: Yes or No?
sub=>subroutine: Your Subroutine
e=>end

st->io->op->cond
cond(yes)->e
cond(no)->sub->io</textarea><textarea id="flowchart-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">Alice->Bob: Hello Bob, how are you?
Note right of Bob: Bob thinks
Bob-->Alice: I am good thanks!</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script><textarea id="sequence-1-code" style="display: none">Title: Here is a title
A->B: Normal line
B-->C: Dashed line
C->>D: Open arrow
D-->>A: Dashed open arrow</textarea><textarea id="sequence-1-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("sequence-1-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-1-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-1", options);</script></p>
]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>如何在Hexo中用Gulp脚本进行静态资源渲染压缩和解决MathJax数学公式重复问题</title>
    <url>/109-gulp-script/</url>
    <content><![CDATA[<h1 id="Gulp脚本"><a href="#Gulp脚本" class="headerlink" title="Gulp脚本"></a>Gulp脚本</h1><p>如何下载、配置，这里我给出一个我跟着来的教程<a href="https://www.voidking.com/dev-hexo-gulp/">Hexo使用Gulp压缩静态资源</a>，2操作是必须的，3操作我使用了，4-5我并没有参考</p>
<p>这里着重说明一下，关于脚本执行顺序，以及精简代码</p>
<h2 id="脚本执行顺序"><a href="#脚本执行顺序" class="headerlink" title="脚本执行顺序"></a>脚本执行顺序</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 执行顺序： 清除public目录 -&gt; 产生原始博客内容 -&gt; 执行压缩混淆 -&gt; 部署到服务器</span><br><span class="line">gulp.task(</span><br><span class="line">    &quot;default&quot;,</span><br><span class="line">  gulp.series(</span><br><span class="line">        &quot;clean&quot;,</span><br><span class="line">        &quot;generate&quot;,</span><br><span class="line">        &quot;compressHtml&quot;,</span><br><span class="line">        &quot;compressCss&quot;,</span><br><span class="line">        &quot;compressJs&quot;,</span><br><span class="line">        gulp.parallel(&quot;deploy&quot;)</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>先是clean，清除已经创建的public文件夹</li>
<li>之后是生成页面</li>
<li>接下来分别是压缩HTML文件、CSS文件、JS文件</li>
<li>最后是将本地部署到GitHubPage仓库当中去</li>
</ul>
<h2 id="精简代码"><a href="#精简代码" class="headerlink" title="精简代码"></a>精简代码</h2><p>原本我们需要<code>hexo clean -&gt; hexo g -&gt; hexo d</code>三个命令才能完成部署上去这个任务，不过在gulp中，我们可以自定义task，也就是上面给出的代码，不仅能自定义顺序，还能自定义这个任务触发的命令，比如这里我使用默认的<code>default</code>设置，当设置为<code>default</code>的时候，我们只需要在终端中，输入gulp，就可以直接开始上面提到的脚本执行顺序，这样可以使得一个命令，集成多步操作，稍微“偷懒”一下</p>
<h2 id="代码提供"><a href="#代码提供" class="headerlink" title="代码提供"></a>代码提供</h2><p>先在hexo目录下创建gulpfile.js文件</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203111425445.png" alt=""></p>
<p>如果本来就有这个文件，直接打开，把里面的代码替换成下面我提供的就行了</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&quot;gulp&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> debug = <span class="built_in">require</span>(<span class="string">&quot;gulp-debug&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> cleancss = <span class="built_in">require</span>(<span class="string">&quot;gulp-clean-css&quot;</span>); <span class="comment">//css压缩组件</span></span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">&quot;gulp-uglify&quot;</span>); <span class="comment">//js压缩组件</span></span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&quot;gulp-htmlmin&quot;</span>); <span class="comment">//html压缩组件</span></span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&quot;gulp-htmlclean&quot;</span>); <span class="comment">//html清理组件</span></span><br><span class="line"><span class="keyword">var</span> changed = <span class="built_in">require</span>(<span class="string">&quot;gulp-changed&quot;</span>); <span class="comment">//文件更改校验组件</span></span><br><span class="line"><span class="keyword">var</span> gulpif = <span class="built_in">require</span>(<span class="string">&quot;gulp-if&quot;</span>); <span class="comment">//任务 帮助调用组件</span></span><br><span class="line"><span class="keyword">var</span> plumber = <span class="built_in">require</span>(<span class="string">&quot;gulp-plumber&quot;</span>); <span class="comment">//容错组件（发生错误不跳出任务，并报出错误内容）</span></span><br><span class="line"><span class="keyword">var</span> isScriptAll = <span class="literal">true</span>; <span class="comment">//是否处理所有文件，(true|处理所有文件)(false|只处理有更改的文件)</span></span><br><span class="line"><span class="keyword">var</span> isDebug = <span class="literal">true</span>; <span class="comment">//是否调试显示 编译通过的文件</span></span><br><span class="line"><span class="keyword">var</span> gulpBabel = <span class="built_in">require</span>(<span class="string">&quot;gulp-babel&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> es2015Preset = <span class="built_in">require</span>(<span class="string">&quot;babel-preset-es2015&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> del = <span class="built_in">require</span>(<span class="string">&quot;del&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Hexo</span> = <span class="built_in">require</span>(<span class="string">&quot;hexo&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> hexo = <span class="keyword">new</span> <span class="title class_">Hexo</span>(process.<span class="title function_">cwd</span>(), &#123;&#125;); <span class="comment">// 初始化一个hexo对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除public文件夹</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;clean&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">del</span>([<span class="string">&quot;public/**/*&quot;</span>]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return</span></span><br><span class="line"><span class="comment">// 创建静态页面 （等同 hexo generate）</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;generate&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> hexo.<span class="title function_">init</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> hexo</span><br><span class="line">            .<span class="title function_">call</span>(<span class="string">&quot;generate&quot;</span>, &#123;</span><br><span class="line">                <span class="attr">watch</span>: <span class="literal">false</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> hexo.<span class="title function_">exit</span>();</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> hexo.<span class="title function_">exit</span>(err);</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动Hexo服务器</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;server&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> hexo</span><br><span class="line">        .<span class="title function_">init</span>()</span><br><span class="line">        .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> hexo.<span class="title function_">call</span>(<span class="string">&quot;server&quot;</span>, &#123;&#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 部署到服务器</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;deploy&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> hexo.<span class="title function_">init</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> hexo</span><br><span class="line">            .<span class="title function_">call</span>(<span class="string">&quot;deploy&quot;</span>, &#123;</span><br><span class="line">                <span class="attr">watch</span>: <span class="literal">false</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> hexo.<span class="title function_">exit</span>();</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> hexo.<span class="title function_">exit</span>(err);</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩public目录下的js文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;compressJs&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .<span class="title function_">src</span>([<span class="string">&quot;./public/js/*.js&quot;</span>, <span class="string">&quot;!./public/js/utils.js&quot;</span>]) <span class="comment">//排除的js</span></span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">gulpif</span>(!isScriptAll, <span class="title function_">changed</span>(<span class="string">&quot;./public&quot;</span>)))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">gulpif</span>(isDebug, <span class="title function_">debug</span>(&#123; <span class="attr">title</span>: <span class="string">&quot;Compress JS:&quot;</span> &#125;)))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">plumber</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(</span><br><span class="line">            <span class="title function_">gulpBabel</span>(&#123;</span><br><span class="line">                <span class="attr">presets</span>: [es2015Preset] <span class="comment">// es5检查机制</span></span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">uglify</span>()) <span class="comment">//调用压缩组件方法uglify(),对合并的文件进行压缩</span></span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&quot;./public&quot;</span>)); <span class="comment">//输出到目标目录</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩public目录下的css文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;compressCss&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        <span class="attr">rebase</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">//advanced: true, //类型：Boolean 默认：true [是否开启高级优化（合并选择器等）]</span></span><br><span class="line">        <span class="attr">compatibility</span>: <span class="string">&quot;ie7&quot;</span> <span class="comment">//保留ie7及以下兼容写法 类型：String 默认：&#x27;&#x27;or&#x27;*&#x27; [启用兼容模式； &#x27;ie7&#x27;：IE7兼容模式，&#x27;ie8&#x27;：IE8兼容模式，&#x27;*&#x27;：IE9+兼容模式]</span></span><br><span class="line">        <span class="comment">//keepBreaks: true, //类型：Boolean 默认：false [是否保留换行]</span></span><br><span class="line">        <span class="comment">//keepSpecialComments: &#x27;*&#x27; //保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .<span class="title function_">src</span>([<span class="string">&quot;./public/**/*.css&quot;</span>, <span class="string">&quot;!./public/**/*.min.css&quot;</span>]) <span class="comment">//排除的css</span></span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">gulpif</span>(!isScriptAll, <span class="title function_">changed</span>(<span class="string">&quot;./public&quot;</span>)))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">gulpif</span>(isDebug, <span class="title function_">debug</span>(&#123; <span class="attr">title</span>: <span class="string">&quot;Compress CSS:&quot;</span> &#125;)))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">plumber</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">cleancss</span>(option))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&quot;./public&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩public目录下的html文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;compressHtml&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> cleanOptions = &#123;</span><br><span class="line">        <span class="attr">protect</span>: <span class="regexp">/&lt;\!--%fooTemplate\b.*?%--&gt;/g</span>, <span class="comment">//忽略处理</span></span><br><span class="line">        <span class="attr">unprotect</span>: <span class="regexp">/&lt;script [^&gt;]*\btype=&quot;text\/x-handlebars-template&quot;[\s\S]+?&lt;\/script&gt;/gi</span> <span class="comment">//特殊处理</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> minOption = &#123;</span><br><span class="line">        <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>, <span class="comment">//压缩HTML</span></span><br><span class="line">        <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>, <span class="comment">//省略布尔属性的值 &lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">        <span class="attr">removeEmptyAttributes</span>: <span class="literal">true</span>, <span class="comment">//删除所有空格作属性值 &lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">        <span class="attr">removeScriptTypeAttributes</span>: <span class="literal">true</span>, <span class="comment">//删除&lt;script&gt;的type=&quot;text/javascript&quot;</span></span><br><span class="line">        <span class="attr">removeStyleLinkTypeAttributes</span>: <span class="literal">true</span>, <span class="comment">//删除&lt;style&gt;和&lt;link&gt;的type=&quot;text/css&quot;</span></span><br><span class="line">        <span class="attr">removeComments</span>: <span class="literal">true</span>, <span class="comment">//清除HTML注释</span></span><br><span class="line">        <span class="attr">minifyJS</span>: <span class="literal">true</span>, <span class="comment">//压缩页面JS</span></span><br><span class="line">        <span class="attr">minifyCSS</span>: <span class="literal">true</span>, <span class="comment">//压缩页面CSS</span></span><br><span class="line">        <span class="attr">minifyURLs</span>: <span class="literal">true</span> <span class="comment">//替换页面URL</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .<span class="title function_">src</span>(<span class="string">&quot;./public/**/*.html&quot;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">gulpif</span>(isDebug, <span class="title function_">debug</span>(&#123; <span class="attr">title</span>: <span class="string">&quot;Compress HTML:&quot;</span> &#125;)))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">plumber</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>(cleanOptions))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlmin</span>(minOption))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&quot;./public&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行顺序： 清除public目录 -&gt; 产生原始博客内容 -&gt; 执行压缩混淆 -&gt; 部署到服务器</span></span><br><span class="line">gulp.<span class="title function_">task</span>(</span><br><span class="line">    <span class="string">&quot;default&quot;</span>,</span><br><span class="line">  gulp.<span class="title function_">series</span>(</span><br><span class="line">        <span class="string">&quot;clean&quot;</span>,</span><br><span class="line">        <span class="string">&quot;generate&quot;</span>,</span><br><span class="line">        <span class="string">&quot;compressHtml&quot;</span>,</span><br><span class="line">        <span class="string">&quot;compressCss&quot;</span>,</span><br><span class="line">        <span class="string">&quot;compressJs&quot;</span>,</span><br><span class="line">        gulp.<span class="title function_">parallel</span>(<span class="string">&quot;deploy&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"><span class="comment">//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="MathJax数学公式重复"><a href="#MathJax数学公式重复" class="headerlink" title="MathJax数学公式重复"></a>MathJax数学公式重复</h1><p>关于这个问题，我找了几个教程，但都不怎么对，这里我先提供一个，相对完整的教程<a href="https://blog.csdn.net/qq_44846324/article/details/114582328">这次彻底解决在Hexo中渲染MathJax数学公式出现的问题！！！</a><br>先跟着上面的教程来设置，基本都是对的，然后还要删除一个文件<br>这里我贴一下知乎上的操作<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203111434989.png" alt=""></p>
<p>在删除这个文件之后，渲染问题才能彻底解决，这个文件可能后面没有-plus，不过没有影响，不带-plus也可以删除</p>
]]></content>
      <categories>
        <category>极客之旅</category>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>gulp</tag>
        <tag>MathJax</tag>
      </tags>
  </entry>
  <entry>
    <title>使用labelImg手动标注数据集</title>
    <url>/111-manual-labelImg/</url>
    <content><![CDATA[<h1 id="下载项目"><a href="#下载项目" class="headerlink" title="下载项目"></a>下载项目</h1><p>先放教程<a href="https://blog.csdn.net/weixin_44477424/article/details/119042649">安装并使用labelImg标注数据集，yolo，VOC格式</a>，前面如何安装写得比较详细</p>
<p>先去Github页，下载文件<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140115069.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140116323.png" alt=""></p>
<h1 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h1><p> 先解压<br> <img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140126925.png" alt=""><br>然后在这个文件夹下，在终端里启动项目，后面的操作也会在终端里输出</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140129729.png" alt=""></p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>使用跟着给出的教程来即可</p>
]]></content>
      <categories>
        <category>技能学习记录</category>
        <category>CV学习笔记</category>
      </categories>
      <tags>
        <tag>labelImg</tag>
        <tag>数据集</tag>
        <tag>VOC</tag>
      </tags>
  </entry>
  <entry>
    <title>导师给的答辩经验</title>
    <url>/114-defense-experience/</url>
    <content><![CDATA[<p>按照往年答辩经验，我的几个个人建议：</p>
<p>1、调试好自己的系统，一定不要到时候崩溃，闪退，严重bug</p>
<p>2、系统中的测试数据准备好，不要很随意，举个例子，如果是类似电商系统，不要出现用户名111,商品名1111，图文不对应，随便放个照片，评论内容随意1111这样实验数据要像模像样，真实可靠</p>
<p>3、论文再仔细检查不要有明显错误和低级错误，按照打印要求打印，按照装订要求装订，注意顺序，该给成绩个签字的地方请指导老师填好。</p>
<p>4、该有评语的地方填好不要缺</p>
<p>5、自己先练习一下讲讲系统，边演示边讲，注意逻辑，和扬长避短。</p>
<p>6、把自己的核心业务逻辑整理通顺，一般是答辩老师的提问点。举个例子：比如预定的，要考虑到机制的合理性，比如同一时段不能冲突，比如不能别人已经释放的可以被预定，比如过去的历史时间不可以预定</p>
<p>7、答辩老师提出问题虚心接受，不要和老师顶嘴，也不要说“我不清楚，别人帮忙的”之类的，也不要说“老师任务书没有说”，总之不要让答辩评委觉得你顶嘴、作弊、甩锅。</p>
]]></content>
      <categories>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>答辩</tag>
      </tags>
  </entry>
  <entry>
    <title>22年肖八第一套21题</title>
    <url>/113-xiaoba/</url>
    <content><![CDATA[<p>A.之前战时的时候使用的是余粮收集制。</p>
<p>例如农民产出1000斤粮食，而满足家庭需求只需要500斤，那么剩下的500斤就会上缴国家。</p>
<p>即使农民生产2000斤，3000斤，最后也只有500斤留在自己手上。</p>
<p>所以农民趋向于满足自己需求即可，也即，生产满足自己家庭需求的粮食即可。那么就导致农民的生产积极性会大大的被削减。</p>
<p>而战后使用的是税制。按照比例来收缴粮食。</p>
<p>例如农民产出1000斤粮食，收缴比例为30%，之后农民手上有700斤粮食。相比余粮收集制。农民手上的粮食变多了。所以战后的新经济政策能够调动农民的生产积极性。</p>
<p>B.因为战时的时候，农民只想着满足自己需求即可。广大农民已经不去积极生产粮食，开始偷奸耍滑。国家的粮食产量就会大幅下降，国民就会普遍挨饿。粮食供不应求，那么粮食价格就会飞涨，国家经济就会崩溃。</p>
<p>C.俄国共产党和中国共产党的阶级基础一样都是工人和农民。工人因为粮食产量不够而填不饱肚子。农民生产粮食的积极性大幅下降。就会导致俄国共产党失去这些基础。</p>
<p>D.农村集体化属于斯大林模式的内容。战时经济政策和新经济政策，都是列宁在位的时候颁布的政策。在斯大林上位之后，将列宁的经济政策改为高度集中的斯大林模式计划经济政策。</p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>肖八</tag>
      </tags>
  </entry>
  <entry>
    <title>考研6月总结2</title>
    <url>/116-June-Summary-2/</url>
    <content><![CDATA[<p>1.复习全书换成36讲</p>
<p>2.李永乐真题换成李艳芳真题</p>
<p>3.买徐涛核心考案，放着等政治复习</p>
<p>4.李艳芳基础，张宇基础，李林基础，B站其他讲解，数一答疑。接下来主要从这5个地方获取不会的内容</p>
<p>5.墙灰比较麻烦，靠墙的书上都是灰，定做一个挡板隔一下</p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>出师表</title>
    <url>/117-memorial/</url>
    <content><![CDATA[<p>先帝创业未半而中道崩殂， 今天下三分， 益州疲弊， 此诚危急存亡之秋也。 然侍卫之臣不懈于内， 忠志之士忘身于外者， 盖追先帝之殊遇， 欲报之于陛下也。 诚宜开张圣听， 以光先帝遗德， 恢弘志士之气， 不宜妄自菲薄， 引喻失义， 以塞忠谏之路也。</p>
<p>宫中府中， 俱为一体， 陟罚臧否， 不宜异同。 若有作奸犯科及为忠善者， 宜付有司论其刑赏， 以昭陛下平明之理， 不宜偏私， 使内外异法也。</p>
<p>侍中、 侍郎郭攸之、 费祎、 董允等， 此皆良实， 志虑忠纯， 是以先帝简拔以遗陛下。 愚以为宫中之事， 事无大小， 悉以咨之， 然后施行， 必得裨补阙漏， 有所广益。</p>
<p>将军向宠， 性行淑均， 晓畅军事， 试用之于昔日， 先帝称之曰能， 是以众议举宠为督。 愚以为营中之事， 悉以咨之， 必能使行阵和睦， 优劣得所。</p>
<p>亲贤臣， 远小人， 此先汉所以兴隆也； 亲小人， 远贤臣， 此后汉所以倾颓也。 先帝在时， 每与臣论此事， 未尝不叹息痛恨于桓、 灵也。 侍中、 尚书、 长史、 参军， 此悉贞良死节之臣， 愿陛下亲之信之， 则汉室之隆， 可计日而待也。</p>
<p>臣本布衣， 躬耕于南阳， 苟全性命于乱世， 不求闻达于诸侯。 先帝不以臣卑鄙， 猥自枉屈， 三顾臣于草庐之中， 咨臣以当世之事， 由是感激， 遂许先帝以驱驰。 后值倾覆， 受任于败军之际， 奉命于危难之间， 尔来二十有一年矣。</p>
<p>先帝知臣谨慎， 故临崩寄臣以大事也。 受命以来， 夙夜忧叹， 恐付托不效， 以伤先帝之明， 故五月渡泸， 深入不毛。 今南方已定， 甲兵已足， 当奖率三军， 北定中原， 庶竭驽钝， 攘除奸凶， 兴复汉室， 还于旧都。 此臣所以报先帝而忠陛下之职分也。 至于斟酌损益， 进尽忠言，则攸之、 祎、 允之任也。</p>
<p>愿陛下托臣以讨贼兴复之效， 不效， 则治臣之罪， 以告先帝之灵。 若无兴德之言， 则责攸之、 祎、 允等之慢， 以彰其咎； 陛下亦宜自谋， 以咨诹善道， 察纳雅言， 深追先帝遗诏， 臣不胜受恩感激。</p>
<p>今当远离， 临表涕零， 不知所云。</p>
]]></content>
      <categories>
        <category>读书笔记</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>出师表</tag>
      </tags>
  </entry>
  <entry>
    <title>考研6月总结1</title>
    <url>/115-June-Summary-1/</url>
    <content><![CDATA[<p>1.先把武忠祥，李永乐Youtube上去年没听完的基础课全部结束掉。结束掉之后，直接跟张宇，不会的看张宇基础班理解</p>
<p>2.线代里的正交规范化，施密特正交，向量空间李永乐没讲。B站收藏夹里存了厦门大学老师的课，以及本地下载了22张宇线代基础课可以作为补充看</p>
<p>3.概率听Youtube余丙森的基础课，听完直接跟张宇</p>
<p>4.8月中旬左右，880基础题全部写一遍</p>
<p>5.基础结束复习全书可以收起来了，用张宇36讲作为高数、线代、概率强化讲义</p>
<p>6.强化阶段采用做880综合题+1000题+看讲义复习</p>
<p>7.6月底开始专业课，王道的课+935辅导讲义+王道书上例题(maybe)</p>
<p>8.7月底开始政治，徐涛强化课+1000题(maybe)</p>
<p>9.政治要买徐涛的核心考案，后面做肖秀荣8+4的时候，换腿姐的背诵手册</p>
<p>10.英语后期买王江涛作文背</p>
<p>11.做模拟卷的时候，买数学答题卡+408答题卡+英语作文答题纸</p>
]]></content>
      <categories>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>遍历二叉树</title>
    <url>/120-binary-tree/</url>
    <content><![CDATA[<p>遍历二叉树中进行的一些操作</p>
<ul>
<li>创建二叉树</li>
<li>先序遍历二叉树</li>
<li>计算树高</li>
<li>计算树叶数</li>
<li>计算结点数</li>
<li>计算分支点个数</li>
<li>二叉树拷贝</li>
<li>二叉树左右子树交换</li>
</ul>
<blockquote>
<p>操作使用C++版的数据结构完成</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*****************************  </span></span><br><span class="line"><span class="comment"> @author: YuZhangWang  </span></span><br><span class="line"><span class="comment"> @date: 2022/8/4 23:37:36 </span></span><br><span class="line"><span class="comment"> @link: https://yuzhang.wang</span></span><br><span class="line"><span class="comment">******************************/</span>  </span><br><span class="line">  </span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span>  </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">bitnode</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="type">char</span> data;  </span><br><span class="line">    bitnode *lchild, *rchild;  </span><br><span class="line">&#125; bitnode;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">bitt</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    bitnode *bt;  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">create</span><span class="params">(bitnode *&amp;t)</span></span>;<span class="comment">//创建二叉树  </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">preorder</span><span class="params">(bitnode *t)</span></span>;<span class="comment">//先序历遍  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">high</span><span class="params">(bitnode *t)</span></span>;<span class="comment">//计算树高  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countleaf</span><span class="params">(bitnode *t)</span></span>;<span class="comment">//计算树叶数  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countnode</span><span class="params">(bitnode *t)</span></span>; <span class="comment">//计算结点数  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countpartnode</span><span class="params">(bitnode *t)</span></span>;<span class="comment">//计算分支点个数  </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">copy</span><span class="params">(bitnode *&amp;t, bitnode *&amp;s)</span></span>;<span class="comment">//二叉树拷贝  </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">changebit</span><span class="params">(bitnode *&amp;t)</span></span>;<span class="comment">//二叉树左右子树交换  </span></span><br><span class="line"><span class="keyword">public</span>:  </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">createtree</span><span class="params">()</span></span>;<span class="comment">//创建二叉树  </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">preordertree</span><span class="params">()</span></span>;<span class="comment">//先序历遍  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hightree</span><span class="params">()</span></span>;<span class="comment">//计算树高  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countleaftree</span><span class="params">()</span></span>;<span class="comment">//计算树叶数  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countnodetree</span><span class="params">()</span></span>;<span class="comment">//计算结点数  </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countpartnodetree</span><span class="params">()</span></span>;<span class="comment">//计算分支点个数  </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">copytree</span><span class="params">()</span></span>;<span class="comment">//二叉树拷贝  </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">changebittree</span><span class="params">()</span></span>;<span class="comment">//二叉树左右子树交换  </span></span><br><span class="line">&#125;;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::create</span><span class="params">(bitnode *&amp;t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="type">char</span> ch;  </span><br><span class="line">    cin &gt;&gt; ch;  </span><br><span class="line">    <span class="keyword">if</span> (ch == <span class="string">&#x27;.&#x27;</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        t = <span class="literal">NULL</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        t = <span class="keyword">new</span> bitnode;  </span><br><span class="line">        t-&gt;data = ch;  </span><br><span class="line">        <span class="built_in">create</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="built_in">create</span>(t-&gt;rchild);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::createtree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t;  </span><br><span class="line">    <span class="built_in">create</span>(t);  </span><br><span class="line">    bt = t;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::preorder</span><span class="params">(bitnode *t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (t)  </span><br><span class="line">    &#123;  </span><br><span class="line">        cout &lt;&lt; t-&gt;data;  </span><br><span class="line">        <span class="built_in">preorder</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="built_in">preorder</span>(t-&gt;rchild);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::preordertree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    <span class="built_in">preorder</span>(t);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::high</span><span class="params">(bitnode *t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">NULL</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="type">int</span> m = <span class="number">1</span> + <span class="built_in">high</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="type">int</span> n = <span class="number">1</span> + <span class="built_in">high</span>(t-&gt;rchild);  </span><br><span class="line">        <span class="keyword">if</span> (m &gt;= n)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">return</span> m;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">return</span> n;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::hightree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">high</span>(t);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::countleaf</span><span class="params">(bitnode *t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">NULL</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="type">int</span> m = <span class="built_in">countleaf</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">countleaf</span>(t-&gt;rchild);  </span><br><span class="line">        <span class="keyword">if</span> (m + n == <span class="number">0</span>)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">return</span> m + n;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::countleaftree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">countleaf</span>(t);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::countnode</span><span class="params">(bitnode *t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (t)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="type">int</span> m = <span class="built_in">countnode</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">countnode</span>(t-&gt;rchild);  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + m + n;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::countnodetree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">countnode</span>(t);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::countpartnode</span><span class="params">(bitnode *t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (t &amp;&amp; (t-&gt;lchild || t-&gt;rchild))  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="type">int</span> m = <span class="built_in">countpartnode</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">countpartnode</span>(t-&gt;rchild);  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + m + n;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitt::countpartnodetree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">countpartnode</span>(t);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::copy</span><span class="params">(bitnode *&amp;t, bitnode *&amp;s)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">NULL</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        s = <span class="literal">NULL</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        s = t;  </span><br><span class="line">        <span class="built_in">copy</span>(t-&gt;lchild, s-&gt;lchild);  </span><br><span class="line">        <span class="built_in">copy</span>(t-&gt;rchild, s-&gt;rchild);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::copytree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    bitnode *s;  </span><br><span class="line">    <span class="built_in">copy</span>(t, s);  </span><br><span class="line">    <span class="keyword">if</span> (s)  </span><br><span class="line">    &#123;  </span><br><span class="line">        cout &lt;&lt; s-&gt;data;  </span><br><span class="line">        <span class="built_in">preorder</span>(s-&gt;lchild);  </span><br><span class="line">        <span class="built_in">preorder</span>(s-&gt;rchild);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::changebit</span><span class="params">(bitnode *&amp;t)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *temp = <span class="keyword">new</span> bitnode;  </span><br><span class="line">    <span class="keyword">if</span> (t)  </span><br><span class="line">    &#123;  </span><br><span class="line">        temp = t-&gt;lchild;  </span><br><span class="line">        t-&gt;lchild = t-&gt;rchild;  </span><br><span class="line">        t-&gt;rchild = temp;  </span><br><span class="line">        <span class="built_in">changebit</span>(t-&gt;lchild);  </span><br><span class="line">        <span class="built_in">changebit</span>(t-&gt;rchild);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bitt::changebittree</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitnode *t = bt;  </span><br><span class="line">    <span class="built_in">changebit</span>(t);  </span><br><span class="line">    bt = t;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    bitt tt;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入需要形成的二叉树:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    tt.<span class="built_in">createtree</span>();  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树先序历遍结果为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    tt.<span class="built_in">preordertree</span>();  </span><br><span class="line">    cout &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树树高为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; tt.<span class="built_in">hightree</span>() &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树树叶数为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; tt.<span class="built_in">countleaftree</span>() &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树结点数为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; tt.<span class="built_in">countnodetree</span>() &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树分支点数为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; tt.<span class="built_in">countpartnodetree</span>() &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树拷贝结果为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    tt.<span class="built_in">copytree</span>();  </span><br><span class="line">    cout &lt;&lt; endl;  </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;该二叉树左右子树交换结果为:&quot;</span> &lt;&lt; endl;  </span><br><span class="line">    tt.<span class="built_in">changebittree</span>();  </span><br><span class="line">    tt.<span class="built_in">preordertree</span>();  </span><br><span class="line">    cout &lt;&lt; endl;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C++学习笔记</category>
        <category>数据结构学习笔记</category>
      </categories>
      <tags>
        <tag>遍历</tag>
        <tag>二叉树</tag>
      </tags>
  </entry>
  <entry>
    <title>吐槽《雪中》的文案</title>
    <url>/119-draft/</url>
    <content><![CDATA[<p>Hi,各位小伙伴大家好,我是YuZhangWang</p>
<p>前不久,雪中悍刀行第一季已经完结了,在庆余年中的父愁者联盟，陈道明(加图片)等老戏骨们的演技，让我对雪中悍刀行这部电视剧有些许的期待。带着对胡军、杜玉明、王同辉、李解(加图片)这些老师演技的信任,怀着我的期待,追完了这部剧</p>
<p>但是在这一部剧中,我陷入了失望当中,那么在一起视频当中，让我作为一个非专业的解说者,来聊一聊这一部剧让我比较难受的一些槽点</p>
<h1 id="1-贫穷的特效以及动作场景的匮乏"><a href="#1-贫穷的特效以及动作场景的匮乏" class="headerlink" title="1.贫穷的特效以及动作场景的匮乏"></a>1.贫穷的特效以及动作场景的匮乏</h1><h2 id="1-1韩貂寺的红丝特效"><a href="#1-1韩貂寺的红丝特效" class="headerlink" title="1.1韩貂寺的红丝特效"></a>1.1韩貂寺的红丝特效</h2><p>在bing搜索”雪中悍刀行投资多少钱”,并没有给出明确的答案,在知乎搜索同样的问题,前排的两个提到投资、贫穷字眼的问题,点进去一看,分别是一个回答和两个回答,也并没有提到大致的投资金额,所以我也无从考究雪中的投资。不过有一点比较明确,那就是雪中处处透露着贫穷的感觉,这里我举几个例子来说明这一点</p>
<p>比如大结局38集中,韩貂寺的红丝特效给我的感觉像是学习了一个月的特效练习生做出来的特效,让我们来看一个片段感受一下(几个红丝特效做一个剪辑小片段，37+38集)</p>
<p>这里的红丝,刚开始韩貂寺遇见袁庭山时,我已经感觉有一丝的不妙,但是那时我以为,韩貂寺的这个红丝会用在小场景,应该不会让杜玉明老师用这个尬演,但是万万没想到在38集中,韩貂寺就是直接用这一堆红丝来开大,直接震惊我的三观。给我感觉就是,一团毛线糊在了我的脸上。如果韩貂寺和陈芝豹一样放光波,效果虽然同样也是不堪入目,但是相对于毛线来说,会好上许多了。总不能因为韩貂寺被人称作人猫,就要对毛线球感兴趣吧。</p>
<h2 id="1-2李淳罡的网游剑气"><a href="#1-2李淳罡的网游剑气" class="headerlink" title="1.2李淳罡的网游剑气"></a>1.2李淳罡的网游剑气</h2><p>同样的，陈芝豹和韩貂寺对打的时候，释放的黄色光波和韩貂寺的红丝特效也有异曲同工之处，这里将红丝特效和黄色光波的特效归为一类。然后我们再来对比一下经费较为充足特效，拿李淳罡的特效来举例，让我们来看一个片段（瀑布旁边给徐凤年展示两袖青蛇的片段，第22集），在上面这个片段当中，李淳罡释放两袖青蛇的特效，从细节入手，随手一挥（截图，随手一挥），一道剑气就释放而出，在池底激起一个小爆炸，这里的特效和剑气效果，让我作为一个观众来说，觉得算得上一位顶尖高手应该有的放招式的样子。所以这部剧在中间穿插的特效可以说达到了一部分观众的心理预期，让人期待着最后结尾的特效应该不会太差，就这样一步一步将观众带入到38集的最终冥场面，可以说充分利用了人的好奇和侥幸心理，成功地割了一波流量韭菜。</p>
<h2 id="1-3慢动作的大量运用"><a href="#1-3慢动作的大量运用" class="headerlink" title="1.3慢动作的大量运用"></a>1.3慢动作的大量运用</h2><p>剑九黄和湖底老魁的打斗，作为用来展现一品境界的高手相互对战的场景，整场戏，就是湖底老魁在各个房梁上闪转腾挪。这样操作也不是不行，但是起码在这场戏多加一些特效吧，例如我们来看下下面这一幕（铁链打掉剑，第6集），在湖底老魁击退剑九黄的飞剑时，如果能加上想李淳罡那样的气波，让他们显得高手一些，这样或许能够让两位高手的实力更加立体饱满一些，也能让雪中的武力境界更合理一些。</p>
<h1 id="2-演员表演和剧情上有一定冲突"><a href="#2-演员表演和剧情上有一定冲突" class="headerlink" title="2.演员表演和剧情上有一定冲突"></a>2.演员表演和剧情上有一定冲突</h1><p>原著改编在一些地方不是很合理(引用知乎的回答)</p>
<h2 id="2-1轩辕敬城的笑"><a href="#2-1轩辕敬城的笑" class="headerlink" title="2.1轩辕敬城的笑"></a>2.1轩辕敬城的笑</h2><p>在原著当中（第139章），轩辕国器在打了儿子轩辕敬城之后，轩辕敬城并没有说什么，而是在眺望龙虎山，等到阁中无人之时，再飞身下龙王江。让我们再来看一下电视剧中是如何处理的（放轩辕敬城笑的片段，第30集），这里轩辕敬城的笑，让我觉得有一丝异样。按照轩辕敬城的人物性格，原著中，他是眺望然后等到四下无人再飞身下去，但是这里，轩辕敬城的笑意，给人的感觉，像是一个反面角色突然要浮出水面的感觉，而不是一位为了妻女而修炼的丈夫角色。如果说，是因为三弟和他说的那些话惹怒了他，他才通过笑意发泄一下的话，那就更说不通了。这么多年来，轩辕敬城都是暗藏城府，背后部署这一切，他隐忍了这么多年，怎么会因为这一时的话语而展露笑意。如果这里轩辕敬城，按照他之前展现出来的读书人形象来说这一段台词，会更符合他这个角色的性格。</p>
<h2 id="2-2袁庭山的人物处理"><a href="#2-2袁庭山的人物处理" class="headerlink" title="2.2袁庭山的人物处理"></a>2.2袁庭山的人物处理</h2><p>原著中（第159章）在赵楷的牵线搭桥下,袁庭山认识了龙虎山的钓鱼老人赵黄巢。赵黄巢算出来徐凤年将会影响皇室气运,于是，便让袁庭山去杀徐凤年的身边人，削弱徐凤年的气运</p>
<p>于是袁庭山来到江南卢家，正要对徐脂虎动手的时候，洪洗象一把飞剑赶到,拦下了袁庭山</p>
<p>原著中关于袁庭山和赵黄巢,其实还有许多的对话设计,通过这些篇幅对人物的描写,刻画出一个有智谋,小心谨慎的袁庭山,而在电视剧中,直接删减大篇幅的人物塑造,使得袁庭山变成了彻头彻尾的工具人,如果说出自影视作品的删改,来不及刻画人物,干脆写成一个工具人,这样处理也说得过去。但是现状是袁庭山属于顾剑棠的麾下,顾剑棠和徐凤年属于同盟,袁庭山没有必要去杀徐脂虎,那么洪洗象骑鹤下江南就缺少了契机,至少因为袁庭山杀徐脂虎而骑鹤下江南这个契机是说不通了。假如雪中悍刀行真的有第二季,那么这个契机的达成,就需要其他的角色或者其他的理由来实现,不知道编剧如何将这故事逻辑给圆回来,我们只能交由时间来证明了。</p>
<h2 id="2-3赵楷这个喊大师傅小心的时候太迟"><a href="#2-3赵楷这个喊大师傅小心的时候太迟" class="headerlink" title="2.3赵楷这个喊大师傅小心的时候太迟"></a>2.3赵楷这个喊大师傅小心的时候太迟</h2><p>在38集当中,出现了很多不合理的剧情展现,让我们先来看一个例子（第38集），韩貂寺最后被徐凤年的飞剑斩杀的时候,赵楷喊了一声大师傅小心，这个一句话是不说说的有些太晚了，等自己的师傅被飞剑刺个透心凉之后，再说你小心，当时我看到这里之后，还在想，赵楷是不是希望他师傅死掉，从而达到什么目的，可惜是我想多了，赵楷到后面直接自杀。而这不合理的一幕始终只是人为失误造成的罢了。</p>
<p>早在雪中悍刀行电视剧之前，我就在B站被推送到了各种雪中悍刀行的剪辑视频，在那些视频当中，描绘了一个权谋，武侠，儿女情长等等美好元素的完美融合体，但是在看完38集之后，我只想给那时的自己一个大嘴巴子，告诉自己别看。</p>
<p>那么这期视频就到此结束，我是YuZhangWang，我们下期视频再见。</p>
]]></content>
      <categories>
        <category>技能学习记录</category>
        <category>影视观赏</category>
      </categories>
      <tags>
        <tag>雪中悍刀行</tag>
        <tag>文案</tag>
      </tags>
  </entry>
  <entry>
    <title>图表的创建和动态修改测试</title>
    <url>/123-chart-creation/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure>
<h1 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  graph TD;
    A--&gt;B;
    A--&gt;C;
    B--&gt;D;
    C--&gt;D;
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">    A--&gt;B;</span><br><span class="line">    A--&gt;C;</span><br><span class="line">    B--&gt;D;</span><br><span class="line">    C--&gt;D;</span><br></pre></td></tr></table></figure>
<h1 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  sequenceDiagram
    participant Alice
    participant Bob
    Alice-&gt;&gt;John: Hello John, how are you?
    loop Healthcheck
        John-&gt;&gt;John: Fight against hypochondria
    end
    Note right of John: Rational thoughts &lt;br&#x2F;&gt;prevail!
    John--&gt;&gt;Alice: Great!
    John-&gt;&gt;Bob: How about you?
    Bob--&gt;&gt;John: Jolly good!
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant Alice</span><br><span class="line">    participant Bob</span><br><span class="line">    Alice-&gt;&gt;John: Hello John, how are you?</span><br><span class="line">    loop Healthcheck</span><br><span class="line">        John-&gt;&gt;John: Fight against hypochondria</span><br><span class="line">    end</span><br><span class="line">    Note right of John: Rational thoughts &lt;br/&gt;prevail!</span><br><span class="line">    John--&gt;&gt;Alice: Great!</span><br><span class="line">    John-&gt;&gt;Bob: How about you?</span><br><span class="line">    Bob--&gt;&gt;John: Jolly good!</span><br></pre></td></tr></table></figure>
<h1 id="甘特图"><a href="#甘特图" class="headerlink" title="甘特图"></a>甘特图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  gantt
dateFormat  YYYY-MM-DD
title Adding GANTT diagram to mermaid
excludes weekdays 2014-01-10

section A section
Completed task            :done,    des1, 2014-01-06,2014-01-08
Active task               :active,  des2, 2014-01-09, 3d
Future task               :         des3, after des2, 5d
Future task2               :         des4, after des3, 5d
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">gantt</span><br><span class="line">dateFormat  YYYY-MM-DD</span><br><span class="line">title Adding GANTT diagram to mermaid</span><br><span class="line">excludes weekdays 2014-01-10</span><br><span class="line"></span><br><span class="line">section A section</span><br><span class="line">Completed task            :done,    des1, 2014-01-06,2014-01-08</span><br><span class="line">Active task               :active,  des2, 2014-01-09, 3d</span><br><span class="line">Future task               :         des3, after des2, 5d</span><br><span class="line">Future task2               :         des4, after des3, 5d</span><br></pre></td></tr></table></figure>
<h1 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  classDiagram
Class01 &lt;|-- AveryLongClass : Cool
Class03 *-- Class04
Class05 o-- Class06
Class07 .. Class08
Class09 --&gt; C2 : Where am i?
Class09 --* C3
Class09 --|&gt; Class07
Class07 : equals()
Class07 : Object[] elementData
Class01 : size()
Class01 : int chimp
Class01 : int gorilla
Class08 &lt;--&gt; C2: Cool label
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">classDiagram</span><br><span class="line">Class01 &lt;|-- AveryLongClass : Cool</span><br><span class="line">Class03 *-- Class04</span><br><span class="line">Class05 o-- Class06</span><br><span class="line">Class07 .. Class08</span><br><span class="line">Class09 --&gt; C2 : Where am i?</span><br><span class="line">Class09 --* C3</span><br><span class="line">Class09 --|&gt; Class07</span><br><span class="line">Class07 : equals()</span><br><span class="line">Class07 : Object[] elementData</span><br><span class="line">Class01 : size()</span><br><span class="line">Class01 : int chimp</span><br><span class="line">Class01 : int gorilla</span><br><span class="line">Class08 &lt;--&gt; C2: Cool label</span><br></pre></td></tr></table></figure>
<h1 id="Git-图"><a href="#Git-图" class="headerlink" title="Git 图"></a>Git 图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  gitGraph
       commit
       commit
       branch develop
       commit
       commit
       commit
       checkout main
       commit
       commit
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">gitGraph</span><br><span class="line">       commit</span><br><span class="line">       commit</span><br><span class="line">       branch develop</span><br><span class="line">       commit</span><br><span class="line">       commit</span><br><span class="line">       commit</span><br><span class="line">       checkout main</span><br><span class="line">       commit</span><br><span class="line">       commit</span><br></pre></td></tr></table></figure>
<h1 id="状态图"><a href="#状态图" class="headerlink" title="状态图"></a>状态图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  stateDiagram-v2
[*] --&gt; Still
Still --&gt; [*]
Still --&gt; Moving
Moving --&gt; Still
Moving --&gt; Crash
Crash --&gt; [*]
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">stateDiagram-v2</span><br><span class="line">[*] --&gt; Still</span><br><span class="line">Still --&gt; [*]</span><br><span class="line">Still --&gt; Moving</span><br><span class="line">Moving --&gt; Still</span><br><span class="line">Moving --&gt; Crash</span><br><span class="line">Crash --&gt; [*]</span><br></pre></td></tr></table></figure>
<h1 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  pie
&quot;Dogs&quot; : 386
&quot;Cats&quot; : 85
&quot;Rats&quot; : 15
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pie</span><br><span class="line">&quot;Dogs&quot; : 386</span><br><span class="line">&quot;Cats&quot; : 85</span><br><span class="line">&quot;Rats&quot; : 15</span><br></pre></td></tr></table></figure>
<h1 id="象限图"><a href="#象限图" class="headerlink" title="象限图"></a>象限图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  quadrantChart
    title Reach and engagement of campaigns
    x-axis Low Reach --&gt; High Reach
    y-axis Low Engagement --&gt; High Engagement
    quadrant-1 We should expand
    quadrant-2 Need to promote
    quadrant-3 Re-evaluate
    quadrant-4 May be improved
    Campaign A: [0.3, 0.6]
    Campaign B: [0.45, 0.23]
    Campaign C: [0.57, 0.69]
    Campaign D: [0.78, 0.34]
    Campaign E: [0.40, 0.34]
    Campaign F: [0.35, 0.78]
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">quadrantChart</span><br><span class="line">    title Reach and engagement of campaigns</span><br><span class="line">    x-axis Low Reach --&gt; High Reach</span><br><span class="line">    y-axis Low Engagement --&gt; High Engagement</span><br><span class="line">    quadrant-1 We should expand</span><br><span class="line">    quadrant-2 Need to promote</span><br><span class="line">    quadrant-3 Re-evaluate</span><br><span class="line">    quadrant-4 May be improved</span><br><span class="line">    Campaign A: [0.3, 0.6]</span><br><span class="line">    Campaign B: [0.45, 0.23]</span><br><span class="line">    Campaign C: [0.57, 0.69]</span><br><span class="line">    Campaign D: [0.78, 0.34]</span><br><span class="line">    Campaign E: [0.40, 0.34]</span><br><span class="line">    Campaign F: [0.35, 0.78]</span><br></pre></td></tr></table></figure>
<h1 id="用户旅程图"><a href="#用户旅程图" class="headerlink" title="用户旅程图"></a>用户旅程图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  journey
    title My working day
    section Go to work
      Make tea: 5: Me
      Go upstairs: 3: Me
      Do work: 1: Me, Cat
    section Go home
      Go downstairs: 5: Me
      Sit down: 5: Me
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">journey</span><br><span class="line">    title My working day</span><br><span class="line">    section Go to work</span><br><span class="line">      Make tea: 5: Me</span><br><span class="line">      Go upstairs: 3: Me</span><br><span class="line">      Do work: 1: Me, Cat</span><br><span class="line">    section Go home</span><br><span class="line">      Go downstairs: 5: Me</span><br><span class="line">      Sit down: 5: Me</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="C4-图"><a href="#C4-图" class="headerlink" title="C4 图"></a>C4 图</h1><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  C4Context
title System Context diagram for Internet Banking System

Person(customerA, &quot;Banking Customer A&quot;, &quot;A customer of the bank, with personal bank accounts.&quot;)
Person(customerB, &quot;Banking Customer B&quot;)
Person_Ext(customerC, &quot;Banking Customer C&quot;)
System(SystemAA, &quot;Internet Banking System&quot;, &quot;Allows customers to view information about their bank accounts, and make payments.&quot;)

Person(customerD, &quot;Banking Customer D&quot;, &quot;A customer of the bank, &lt;br&#x2F;&gt; with personal bank accounts.&quot;)

Enterprise_Boundary(b1, &quot;BankBoundary&quot;) {

  SystemDb_Ext(SystemE, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

  System_Boundary(b2, &quot;BankBoundary2&quot;) {
    System(SystemA, &quot;Banking System A&quot;)
    System(SystemB, &quot;Banking System B&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)
  }

  System_Ext(SystemC, &quot;E-mail system&quot;, &quot;The internal Microsoft Exchange e-mail system.&quot;)
  SystemDb(SystemD, &quot;Banking System D Database&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)

  Boundary(b3, &quot;BankBoundary3&quot;, &quot;boundary&quot;) {
    SystemQueue(SystemF, &quot;Banking System F Queue&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)
    SystemQueue_Ext(SystemG, &quot;Banking System G Queue&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)
  }
}

BiRel(customerA, SystemAA, &quot;Uses&quot;)
BiRel(SystemAA, SystemE, &quot;Uses&quot;)
Rel(SystemAA, SystemC, &quot;Sends e-mails&quot;, &quot;SMTP&quot;)
Rel(SystemC, customerA, &quot;Sends e-mails to&quot;)
  </pre></div>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C4Context</span><br><span class="line">title System Context diagram for Internet Banking System</span><br><span class="line"></span><br><span class="line">Person(customerA, &quot;Banking Customer A&quot;, &quot;A customer of the bank, with personal bank accounts.&quot;)</span><br><span class="line">Person(customerB, &quot;Banking Customer B&quot;)</span><br><span class="line">Person_Ext(customerC, &quot;Banking Customer C&quot;)</span><br><span class="line">System(SystemAA, &quot;Internet Banking System&quot;, &quot;Allows customers to view information about their bank accounts, and make payments.&quot;)</span><br><span class="line"></span><br><span class="line">Person(customerD, &quot;Banking Customer D&quot;, &quot;A customer of the bank, &lt;br/&gt; with personal bank accounts.&quot;)</span><br><span class="line"></span><br><span class="line">Enterprise_Boundary(b1, &quot;BankBoundary&quot;) &#123;</span><br><span class="line"></span><br><span class="line">  SystemDb_Ext(SystemE, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)</span><br><span class="line"></span><br><span class="line">  System_Boundary(b2, &quot;BankBoundary2&quot;) &#123;</span><br><span class="line">    System(SystemA, &quot;Banking System A&quot;)</span><br><span class="line">    System(SystemB, &quot;Banking System B&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  System_Ext(SystemC, &quot;E-mail system&quot;, &quot;The internal Microsoft Exchange e-mail system.&quot;)</span><br><span class="line">  SystemDb(SystemD, &quot;Banking System D Database&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)</span><br><span class="line"></span><br><span class="line">  Boundary(b3, &quot;BankBoundary3&quot;, &quot;boundary&quot;) &#123;</span><br><span class="line">    SystemQueue(SystemF, &quot;Banking System F Queue&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)</span><br><span class="line">    SystemQueue_Ext(SystemG, &quot;Banking System G Queue&quot;, &quot;A system of the bank, with personal bank accounts.&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BiRel(customerA, SystemAA, &quot;Uses&quot;)</span><br><span class="line">BiRel(SystemAA, SystemE, &quot;Uses&quot;)</span><br><span class="line">Rel(SystemAA, SystemC, &quot;Sends e-mails&quot;, &quot;SMTP&quot;)</span><br><span class="line">Rel(SystemC, customerA, &quot;Sends e-mails to&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>Mermaid</tag>
        <tag>测试</tag>
      </tags>
  </entry>
  <entry>
    <title>后出师表</title>
    <url>/121-northern-memorial/</url>
    <content><![CDATA[<p>先帝深虑汉、贼不两立，王业不偏安，故托臣以讨贼也。以先帝之明，量臣之才，固知臣伐贼，才弱敌强也。然不伐贼，王业亦亡。惟坐而待亡，孰与伐之？是故托臣而弗疑也。</p>
<p>臣受命之日，寝不安席，食不甘味。思惟北征。宜先入南。故五月渡泸，深入不毛，并日而食；臣非不自惜也，顾王业不可得偏安于蜀都，故冒危难，以奉先帝之遗意也，而议者谓为非计。今贼适疲于西，又务于东，兵法乘劳，此进趋之时也。谨陈其事如左：</p>
<p>高帝明并日月，谋臣渊深，然涉险被创，危然后安。今陛下未及高帝，谋臣不如良、平，而欲以长策取胜，坐定天下，此臣之未解一也。</p>
<p>刘繇、王朗各据州郡，论安言计，动引圣人，群疑满腹，众难塞胸，今岁不战，明年不征，使孙策坐大，遂并江东，此臣之未解二也。</p>
<p>曹操智计，殊绝于人，其用兵也，仿佛孙、吴，然困于南阳，险于乌巢，危于祁连，逼于黎阳，几败北山，殆死潼关，然后伪定一时耳。况臣才弱，而欲以不危而定之，此臣之未解三也。</p>
<p>曹操五攻昌霸不下，四越巢湖不成，任用李服而李服图之，委任夏侯而夏侯败亡，先帝每称操为能，犹有此失，况臣驽下，何能必胜？此臣之未解四也。</p>
<p>自臣到汉中，中间期年耳，然丧赵云、阳群、马玉、阎芝、丁立、白寿、刘郃、邓铜等及曲长、屯将七十余人，突将、无前、賨叟、青羌、散骑、武骑一千余人。此皆数十年之内所纠合四方之精锐，非一州之所有；若复数年，则损三分之二也，当何以图敌？此臣之未解五也。</p>
<p>今民穷兵疲，而事不可息；事不可息，则住与行劳费正等。而不及今图之，欲以一州之地，与贼持久，此臣之未解六也。</p>
<p>夫难平者，事也。昔先帝败军于楚，当此时，曹操拊手，谓天下已定。然后先帝东连吴越，西取巴蜀，举兵北征，夏侯授首，此操之失计，而汉事将成也。然后吴更违盟，关羽毁败，秭归蹉跌，曹丕称帝。凡事如是，难可逆见。臣鞠躬尽瘁，死而后已。至于成败利钝，非臣之明所能逆睹也。</p>
]]></content>
      <categories>
        <category>读书笔记</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>后出师表</tag>
      </tags>
  </entry>
  <entry>
    <title>记录一个我遇到的考研炮灰</title>
    <url>/122-cannon-fodder/</url>
    <content><![CDATA[<p>我遇到了一个自信满满，不知悔改的考研炮灰，这是我从被他各种无脑行为打扰，到了解到他学习情况，最后物理心灵上共同逃离的故事。 </p>
<h1 id="1-和学习无关的内容"><a href="#1-和学习无关的内容" class="headerlink" title="1. 和学习无关的内容"></a>1. 和学习无关的内容</h1><h2 id="1-1-长时间的噪音"><a href="#1-1-长时间的噪音" class="headerlink" title="1.1 长时间的噪音"></a>1.1 长时间的噪音</h2><h3 id="基本情况"><a href="#基本情况" class="headerlink" title="基本情况"></a>基本情况</h3><p>这人坐我后面，每天餐巾纸都要用掉两包，一天到晚抽餐巾纸，抽纸声音一来很频繁，二来他就好像和餐巾纸有仇一样，抽的时候，巨用力，这样每次声音都响，每天抽那么多下，已经形成噪音了。</p>
<h3 id="第1次沟通失败"><a href="#第1次沟通失败" class="headerlink" title="第1次沟通失败"></a>第1次沟通失败</h3><p>后来，晚上教室就剩我和他了，和他说了一说，他听完我说，直接来一句，我是油性皮肤呀，我不擦我难受，说完，当着我的面，用力一抽，还来一句，哎嘿，就吵你！</p>
<h2 id="1-2-频繁进出教室"><a href="#1-2-频繁进出教室" class="headerlink" title="1.2 频繁进出教室"></a>1.2 频繁进出教室</h2><h3 id="基本情况-1"><a href="#基本情况-1" class="headerlink" title="基本情况"></a>基本情况</h3><p>这么说吧，我看一节课，1小时，他要出去6-7次吧，走来走去，走来走去，每次走动，声音还大，一天天的次数多了，很吵。</p>
<h3 id="第2次沟通失败"><a href="#第2次沟通失败" class="headerlink" title="第2次沟通失败"></a>第2次沟通失败</h3><p>后来也问了，他说我喝水多，不能不上厕所；<br>我说，那你少喝点水不就行了，他又说，我不喝水难受。</p>
<h2 id="1-3-抖音外放-吃味道大声音响东西"><a href="#1-3-抖音外放-吃味道大声音响东西" class="headerlink" title="1.3 抖音外放 吃味道大声音响东西"></a>1.3 抖音外放 吃味道大声音响东西</h2><h3 id="基本情况-2"><a href="#基本情况-2" class="headerlink" title="基本情况"></a>基本情况</h3><p>每天晚上22点准时出去，22点半准时回来，回来的时候，伴随着抖音的外放而来。</p>
<p>后来我注意到，他带着耳机，只是耳机开到和外放一样响，在那边看抖音，看完抖音了，继续听歌，等到他听爽了，才开始慢慢悠悠，拿出吃的，嘶拉一下拉开包装，而且不仅吃起来声音大，味道也大。</p>
<p>并且，你吃就吃好了嘛，你用背单词来掩护干啥，你声音这么大，每天就那么几个破单词，都不背新的，我听着你天天背，我都记住了，你还在那边背。</p>
<h3 id="第3次沟通失败"><a href="#第3次沟通失败" class="headerlink" title="第3次沟通失败"></a>第3次沟通失败</h3><p>教室里有规定，不要吃东西，但老师们也说了，就算吃，能理解，吃点声音小没味道的没啥大问题。我和他说了，他说吃东西怎么了，我晚上就是要吃东西！</p>
<h2 id="1-4-门窗黑板"><a href="#1-4-门窗黑板" class="headerlink" title="1.4 门窗黑板"></a>1.4 门窗黑板</h2><h3 id="门"><a href="#门" class="headerlink" title="门"></a>门</h3><p>教室里的门，这边一共10个教室左右，其他教室门全是开着的，或者这么说，进进出出，没人会在意开还是关，我一路走过来，全是开着，或者半掩着的。<br>然后他，每次进出门，一定要把门关的严严实实</p>
<h3 id="窗"><a href="#窗" class="headerlink" title="窗"></a>窗</h3><p>每天傍晚，他都要，趁着我们出去吃饭，把一旁窗户打开，教室里除了你吃东西外，没什么其他味道，你也用不到开窗户。而且，夏天外面蚊子那么多，你天天开窗户，这不是养蛊呢吗？</p>
<h3 id="黑板"><a href="#黑板" class="headerlink" title="黑板"></a>黑板</h3><p>原本黑板上有倒计时，有个女生在写，后来这女生回家了，他就开始自管自写来写去了。<br>那个考研倒计时，他就总是少写一天，例如距离考研还有44天，他写成43天，如果是少写一天，那么到23号，就是距离考研还有0天，24号就变成了-1天了，这种很简单的错误，他怎么就没意识到呢？</p>
<h3 id="第4次沟通失败"><a href="#第4次沟通失败" class="headerlink" title="第4次沟通失败"></a>第4次沟通失败</h3><p>关于门窗，门我本来就不在乎，没什么必要说多余的话；窗户开着，搞得教室里全是飞来飞去的虫，有时候还有蟑螂，于是我回来会把窗户关上，身上喷点驱蚊喷剂，也没和他沟通。<br>关于黑板，这么明显的数字BUG，我作为考数一的计算机专业学生，实在是看不下去这么低级的错误，虽然知道说了没啥结果，还是在我专业性的驱使下说了。<br>但他的回答是，我就是觉得之前人家写错了，我觉得这样很好。</p>
<h1 id="2-和学习相关的内容"><a href="#2-和学习相关的内容" class="headerlink" title="2. 和学习相关的内容"></a>2. 和学习相关的内容</h1><h2 id="2-1-择校"><a href="#2-1-择校" class="headerlink" title="2.1 择校"></a>2.1 择校</h2><h3 id="最初选择"><a href="#最初选择" class="headerlink" title="最初选择"></a>最初选择</h3><p>之前一块隔离的时候，他说他是跨考，而且要一上来就考408四本书，公共课是数二英二。跨考408的人也不少，我也不知道他水平如何，因此对他说的天花乱坠的那些东西，我也就没啥感觉。然后他说要考杭师大，还特意说了，自己本科不好，不敢报多好的学校。</p>
<h3 id="改学校"><a href="#改学校" class="headerlink" title="改学校"></a>改学校</h3><p>后来他说他要考福建师范学校。<br>这里我就很迷惑，他既然要跨考计算机，而且他也说就是看计算机赚钱多一点才考计算机，那么你既然不选杭师大了，那么可以选一些计算机专业强势一点的双非学校啊，比如桂林电子科技，对他以后想赚钱来说，足够用了；或者干脆考海南大学，牌子是211，这种简历上可以让他过关的学校。但是，他反而选什么福建师范大学，我问他是不是要定居福建，他说不是的，就是看着有个师范两个字，好一点。</p>
<blockquote>
<p>福建师范大学在当地就业还行，出省了差了许多。他是个温州人，不在福建定居情况下，纯粹用带有师范两个字选学校，没有什么其他依据，实在是过于草率</p>
</blockquote>
<h2 id="2-2-专业课"><a href="#2-2-专业课" class="headerlink" title="2.2 专业课"></a>2.2 专业课</h2><h3 id="自我攻略能力MAX"><a href="#自我攻略能力MAX" class="headerlink" title="自我攻略能力MAX"></a>自我攻略能力MAX</h3><p>直接说结果，他考408，408课看了半年，第一遍还没看完，一直到11月份，题还一道没写。<br>我5月份劝他，换个1-2门专业课的吧，8月份劝他提高效率，11月份再劝他要提高效率了。他始终不听。<br>他和我说的话，始终是，”已经这样了，没办法了，我只能硬着头皮学408学下去。”<br>我真的满脸问号，已经什么样了啊，什么叫没办法？11月份确认结束了，你说没办法，这还能说得过去。5月份、8月份的时候，叫哪门子没办法，有人拿枪逼着你让你学408了？还是你除了杭师大，福建师范，没有其他学校选了？？？</p>
<h3 id="对计算机的认知浅薄"><a href="#对计算机的认知浅薄" class="headerlink" title="对计算机的认知浅薄"></a>对计算机的认知浅薄</h3><p>他会问我，你们学计算机的，是不是要学Java啊，巴拉巴拉说一大堆，总之就是一句话，他觉得的程序员，必须要学Java。说实话，我没怎么学过Java，我说计算机相关研究生，大部分都是要来一套深度学习这类的，要用Python，他就一副接受不了的表情，没话了。</p>
<blockquote>
<p>这里我想起来，我见过挺多，被那种培训机构糊弄的人，也是一副Java天下第一以及世界上只有Java的样子。不知道，他这种想法哪来的，也没什么兴趣多问</p>
</blockquote>
<h2 id="2-3-数学"><a href="#2-3-数学" class="headerlink" title="2.3 数学"></a>2.3 数学</h2><p>既然上面说到了，他单专业课就看了半年，还没看完，那他公共课如何呢？<br>到了11月份，他三门公共课，数二英二政治，可以说是一塌糊涂，乱七八糟。</p>
<p>到11月份为止，他880高数部分写了3章，线代课还有2章没看完，880线代部分一题未写。<br>除了880以外，他1800、660、1000题都买了，但那些，真的一道未写了。</p>
<p>我问，你为什么不写题目呢，他说，我已经会了，没必要写，我现在只是忘了，之后再回忆一下就好了。<br>我问，你是怎么判断出，你不需要写了的呢，他说，我看小红书上，不写的人多的是，就写两套真题去考试，没问题的。</p>
<h2 id="2-4-英语"><a href="#2-4-英语" class="headerlink" title="2.4 英语"></a>2.4 英语</h2><p>上面说过，他背单词，实际上没啥效果，在英二真题里面，体现很淋漓尽致。<br>他不写完型、新题型、翻译，只写阅读，这也行吧。<br>但是他一篇阅读要45分钟，最快也要30分钟，真的很离谱，就一直盯着，好像盯着就全对了。<br>结果不出所料，5道错4道，少点错3道。他最好的错2个，他还在那篇阅读上，画了个笑脸，配上文字“嘻嘻，做的真好”。</p>
<p>我问他，那你作文怎么办啊？他说，背一篇就够了，不需要背其他的了，我也不知道，他说的一篇模板，还是一篇预测作文。</p>
<h2 id="2-5-政治"><a href="#2-5-政治" class="headerlink" title="2.5 政治"></a>2.5 政治</h2><p>徐涛强化课他没看，肖秀荣1000题他也没写，后面肖八也不写。</p>
<p>我问他，你肖四打算怎么背啊，他说，背8道题目足够了。</p>
<blockquote>
<p>是我没有的自信了</p>
</blockquote>
<h1 id="3-补充内容"><a href="#3-补充内容" class="headerlink" title="3. 补充内容"></a>3. 补充内容</h1><h2 id="3-1-对考985的不屑一顾"><a href="#3-1-对考985的不屑一顾" class="headerlink" title="3.1 对考985的不屑一顾"></a>3.1 对考985的不屑一顾</h2><p>这边有2个考清华的巨佬，一男一女，男生文科，女生工科电路，每天复习到凌晨3点，早上8点又准时出现在教室，我很佩服。</p>
<p>在劝诫这个炮灰的同时，我会用这些人做例子，劝他赶紧提高效率呀，但他却说，他们肯定考不上，人家考的可是清华，怎么可能。</p>
<p>完事，对我们几个考985的，话里话外不屑一顾，透露出来的意思就是，他一定能上岸，我们不行。</p>
<h2 id="3-2-对211室友不屑一顾"><a href="#3-2-对211室友不屑一顾" class="headerlink" title="3.2 对211室友不屑一顾"></a>3.2 对211室友不屑一顾</h2><p>之前隔离，我和炮灰的室友，也在一块隔离，他是个211本科的朋友，聊过几次，他各种学习方法，对人对事的态度，我还是比较认可的。</p>
<p>可是炮灰同志和我说，他觉得他这个211的室友，说的很多话，他都不认同，都觉得是错的。</p>
<p>离谱的点在于，他既然都不认同，还天天拽着室友，聊到凌晨3点不睡觉。不过，这朋友和我说，他其实也无所谓，比较佛系，炮灰同志想聊到3点，那就陪他聊吧。</p>
<h2 id="3-3-好打听别人"><a href="#3-3-好打听别人" class="headerlink" title="3.3 好打听别人"></a>3.3 好打听别人</h2><p>从多次和他沟通对话中，我能得知很多人的事情，都是他主动给我说的，这些内容包括，谁谁谁考什么学校，现在进度怎么样，甚至连人家专业课考哪几本书都知道。我来这边，也就几个熟悉的朋友或者像这炮灰坐我后面，离我比较近一点，可能对他们清楚一点，但他可是都要加一遍群里面人的微信，问问人家，我微信一开始就是不让人从群里加的，他还特地跑来找我，让我去加他微信。而且，每天教室里，谁谁谁做了什么事，他都喜欢去观察，去记下来说。</p>
<blockquote>
<p>就他这样，喜欢打听别人的事，喜欢观察人，既把精力放在各种琐事上面，又把精力放在别人干了什么事情上面，还考个P的研究生啊</p>
</blockquote>
<h2 id="3-4-事件发生背景"><a href="#3-4-事件发生背景" class="headerlink" title="3.4 事件发生背景"></a>3.4 事件发生背景</h2><p>整个事情发生在考研寄宿中心里面，炮灰是工作了辞职第一次考研，我是二战。这里的人，上限很高，下限也很低。我并不是碰巧坐在他前面，而是我很早就来这里选好了位置，后面由于疫情，过来之前要先在外面隔离，然后进来。隔离差不多的时候，他把我过去的名额抢了，比我先到，然后他看我坐哪里，选在了我后面。当时我以为，无非就是一块隔离住一起过，他选我后面，之后可能问问我一些学习方面的事情吧，没成想他是这么一个人。</p>
<blockquote>
<p>具体是怎么抢走的呢？<br>一共五人隔离，第一个到的是个大佬，来了一周，我们一块住了一周，他待满半个月就过去了。<br>我比炮灰早来一天，我在六楼找了一个付费自习室，白天就在那复习(那是个商业宿舍楼，我们在同一栋楼的八楼进行隔离，六楼正好有付费自习室)。<br>后面我时间到了，他就趁机，让来这边的老师，先带他走了。我虽然那个时候在自习室复习，但我也和带人老师说了，我不在的话，微信找我就行，我上楼打包东西走。<br>后来我才了解到，他每天都在微信上，跑去找这个来带人的老师，聊好久，所以他能抢走我的名额，不奇怪。</p>
</blockquote>
<h1 id="4-逃离"><a href="#4-逃离" class="headerlink" title="4. 逃离"></a>4. 逃离</h1><h2 id="4-1-物理逃离"><a href="#4-1-物理逃离" class="headerlink" title="4.1 物理逃离"></a>4.1 物理逃离</h2><p>5月份到8月份，再到11月份，他一次次挑战我和教室里其他人的下限，最后11月份，我确实受不了了他，于是果断，找老师，换到了隔壁去，实现了物理上，逃离这个人，他对我噪音的影响也好，各种奇怪的话的影响也好，物理上直接给他隔绝，最后这段复习时间了，不能被这炮灰影响了。</p>
<h2 id="4-2-心灵逃离"><a href="#4-2-心灵逃离" class="headerlink" title="4.2 心灵逃离"></a>4.2 心灵逃离</h2><p>炮灰同志有两句话，第一句，“你不是机器，你是人”<br>在我规劝他的时候，我会说最后这段时间了，每天要把任务完成，你再不提高你的效率，就真的要成为炮灰了，他说“你不是机器，你是人，我心情好多学一点，不好少学一点，我很焦虑，压力大的！”</p>
<p>我一时间还没有转过思路来，我就去找了我的导师，他说现在考研这个阶段，就是要要求我们当机器，考清华的比我还更像机器，到了最后冲刺阶段了，不当了机器能行吗，当一个机器，好过于考不上。把我的一个小小的心结给解开了。</p>
<p>第二句话，“压力虽然是借口，但也是原因”<br>我听完他各种无病呻吟，像“什么不喝水难受，只能喝水，多上厕所走来走去”，“不擦脸难受，只能擦脸”，“没办法了，只能考408”，我说，你把精力放这些上面，找这么多借口，还要什么精力来考研呢？这个时候，他就来了他的第二句金句，“压力虽然是借口，但也是原因”。</p>
<p>同样对于这句话，我的导师说这句话只能说明，抗压能力和韧性不够，只是他承受不了，才会把这个当做原因。</p>
<h1 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h1><p>考研是一场国家性选拔人才的考试，有其固定的标准在那里，就算目标院校是国家线，那么也有国家线这个标准在那里。我们要做的，就是尊重这个事实，摒除杂念，提高效率，达到硬性要求，其实就这么简单。</p>
<p>这个炮灰，在相当一段时间，打扰我，还和他沟通无效，一定程度上，已经成为了我的杂念，我应该更早，就换教室，更早找导师，寻求解答，不过好在，其实他对我的学习，也没有产生太大影响，现在没有了他，我效率更高，就是一件好事了。</p>
<p>炮灰的故事，告诉我们，有一股无形的力量在阻止你，那就是你自己。</p>
<p>而我的故事，告诉我们，遇到杂念，多问问自己Would it help? 做到及时止损</p>
<p>最后送大家一张图，希望能帮到你</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202212041852547.jpg" alt=""></p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研炮灰</tag>
        <tag>规劝傻逼</tag>
      </tags>
  </entry>
  <entry>
    <title>原来我的皮肤生病了</title>
    <url>/125-aopic-dermatitis/</url>
    <content><![CDATA[<blockquote>
<p>特应性皮炎（Atopic Dermatitis）是一种慢性、复发性的炎症性皮肤病，通常起始于婴幼儿期，也可在成人时发生。它表现为皮肤瘙痒、红肿、渗出、干燥、粗糙、开裂等不同程度的皮肤损害，常累及面部、颈部、肘部、手腕、膝盖弯曲处等皮肤褶皱处。其发病机制为遗传因素、免疫异常和环境因素的相互作用所致。特应性皮炎与其他变应性疾病，如过敏性鼻炎、哮喘等有关联。治疗包括局部药物治疗、口服抗过敏药物、光疗等综合治疗措施。</p>
</blockquote>
]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>特应性皮炎</tag>
        <tag>干性湿疹</tag>
      </tags>
  </entry>
  <entry>
    <title>考研数学记忆点</title>
    <url>/126-exam-mathematics/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>考试资料</category>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
        <tag>数学</tag>
        <tag>记忆</tag>
      </tags>
  </entry>
  <entry>
    <title>考研政治记忆点</title>
    <url>/127-exam-politics/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>考试资料</category>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
        <tag>记忆</tag>
        <tag>政治</tag>
      </tags>
  </entry>
  <entry>
    <title>考研935记忆点</title>
    <url>/128-exam-935/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>考试资料</category>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
        <tag>记忆</tag>
        <tag>935</tag>
      </tags>
  </entry>
  <entry>
    <title>域名的小问题导致网站关闭了很久</title>
    <url>/130-domain-name-issue/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>极客之旅</category>
      </categories>
      <tags>
        <tag>网站</tag>
        <tag>域名</tag>
      </tags>
  </entry>
  <entry>
    <title>Butterfly主题中远程友链实操</title>
    <url>/131-remote-friend-linking/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>极客之旅</category>
        <category>项目展示</category>
      </categories>
      <tags>
        <tag>Butterfly</tag>
        <tag>远程友链</tag>
      </tags>
  </entry>
  <entry>
    <title>原神进度以及未来规划</title>
    <url>/129-genshin-progress-planning/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>游戏体验</category>
      </categories>
      <tags>
        <tag>原神</tag>
      </tags>
  </entry>
  <entry>
    <title>如何拥有一个Awesome的Github介绍页面</title>
    <url>/132-github-introduction/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>极客之旅</category>
        <category>项目展示</category>
      </categories>
      <tags>
        <tag>Github</tag>
        <tag>Awesome</tag>
      </tags>
  </entry>
  <entry>
    <title>你应该为自己创建一个Github仓库模板</title>
    <url>/133-best-template/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>极客之旅</category>
        <category>项目展示</category>
      </categories>
      <tags>
        <tag>Github</tag>
        <tag>Awesome</tag>
      </tags>
  </entry>
  <entry>
    <title>过去 现在 未来</title>
    <url>/134-past-pesent-future/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="3e6bec08a6d4c6d15fa0079e7cf6bb32806123e5aa270ff0985e2e17117f9d5a">3a8a5df7d0d2fa169bfdc53529f2c08bf52942dc61f9f747149893a2c3d17e923adda4ff25d9d489f31c07b0eed3887d976dc1ae33290515278f35489183114447b9bcc3e47016624e09b6edebe6d6de5929c5fe8f2891ceb313932c63e0f1fc944a40974ae8ca5096e904b1b6aa2bacbee4b82b29486844994e16c7e9908c801ad2450d58583a85f5870a2161b767112ebba10e1bbe2baffcfa7f092c70463ef2f7923caedbdf5b908d8c8e55b1ae0e1613ae0c68e9cbccf27de203c7c0de562825fb1c3bbc5a6a0bf8a1cbfdc557d237fc5e2bc4fe5c80cdc86f229afe256f332a8920e1fec7321abac6d5c0ddfbd99940d84d528490c89853121df1081fe87112af4f53c31e8ac69e10e025d83a883d4d31ce8f8c7ad85d79289c97a763774a0b682e6599d9ec9c5eb9f381c88097e9440fd877f81d15c7b615ecb92cd5bf59691fdd927fa8bf25937c8a8565a3b4eb8a0f9788289e6d681aaac9cd81ca3f5bb926afca2cf108f5397f8cd823dcdf3446b39db6deb96e49d43d70d381fefd87f38d7c5c81499778155c09fd40bf9e183a3c3b33e5d7dee0cea087d980c2abd88926837fdea9f910077e50121a5a1d4c40024813feacf117760f99f7c401cd2c4ed4b5285ae43a9e5199fa43bab98736c8aae8df2aa79b7c8a8d9f0f0a5d6af6ad8e96e0b63fed08cd823f26cec90ef00f560e1f6da30d3fbc884701789fdb33be0460dc7476f57cd9891bc940d3c7840fd7158c66b6e978ec640e1e748f5fc1baee6c5dfdb9bf00da2252f4781b743804b53614dbedcd1d606a6930abd25cf13268dd2c882a81c4501dc3eca246f0fe7965202f9ae745eeb280e49d51f2cada73efe53301ea437aff062eec999515af87fc863bcf0aa6c9d2a1f8c49f1eed919815ebe4a7f9ad664358a7cc1dd8a2475b5ce101a6bf7bf14c89ab4116ebe8500c26c00aff2a0eb2910869871d6873d5f1c2b924ac5d07e40d50d7328def5986979cdb727b44e1bb76ed0f5c7ddfa995dab971e877f267aa84a0f6e37bd271290a0640d62d901179ba2784f124458b4468f3c94bb31b3f1cacbefa1f0b30221ba22636fb2e7f435638dd3e981427dcb89203b1e311783f1cccf38e8572992efd32bab557fc7158d50334b51c08a5cce0a6ecb80f40f6c525ee91bf1cd0f5d0c76f72d9c464ac667dd2cfbc972503dbbea5c102c427f34f281221b9151af33988baedf4b9c7f6b86f3876871875b8add70c18fd3a41423fad7c5ee4ecb18f8358e8e42a1cb82aabf6e8a2131831956c800e6ac9576f2f83592c15edbb4b73e7101ec6f944d82f5f0eb984baeccadae07608160aaf6ccba46bfb6599e7307cbb5c39fcee3d07d98913604ea07de0b369a43aec49846f91581f518063ed32f67a9e146d5a6e97e8b96135e3379455a15c92c1102f9ef451cf7303a2f7e10f9bf113e06e1a15bfef980771e9df3792f223fda4c9a3ee4354e606622b6836875b5e916fa5c06d9f863d50a26c42e0e9b8482610dd6e755c7a12be74ee2256f71cf999367903e20be51fa7e9d3b3fb0b05ad91cc8cb05a44397dfe156b8f725f4588d38d31fd96f5199ee180df9577045960e67c2add9a72501d323398c195e0919b26b4bc3c939cb85f2eb3527974392fde3dd3a1c3efcce4f659dfee9d690a7ae4bc731867571b3df2c698c377658ddbc8e534b6f38cc8732653cfe2344aeeba0720e3c80d4276c711881d72d61accfe81b8739376678c87bb90e62439be2cac355abcbc1c9fd1ebefc74983e036af459aae559e670dfe69db3ab6336c3dfc6505a2ce6193d40bef4a0740aba5d4e5cec9f269019ecebe88223ad5ef25f19bcd47ffe8799d71a864117369a8a9556226840d45c9e778350255ca9b00346e22ab1bdc3862974d46b1c4578eb6cf90c1bfd191b397debe491f11cba490894cdbf67d9469002d5d037292839feba2d0ef5a43eb0aa2f661a2f20e95be6770452470f4a63f3c7a45d7ea9fe3bfbbbbedfa4faf3015d3d790c01f21f1b000c107475322251ff0f8a0ca41f7985861034f6ca09b6f83e0d0fb752248af0d9db2f835b627b220151c011db02751478d2e088a86844e1a78136b042aaebee07b27f27338037ba86fa2f7c97565465e9083b768207fc5064c99110a64764f1b0375c46d2161b430b06453a22034cd06033fba1e8bfeb299cd8ccc3968fdc485a6f40db7fa1dd9f6c07dfc8de58fc5f243fc49197b01e3360c790d0dad43c0600b3571ba55db77e3df7a97b72e54249eecfdeb27571051d4bac78dfafc941c2214c3ff2bb9837e97ebd4326f2d77143890d921b63175bcf63e3d8321c643fdd913f4ee2f20bfc82f5fc9ca90c32023b256429782ba8894c141255f263241c9d1e8c6e8c3540edbeb71f6c52fc34932d44b1a4c1f6c0d9affe7af57cd78c0427feb47f8c6a8eceeb8cc84cced56f3c69dc8a05c5ba0361ba038ec4a2f5c5527ce979db5485e508039cffe49b56ada30e7e2d9c5be5716e7cd6ac95e4353d312d5f5c503fba4ab170eee4bb84576f8e205e3c83a9a2aa30413cf1bf4c5080d630cfe27014a1525c8c955787ecf42e22988086dd7a466838fcc986f8c6ae8962753d9a120d6bc6155f671b2249662f600476856ce4cce9d056c7c2f08462b356af2853ae5a5eb1117b2fcdbc273fc2fca7beee1c7b455d9d40de416d5e298c6e052b89e5ed8375e90a62ab81b5023ef242d865a645e4651a4acd9ddddfa5bf06ea837e4d6374792665493169566f29517e158c08d2f448d22272e012111da6acdfc19bb73ccc6e93f7ca070be1484511ea35b10dd76b9635e5856fe0191daae919e8c2571b6252d</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>生活感悟</category>
      </categories>
      <tags>
        <tag>过去</tag>
        <tag>现在</tag>
        <tag>未来</tag>
      </tags>
  </entry>
  <entry>
    <title>学生信息管理系统</title>
    <url>/068-student-management/</url>
    <content><![CDATA[<h1 id="1-问题概述"><a href="#1-问题概述" class="headerlink" title="1.问题概述"></a>1.问题概述</h1><p>随着学校的规模不断扩大，学生数量急剧增加，有关学生的各种信息量也成倍增长。面对庞大的信息量需要有学生管理系统来提高学生管理工作的效率。通过这样的系统可以做到信息的规范管理、科学统计和快速查询、修改、增加、删除等，从而减少管理方面的工作量。需要设计一个学生综合测评的信息及成绩的管理系统，以解决传统纸质信息统计的不易修改，储存及放置等诸多不便及弊端。来简化学校的办公，节约时间及人力。</p>
<h1 id="2-系统需求分析"><a href="#2-系统需求分析" class="headerlink" title="2.系统需求分析"></a>2.系统需求分析</h1><p>在学生信息的日常管理中，经常需要对学生相关信息进行处理，采用传统的手工记录，查询方式，显然有很多不便，如多次的增、删、改可能使信息变得混乱，为今后的信息提取带来很多麻烦。为了解决这一问题，可采用现代化的手段—计算机进行系统的管理。这样可大大提高管理的质量和效率，并且使学生的信息管理也从手工操作中解脱出来，减少纸制材料的数量，对日常信息的查询、方便、快捷。因此，基于这些方面的考虑，决定开发本系统。    </p>
<h1 id="3-系统概要设计"><a href="#3-系统概要设计" class="headerlink" title="3.系统概要设计"></a>3.系统概要设计</h1><h2 id="3-1系统主要功能"><a href="#3-1系统主要功能" class="headerlink" title="3.1系统主要功能"></a>3.1系统主要功能</h2><p>系统的主要功能是实现学生基本的信息及成绩的录入和管理<br>主要包括:<br>(1)学生信息的添加<br>(2)学生信息的修改<br>(3)学生信息的删除<br>(4)学生信息的插入<br>(5)学生成绩按平均成绩排名<br>(6)学生成绩按某一门课排序<br>(7)统计某一门课不及格人数</p>
<h2 id="3-2系统的总体结构"><a href="#3-2系统的总体结构" class="headerlink" title="3.2系统的总体结构"></a>3.2系统的总体结构</h2><h3 id="1-程序主界面的设计"><a href="#1-程序主界面的设计" class="headerlink" title="(1)程序主界面的设计"></a>(1)程序主界面的设计</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162453.png" alt="图3.2.1系统主界面结构图"></p>
<h3 id="2-学生信息处理子界面设计"><a href="#2-学生信息处理子界面设计" class="headerlink" title="(2)学生信息处理子界面设计"></a>(2)学生信息处理子界面设计</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162525.png" alt="图3.2.2系统子界面结构图1"></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162559.png" alt="图3.2.3系统子界面结构图2"></p>
<h3 id="3-学生信息处理分析"><a href="#3-学生信息处理分析" class="headerlink" title="(3)学生信息处理分析"></a>(3)学生信息处理分析</h3><p>①添加学生学号、姓名、数据结构、大学英语<br>②选择需要修改的类别进行修改<br>③选择需要删除的学生学号进行删除<br>④选择需要插入的位置(插入到该位置前)进行学生信息插入</p>
<h3 id="4-学生数据处理分析"><a href="#4-学生数据处理分析" class="headerlink" title="(4)学生数据处理分析"></a>(4)学生数据处理分析</h3><p>①按照数据结构、大学英语两门门课成绩的平均成绩对学生信息排序<br>②按照数据结构、大学英语中某一门课成绩对学生信息排序<br>③选择需要统计不及格人数科目，统计该门课的不及格人数<br>④按照学号、姓名、数据结构成绩、大学英语成绩、平均成绩将学生信息输出至屏幕上<br>⑤根据学号查找相关学生信息</p>
<h2 id="3-3数据结构的设计"><a href="#3-3数据结构的设计" class="headerlink" title="3.3数据结构的设计"></a>3.3数据结构的设计</h2><p>学生信息数据结构类型如下:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162717.png" alt=""></p>
<h1 id="4-系统详细设计"><a href="#4-系统详细设计" class="headerlink" title="4.系统详细设计"></a>4.系统详细设计</h1><p>①根据系统总体结构对问题进行的模块划分，对总的问题可划分为:学生信息处理、学生数据处理、学生信息显示三大模块<br>②在主函数中创建了StudList类的对象list，先调用了CreateList()函数创建一个空的表，再调用了menu(&amp;list)函数显示主菜单，主菜单中调用了学生信息处理和学生数据处理菜单。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162752.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162815.png" alt=""><br>③学生信息处理调用Add()、Insert()、Delete()、Alter()来显示子菜单，同时实现添加，插入，删除，修改功能。<br>④学生数据处理调用了sortAver()、sort()、CountNode()、Seek()来显示子菜单，同时实现按平均成绩排序、按某一课成绩排序、统计某一课成绩不及格人数功能、按学号查找学生相关信息。</p>
<h2 id="4-1主菜单-menu-amp-list"><a href="#4-1主菜单-menu-amp-list" class="headerlink" title="4.1主菜单 menu(&amp;list)"></a>4.1主菜单 menu(&amp;list)</h2><h3 id="1-系统流程"><a href="#1-系统流程" class="headerlink" title="(1)系统流程"></a>(1)系统流程</h3><p>①该函数主要用来显示主菜单的内容以及进入子菜单实现功能，该函数实现过程中首先定义了一个变量a，这是用户选择进入那个模块的选项。<br>②首先判断a的值，如果为2、3、4、5则进入学生信息处理。为2调用Add()进行添加操作；为3调用Alter()进行修改操作；为4调用Delete()进行删除操作；为5调用Insert()进行插入操作。<br>③如果为1、6、7、8、9则进入学生数据处理。为1调用Display()显示所有学生信息；为6调用sortAver()按平均成绩排名；为7调用sort()按某一课成绩排序；为8调用CountNode()统计某一课成绩不及格人数；为9调用Seek()按学号查找学生相关信息。</p>
<h3 id="2-代码实现"><a href="#2-代码实现" class="headerlink" title="(2)代码实现"></a>(2)代码实现</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162856.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162923.png" alt=""></p>
<h2 id="4-2子菜单"><a href="#4-2子菜单" class="headerlink" title="4.2子菜单"></a>4.2子菜单</h2><h3 id="4-2-1学生信息处理-Add-、Insert-、Delete-、Alter"><a href="#4-2-1学生信息处理-Add-、Insert-、Delete-、Alter" class="headerlink" title="4.2.1学生信息处理(Add()、Insert()、Delete()、Alter())"></a>4.2.1学生信息处理(Add()、Insert()、Delete()、Alter())</h3><h4 id="1-Add-函数"><a href="#1-Add-函数" class="headerlink" title="(1)Add()函数"></a>(1)Add()函数</h4><p>①用来添加学生信息，该函数实现过程中首先定义了三个指针p、t。p用来读取数据，t用于判断是否输入重复学号。首先使用if判断头结点是否为空，若为空，则为申请一个新的空间。<br>之后将头指针赋给t，再为p申请新的空间。<br>要求用户输入学生学号并储存在 p-&gt;num中。使用while判断输入的学号是否重复，重复则输出”已存在该学号！”并结束Add()程序。<br>若输入学号不重复，则要求用户输入学生姓名、数据结构成绩、大学英语成绩、大学物理成绩。并调用averGrade(p)函数进行三门成绩平均分的计算，计算结果存放在链表的average中。<br>最后将p的next指向head，head变为p。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824162956.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163017.png" alt=""></p>
<h4 id="2-Insert-函数"><a href="#2-Insert-函数" class="headerlink" title="(2)Insert()函数"></a>(2)Insert()函数</h4><p>①用来插入学生信息，该函数实现过程中首先定义了两个变量i和len，根据用户输入的位置赋给i，然后调用getlen()函数计算当前链表长度。用while判断当前表是否为空。若为空，则输出”当前表为空！”并结束Insert()程序。<br>用if判断用户输入位置是否符合要求，若不符合要求，则输出”该位置不存在”并结束Insert()程序。<br>在表不为空并且输入位置正确情况下，将头指针赋给定义的两个指针cur和pr。进行i—，使插入位置在选择的位置之前。<br>利用while使cur指向需要插入数据的地方，pr指向cur的前驱。<br>将头指针赋给定义指针的变量t。<br>将输入的学号赋给定义的指针变量newNode，利用while判断，插入的学号是否已经存在，若已经存在，则输出”已存在该学号!” 并结束Insert()程序。<br>若输入的学号并未重复，则要求用户输入学生姓名、数据结构成绩、大学物理成绩。分别赋给newNode-&gt;name、newNode-&gt;DataStructur、newNode-&gt;English中，然后调用averGrade(newNode)函数计算两门科目成绩平均值。<br>最后，将newNode插入到pr和cur中间。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163052.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163604.png" alt=""></p>
<h4 id="3-Delete-函数"><a href="#3-Delete-函数" class="headerlink" title="(3)Delete()函数"></a>(3)Delete()函数</h4><p>①用来删除学生信息，该函数实现过程中首先定义两个指针变量cur和pr，将头结点赋给两个指针变量。定义一个变量n，将输入的学号赋给n。<br>用while进行循环判断，若此次没有找到对应学号，则cur指向下一个结点，pr指向cur的前驱并结束Delete()程序。若找到对应的学号，判断是否是头结点或尾结点。若为头几点，则令头结点为头节点的后继结点；若为尾结点，则pr为尾结点，令pr的next为cur-&gt;next并结束Delete()程序。<br>若循环结束还未找到对应学号，则输出”没有查到要删除的学号”并结束Delete()程序。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163638.png" alt=""></p>
<h4 id="4-Alter-函数"><a href="#4-Alter-函数" class="headerlink" title="(4)Alter()函数"></a>(4)Alter()函数</h4><p>①用来修改学生信息，该函数实现过程中首先定义两个变量a、n，将输入的学号赋给n，用if判断学号是否存在，若不存在则输出”不存在该学号!”并结束Alter()程序。<br>用while遍历数据，寻找需要修改数据对应的学号。找到后，利用switch语句判断具体需要修改的数据并进行修改。若输入除1、2、3以外数据，则直接退出修改。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163709.png" alt=""></p>
<h3 id="4-2-2学生数据处理-sortAver-、sort-、CountNode-、Display-、Seek"><a href="#4-2-2学生数据处理-sortAver-、sort-、CountNode-、Display-、Seek" class="headerlink" title="4.2.2学生数据处理(sortAver()、sort()、CountNode()、Display()、Seek())"></a>4.2.2学生数据处理(sortAver()、sort()、CountNode()、Display()、Seek())</h3><h4 id="1-sortAver-函数"><a href="#1-sortAver-函数" class="headerlink" title="(1)sortAver()函数"></a>(1)sortAver()函数</h4><p>①用来按平均成绩排序学生数据，该函数实现过程中首先定义三个变量len、inlen、rank，len和inlen用来解决排序问题，rank为名次。<br>利用两层while循环对原数据进行冒泡排序，最核心的交换调用swapNode(cur, cur-&gt;next)实现。<br>之后利用while进行输出即可，其中还需用if来避免平均成绩重复的情况出现。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163746.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163954.png" alt=""></p>
<h4 id="2-sort-函数"><a href="#2-sort-函数" class="headerlink" title="(2)sort()函数"></a>(2)sort()函数</h4><p>①用来按某一门课程成绩排序学生数据，该函数实现过程中首先定义一个变量m，将输入的值赋给m进行判断具体按照哪一门课排序，若输入1，则调用sortD()按数据结构成绩排序；若输入2，则调用sortE()按大学英语成绩排序。两者排序实现方式相同，均用两层while进行冒泡排序。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164034.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164034.png" alt=""></p>
<h4 id="3-CountNode-函数"><a href="#3-CountNode-函数" class="headerlink" title="(3)CountNode()函数"></a>(3)CountNode()函数</h4><p>①用来计算某一门课不及格学生人数，该函数实现过程中首先定义一个变量m，将输入的值赋给m进行判断统计哪一门科目不及格人数，若输入1，则调用CountNotD()函数统计数据结构不及格人数；若输入2，则调用CountNotE()函数统计大学英语不及格人数。<br>两者实现统计方式相同，均通过while遍历结点，输出小于60的学生并输出统计的人数。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164148.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164216.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164234.png" alt=""></p>
<h4 id="4-Display-函数"><a href="#4-Display-函数" class="headerlink" title="(4)Display()函数"></a>(4)Display()函数</h4><p>①用来显示所有学生数据，该函数实现过程中首先定义一个指针变量cur，将头结点赋给cur，再定义一个len变量，通过调用getlen()函数将学生人数赋给len变量，并且在屏幕输出。<br>  用while遍历输出学生数据。<br>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164307.png" alt=""></p>
<h4 id="5-Seek-函数"><a href="#5-Seek-函数" class="headerlink" title="(5)Seek()函数"></a>(5)Seek()函数</h4><p>①用来显示所有学生数据，该函数实现过程中首先定义两个指针变量cur和pr，将头节点赋给cur和pr，通过一个while循环，遍历节点，pr跟着cur，若查找到了对应学号，输出相关信息，若查找不到输出”没有查到要查找的学号”</p>
<p>②代码实现<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164343.png" alt=""></p>
<h1 id="5-系统的测试及调试"><a href="#5-系统的测试及调试" class="headerlink" title="5.系统的测试及调试"></a>5.系统的测试及调试</h1><p>系统的测试及调试是为了发现程序中错误而执行程序的过程。</p>
<h2 id="5-1运行过程"><a href="#5-1运行过程" class="headerlink" title="5.1运行过程"></a>5.1运行过程</h2><h3 id="1-运行该程序，进入主界面，出现选择菜单"><a href="#1-运行该程序，进入主界面，出现选择菜单" class="headerlink" title="(1)运行该程序，进入主界面，出现选择菜单"></a>(1)运行该程序，进入主界面，出现选择菜单</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164411.png" alt=""><br>输入2、3、4、5可进入学生信息处理界面，输入1、6、7、8、9可进入学生数据处理界面</p>
<h3 id="2-进行学生信息处理"><a href="#2-进行学生信息处理" class="headerlink" title="(2)进行学生信息处理"></a>(2)进行学生信息处理</h3><p>选择2进行信息添加<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164449.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164509.png" alt=""><br>选择3进行信息修改<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164529.png" alt=""><br>选择4进行信息删除<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164551.png" alt=""><br>选择5进行信息插入<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164614.png" alt=""></p>
<h3 id="3-进行学生数据处理"><a href="#3-进行学生数据处理" class="headerlink" title="(3)进行学生数据处理"></a>(3)进行学生数据处理</h3><p>选择6按平均成绩排名<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164643.png" alt=""><br>选择7按某一课成绩排序<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164745.png" alt=""><br>选择8统计某一课成绩不及格人数<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164805.png" alt=""><br>选择9统计某一课成绩不及格人数<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824164848.png" alt=""></p>
<h2 id="5-2系统调试过程中遇到的问题"><a href="#5-2系统调试过程中遇到的问题" class="headerlink" title="5.2系统调试过程中遇到的问题"></a>5.2系统调试过程中遇到的问题</h2><p>(1)录入学生信息后能够写进文件，但是只能查询时只能查询到第一个人的信息<br>错误原因：录入信息后储存后。无法知道信息的条数。读取的时候只读取了第一条。<br>解决方案：在信息录入的时候设置一个变量来记录学生信息录入的条数。并且将条数写进文件中，读取的时候将它先读出来，再读取学生信息。</p>
<p>(2)录入学生信息后再次读取，学生学号变为乱码。<br>错误原因：录入完信息后储存了一个记录学生信息条数的变量。这个数储存的时候储存在了文件的第一个位置。而学生信息所在的结构体则在后面，所以读取的时候出错。<br>解决方法：将结构体的第一个用来储存记录学生信息变化的数据。信息录入则从第二个开始录入。</p>
<p>(3)第二次录入学生信息与第一次录入学生信息的时候变量的设置第20页问题。<br>错误原因：在第一次录入时读不到设置的变量而第二次需要读取设置的变量。<br>解决方案：在打开文件时增加一个判断，文件是否为空，若是空则便是第一次写入学生信息，则设置变量为0。若不为空，则读取变量，并继续进行累加。</p>
<p>其他错误与此类似，便不一一举例。</p>
<h1 id="6-用户手册"><a href="#6-用户手册" class="headerlink" title="6.用户手册"></a>6.用户手册</h1><p>(1)本系统执行文件为Student Information Management System.cpp<br>(2)进入系统界面后，在主菜单的中，选择相应的操作前的数字，出现提示界面。根据提示输入相关信息或得到预期结果<br>(3)在输入信息时：学号为整型型<br>姓名 1-5个汉字或1-10个英文字母<br>考试成绩都为0-100的数字</p>
<h1 id="7-总结"><a href="#7-总结" class="headerlink" title="7.总结"></a>7.总结</h1><p>在三天的苦力后，我的学生信息综合管理系统项目课程设计终于完工了，虽然系统还不够完善，但是已经具备了一个信息管理系统的基本功能。一周的课程设计，虽然很忙碌，但我感觉收获很多，不仅仅在知识和技术上，而且我也懂得了很多人生哲理，懂得怎么样去制定计划，怎么样去实现这个计划。曾经有过放弃本系统的念头，曾经有过敷衍了事的想法。但是每一次技术突破的喜悦，都让我坚定了胜利的信念。通过这次程序设计，让我更好的了解 C++，对系统的编译有了更深刻的认识。<br>在测试和调试方面，曾经天真的一位编程才是最浪费时间的，在这次实践中，让我更加清楚的认识到，软件测试和调试在整个工作中所占的比例。也让我更加相信调试是软件开发中最艰巨的脑力劳动。本次课程设计中出现了许多隐藏的错误，令我收获不少。但我相信也一定会有很多未发现的问题，特别是在以后的系统扩展中，种些问题会更明显，但我相信问题的出现就是需要我们去解决。<br>通过这次课程设计我通彻的体会到了一个问题：在做实验前一定要将课本上的知识吃透，因为这是实验的基础，否则，这将使你做实验的难度加大，浪费做实验的宝贵时间。比如说文件的使用，因为没有将文件的使用学习贯彻，所以导致在调试的时候出现各种错误。在做实验的时候才去摸索，这将使我极大地浪费时间。<br>在这次课程设计中我学到了很多很多。受益匪浅。总体来说，这次C语言程序设计实验还是比较成功的，虽然最终程序还存在一些不足，但能取得这样的成绩我还是比较高兴的。<br>最后，要感谢学校为我们提供这次实验机会，也要感谢老师的教导，帮助与支。</p>
<h1 id="8-参考文献"><a href="#8-参考文献" class="headerlink" title="8.参考文献"></a>8.参考文献</h1><p>[1] 张磊编著《C语言程序设计教程第2版》 中国铁道出版社<br>[2] 薛小龙编著《开发日记：深入体验C语言项目开发》清华大学出版社<br>[3] 刘字君张月琴叶瑶王庆生编著《C+理序设计案例分析》 清华大学出版社</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>C++学习笔记</category>
        <category>数据结构学习笔记</category>
      </categories>
      <tags>
        <tag>学术</tag>
        <tag>数据结构</tag>
        <tag>课程设计</tag>
      </tags>
  </entry>
  <entry>
    <title>安卓通信录app简单demo制作</title>
    <url>/076-android-address/</url>
    <content><![CDATA[<h1 id="1-问题概述"><a href="#1-问题概述" class="headerlink" title="1.问题概述"></a>1.问题概述</h1><p>设计一个通信录app</p>
<h1 id="2-课程设计基本要求"><a href="#2-课程设计基本要求" class="headerlink" title="2.课程设计基本要求"></a>2.课程设计基本要求</h1><p>（1）添加联系人</p>
<p>（2）查看所有联系人</p>
<p>（3）查看联系人的详情</p>
<p>（4）对联系人信息进行编辑修改、删除</p>
<p>（5）拨打联系人电话、发送短信</p>
<h1 id="3-通信录设计需求分析"><a href="#3-通信录设计需求分析" class="headerlink" title="3.通信录设计需求分析"></a>3.通信录设计需求分析</h1><h2 id="3-1可行性研究"><a href="#3-1可行性研究" class="headerlink" title="3.1可行性研究"></a>3.1可行性研究</h2><p>在我们生活中，有如下四个通讯需求:</p>
<p>1.基础通话与通话记录</p>
<p>2.查看、管理联系人</p>
<p>3.收发短信</p>
<p>4.基于数据流量的社交与通讯工具</p>
<p>因此一个安卓通讯录app，对于手机来说是一项较为重要的功能。</p>
<h3 id="3-1-1-技术可行性"><a href="#3-1-1-技术可行性" class="headerlink" title="3.1.1  技术可行性"></a>3.1.1  技术可行性</h3><p>随着计算机技术的发展，网络环境不断提升，各种通信工具技术也得到提高，同时，计算机软件开发越来越人性化，门槛更低，使用当前主流的JAVA语言完全可以开发出功能完善、简单易用的互联网程序，Android具备多种存储方式，对于通信录这样的轻量级数据，可以使用sharepreference或者sqlite和文件存储，技术上是可行的。</p>
<h3 id="3-1-2-经济可行性"><a href="#3-1-2-经济可行性" class="headerlink" title="3.1.2  经济可行性"></a>3.1.2  经济可行性</h3><p>现在，计算机使用已经相当普遍，网络费用不断降低，开发通信录可以大大的方便管理联系人，同时开发此应用的周期短，Android也是开源免费，因此，此系统在经济方面是可行的。</p>
<h3 id="3-1-3-操作可行性"><a href="#3-1-3-操作可行性" class="headerlink" title="3.1.3  操作可行性"></a>3.1.3  操作可行性</h3><p>目前是信息高速发展的时代，几乎人人都配备着手机，并且都会简单的使用手机，通信录无需复杂的操作，会用手机的人都能轻轻松松使用，因此操作上是可行的。</p>
<h2 id="3-2-系统功能需求分析"><a href="#3-2-系统功能需求分析" class="headerlink" title="3.2  系统功能需求分析"></a>3.2  系统功能需求分析</h2><p>通信录的主要功能是对联系人进行添加。浏览，修改和删除，同时具备快捷拨打电话。发送短信等功能。</p>
<h3 id="3-2-1-系统功能模块概述"><a href="#3-2-1-系统功能模块概述" class="headerlink" title="3.2.1  系统功能模块概述"></a>3.2.1  系统功能模块概述</h3><p>现在对此系统的功能模块进行概述。</p>
<p>1、功能主页模块：该模块用来为用户提供功能入口，用户可以选择添加联系人或者查看所有联系人</p>
<p>2、添加联系人模块：该模块下用户可以进行添加联系人。</p>
<p>3、查看所有联系人模块：该模块可以查看所有已添加的联系人信息。</p>
<p>4、联系人详情模块：该模块可以对联系人进行修改、删除或快捷拨打电话、发送信息</p>
<h1 id="4-通信录概要分析"><a href="#4-通信录概要分析" class="headerlink" title="4.通信录概要分析"></a>4.通信录概要分析</h1><h2 id="4-1通信录开发环境"><a href="#4-1通信录开发环境" class="headerlink" title="4.1通信录开发环境"></a>4.1通信录开发环境</h2><p>本应用的开发语言是Java，所使用的IDE开发工具是Android Studio</p>
<h2 id="4-2项目所需技术技术"><a href="#4-2项目所需技术技术" class="headerlink" title="4.2项目所需技术技术"></a>4.2项目所需技术技术</h2><p>本项目使用当前比较流行的MVC架构设计技术，利用Activity配合Fragment进行界面的切换显示，利用MMKV做数据存储读取</p>
<h2 id="4-2-1-MMKV介绍"><a href="#4-2-1-MMKV介绍" class="headerlink" title="4.2.1  MMKV介绍"></a>4.2.1  MMKV介绍</h2><p>MMKV 是由腾讯开发的基于 mmap 内存映射的 key-value 组件，底层序列化/反序列化使用 protobuf 实现，性能高，稳定性强，便于轻量级数据的存储。</p>
<h3 id="4-2-2-Activity介绍"><a href="#4-2-2-Activity介绍" class="headerlink" title="4.2.2  Activity介绍"></a>4.2.2  Activity介绍</h3><p>Activity是Android组件中最基本也是最为常见用的四大组件之一，Activity是一个应用程序组件，提供一个界面，用户可以用来交互为了完成某项任务。Activity中所有操作都与用户密切相关，是一个负责与用户交互的组件，可以通过setContentView(View)来显示指定控件。在一个android应用中，一个Activity通常就是一个单独的屏幕，它上面可以显示一些控件也可以监听并处理用户的事件做出响应。Activity之间通过Intent进行通信。</p>
<h3 id="4-2-3-Fragment介绍"><a href="#4-2-3-Fragment介绍" class="headerlink" title="4.2.3  Fragment介绍"></a>4.2.3  Fragment介绍</h3><p>Fragment是Android3.0后引入的一个新的API，他出现的初衷是为了适应大屏幕的平板电脑，当前普通手机开发也会加入这个Fragment，可以把他看成一个小型的Activity，又称Activity片段，使用Fragment可以把屏幕划分成几块，然后进行分组，进行一个模块化的管理，从而可以更加方便的在 运行过程中动态地更新Activity的用户界面。Fragment并不能单独使用，他需要嵌套在Activity 中使用，尽管他拥有自己的生命周期，但是还是会受到宿主Activity的生命周期的影响，比如Activity 被destory销毁了，他也会跟着销毁。</p>
<h2 id="4-3通信录应用的总体结构设计"><a href="#4-3通信录应用的总体结构设计" class="headerlink" title="4.3通信录应用的总体结构设计"></a>4.3通信录应用的总体结构设计</h2><p>通信录应用主要包括四大功能模块，主页菜单、添加联系人、浏览联系人、联系人详情等功能模块。总体模块如下所示。</p>
<p>待补充</p>
<h1 id="5-通信录应用的详细设计"><a href="#5-通信录应用的详细设计" class="headerlink" title="5.通信录应用的详细设计"></a>5.通信录应用的详细设计</h1><h2 id="5-1功能主页设计"><a href="#5-1功能主页设计" class="headerlink" title="5.1功能主页设计"></a>5.1功能主页设计</h2><p>应用提供功能菜单，包括两个按钮菜单项，用来跳转到相应界面</p>
<h3 id="5-1-1界面布局"><a href="#5-1-1界面布局" class="headerlink" title="5.1.1界面布局"></a>5.1.1界面布局</h3><p>包括两个按钮。用普通的线性布局包裹。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="line">    android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:layout_height=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:orientation=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">    android:padding=<span class="string">&quot;16dp&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;添加联系人&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/addUser&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;查看所有联系人&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/allUser&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure><br>点击添加按钮跳转到添加联系人的fragment：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">view.findViewById(R.id.addUser).setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">            ((MainActivity)getActivity()).jumpToAddPage();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><br>实际上的跳转逻辑在Activity里：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jumpToAddPage</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">AddUserFragment</span> <span class="variable">addUserFragment</span> <span class="operator">=</span> (AddUserFragment) getSupportFragmentManager().findFragmentByTag(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (addUserFragment == <span class="literal">null</span>) &#123;</span><br><span class="line">        addUserFragment = <span class="keyword">new</span> <span class="title class_">AddUserFragment</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">MainFragment</span> <span class="variable">fragment</span> <span class="operator">=</span> (MainFragment) getSupportFragmentManager().findFragmentByTag(<span class="string">&quot;main&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fragment != <span class="literal">null</span>) &#123;</span><br><span class="line">        getSupportFragmentManager().beginTransaction().hide(fragment)</span><br><span class="line">                .add(R.id.layout_container, addUserFragment)</span><br><span class="line">                .addToBackStack(<span class="literal">null</span>)</span><br><span class="line">                .commitAllowingStateLoss();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        getSupportFragmentManager().beginTransaction()</span><br><span class="line">                .replace(R.id.layout_container, addUserFragment)</span><br><span class="line">                .addToBackStack(<span class="literal">null</span>)</span><br><span class="line">                .commitAllowingStateLoss();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>点击查看所有联系人按钮跳转到所有联系人列表界面：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">view.findViewById(R.id.allUser).setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">               ((MainActivity)getActivity()).jumpToAllPage();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure><br>实际上的跳转逻辑在Activity里：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jumpToAllPage</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">AllUserFragment</span> <span class="variable">allUserFragment</span> <span class="operator">=</span> (AllUserFragment) getSupportFragmentManager().findFragmentByTag(<span class="string">&quot;all&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (allUserFragment == <span class="literal">null</span>) &#123;</span><br><span class="line">        allUserFragment = <span class="keyword">new</span> <span class="title class_">AllUserFragment</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">MainFragment</span> <span class="variable">fragment</span> <span class="operator">=</span> (MainFragment) getSupportFragmentManager().findFragmentByTag(<span class="string">&quot;main&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fragment != <span class="literal">null</span>) &#123;</span><br><span class="line">        getSupportFragmentManager().beginTransaction().hide(fragment)</span><br><span class="line">                .add(R.id.layout_container, allUserFragment)</span><br><span class="line">                .addToBackStack(<span class="literal">null</span>)</span><br><span class="line">                .commitAllowingStateLoss();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        getSupportFragmentManager().beginTransaction()</span><br><span class="line">                .replace(R.id.layout_container, allUserFragment)</span><br><span class="line">                .addToBackStack(<span class="literal">null</span>)</span><br><span class="line">                .commitAllowingStateLoss();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="5-2添加联系人设计"><a href="#5-2添加联系人设计" class="headerlink" title="5.2添加联系人设计"></a>5.2添加联系人设计</h2><p>点击添加联系人后跳转到添加联系人界面，布局如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="line">    android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:layout_height=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:orientation=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">    android:padding=<span class="string">&quot;16dp&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:text=<span class="string">&quot;姓名：&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;EditText</span><br><span class="line">            android:maxLength=<span class="string">&quot;7&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/et_user&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:text=<span class="string">&quot;电话：&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;EditText</span><br><span class="line">            android:maxLength=<span class="string">&quot;11&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/et_phone&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;添加电话&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/add&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;返回&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/back&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure><br>这个界面包括两个TextView和两个EditTextView还有两个Button。TextView起提示作用，EditText接收用户的输入，Button进行数据的保存和返回。点击保存的代码：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">view.findViewById(R.id.add).setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">               <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> etName.getText().toString();</span><br><span class="line">               <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> etPhone.getText().toString();</span><br><span class="line">               <span class="keyword">if</span> (!TextUtils.isEmpty(name) &amp;&amp; !TextUtils.isEmpty(phone)) &#123;</span><br><span class="line">                   CommonManager.getInstance().addUserInfo(<span class="keyword">new</span> <span class="title class_">UserInfo</span>(name, phone));</span><br><span class="line">                   etName.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                   etPhone.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                   Toast.makeText(getActivity(),<span class="string">&quot;添加成功！&quot;</span>,Toast.LENGTH_LONG).show();</span><br><span class="line">               &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                   Toast.makeText(getActivity(),<span class="string">&quot;姓名或电话不能为空！&quot;</span>,Toast.LENGTH_LONG).show();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="5-3查看所有联系人设计"><a href="#5-3查看所有联系人设计" class="headerlink" title="5.3查看所有联系人设计"></a>5.3查看所有联系人设计</h2><p>布局如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="line">    xmlns:app=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="line">    xmlns:tools=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="line">    android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:layout_height=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:orientation=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">    android:padding=<span class="string">&quot;16dp&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=<span class="string">&quot;@+id/back&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;回到首页&quot;</span></span><br><span class="line">        android:textSize=<span class="string">&quot;18sp&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">&quot;@+id/name&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">            android:text=<span class="string">&quot;姓名&quot;</span></span><br><span class="line">            android:textColor=<span class="string">&quot;@color/black&quot;</span></span><br><span class="line">            android:textSize=<span class="string">&quot;18sp&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">&quot;@+id/phone&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">            android:text=<span class="string">&quot;号码&quot;</span></span><br><span class="line">            android:textColor=<span class="string">&quot;@color/black&quot;</span></span><br><span class="line">            android:textSize=<span class="string">&quot;18sp&quot;</span> /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;androidx.recyclerview.widget.RecyclerView</span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/rv&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">         /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure><br>其中最主要是用了RecyclerView进行用户信息的列表显示，RecycerView的适配器如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RvAdapter</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.Adapter&lt;RvAdapter.ItemHolder&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    <span class="keyword">private</span> List&lt;UserInfo&gt; mList;</span><br><span class="line">    <span class="keyword">private</span> ItemClickListener mItemClickListener;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RvAdapter</span><span class="params">(Context context, List&lt;UserInfo&gt; list)</span> &#123;</span><br><span class="line">        mContext = context;</span><br><span class="line">        mList = list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ItemClickListener</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">onItemClick</span><span class="params">(UserInfo userInfo)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOnItemClickListener</span><span class="params">(ItemClickListener itemClickListener)</span> &#123;</span><br><span class="line">        mItemClickListener = itemClickListener;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ItemHolder <span class="title function_">onCreateViewHolder</span><span class="params">(<span class="meta">@NonNull</span> ViewGroup parent, <span class="type">int</span> viewType)</span> &#123;</span><br><span class="line">        <span class="type">View</span> <span class="variable">itemView</span> <span class="operator">=</span> LayoutInflater.from(mContext).inflate(R.layout.rv_item, parent, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ItemHolder</span>(itemView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onBindViewHolder</span><span class="params">(<span class="meta">@NonNull</span> ItemHolder holder, <span class="type">int</span> position)</span> &#123;</span><br><span class="line">        <span class="type">UserInfo</span> <span class="variable">data</span> <span class="operator">=</span> mList.get(position);</span><br><span class="line">        holder.name.setText(data.name);</span><br><span class="line">        holder.phone.setText(data.phone);</span><br><span class="line">        holder.itemView.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (mItemClickListener!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    mItemClickListener.onItemClick(data);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getItemCount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> mList.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">ItemHolder</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.ViewHolder &#123;</span><br><span class="line">        <span class="keyword">private</span> TextView name;</span><br><span class="line">        <span class="keyword">private</span> TextView phone;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ItemHolder</span><span class="params">(<span class="meta">@NonNull</span> View itemView)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>(itemView);</span><br><span class="line">            name = itemView.findViewById(R.id.name);</span><br><span class="line">            phone = itemView.findViewById(R.id.phone);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>点击某一项，跳转到联系人详情页：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  rvAdapter.setOnItemClickListener(<span class="keyword">new</span> <span class="title class_">RvAdapter</span>.ItemClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onItemClick</span><span class="params">(UserInfo userInfo)</span> &#123;</span><br><span class="line">                ((MainActivity)getActivity()).jumpToDetailPage(userInfo);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">真正跳转逻辑在activity里：</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jumpToDetailPage</span><span class="params">(UserInfo userInfo)</span> &#123;</span><br><span class="line">        <span class="type">UserDetailFragment</span> <span class="variable">userDetailFragment</span> <span class="operator">=</span> (UserDetailFragment) getSupportFragmentManager().findFragmentByTag(<span class="string">&quot;detail&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (userDetailFragment == <span class="literal">null</span>) &#123;</span><br><span class="line">            userDetailFragment = <span class="keyword">new</span> <span class="title class_">UserDetailFragment</span>();</span><br><span class="line">            <span class="type">Bundle</span> <span class="variable">bundle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bundle</span>();</span><br><span class="line">            bundle.putParcelable(<span class="string">&quot;userinfo&quot;</span>,userInfo);</span><br><span class="line">            userDetailFragment.setArguments(bundle);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">AllUserFragment</span> <span class="variable">fragment</span> <span class="operator">=</span> (AllUserFragment) getSupportFragmentManager().findFragmentByTag(<span class="string">&quot;all&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (fragment != <span class="literal">null</span>) &#123;</span><br><span class="line">            getSupportFragmentManager().beginTransaction().hide(fragment)</span><br><span class="line">                    .add(R.id.layout_container, userDetailFragment)</span><br><span class="line">                    .addToBackStack(<span class="literal">null</span>)</span><br><span class="line">                    .commitAllowingStateLoss();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            getSupportFragmentManager().beginTransaction()</span><br><span class="line">                    .replace(R.id.layout_container, userDetailFragment)</span><br><span class="line">                    .addToBackStack(<span class="literal">null</span>)</span><br><span class="line">                    .commitAllowingStateLoss();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="5-4联系人详情页设计"><a href="#5-4联系人详情页设计" class="headerlink" title="5.4联系人详情页设计"></a>5.4联系人详情页设计</h2><p>联系人详情页不仅要显示联系人的姓名和名称，还要能对联系人的信息进行修改、删除，也可以拨打电话和发送短信，布局如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="line">    android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:layout_height=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:orientation=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">    android:padding=<span class="string">&quot;16dp&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:text=<span class="string">&quot;姓名：&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;EditText</span><br><span class="line">            android:maxLength=<span class="string">&quot;7&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/et_user&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:text=<span class="string">&quot;电话：&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;EditText</span><br><span class="line">            android:maxLength=<span class="string">&quot;11&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/et_phone&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">            android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">            android:text=<span class="string">&quot;删除&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/delete&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_marginStart=<span class="string">&quot;16dp&quot;</span></span><br><span class="line">            android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">            android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">            android:text=<span class="string">&quot;修改&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/modify&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:padding=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:hint=<span class="string">&quot;请输入信息内容&quot;</span></span><br><span class="line">        android:gravity=<span class="string">&quot;left&quot;</span></span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:inputType=<span class="string">&quot;textMultiLine&quot;</span></span><br><span class="line">        android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/et_msg&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;0dp&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:orientation=<span class="string">&quot;horizontal&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">            android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">            android:text=<span class="string">&quot;拨打电话&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/call&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_marginStart=<span class="string">&quot;16dp&quot;</span></span><br><span class="line">            android:layout_weight=<span class="string">&quot;1&quot;</span></span><br><span class="line">            android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">            android:text=<span class="string">&quot;发送短信&quot;</span></span><br><span class="line">            android:id=<span class="string">&quot;@+id/send&quot;</span></span><br><span class="line">            android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">            android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;8dp&quot;</span></span><br><span class="line">        android:textSize=<span class="string">&quot;18sp&quot;</span></span><br><span class="line">        android:text=<span class="string">&quot;返回&quot;</span></span><br><span class="line">        android:id=<span class="string">&quot;@+id/back&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure><br>有三个EditText，前两个是显示和编辑联系人的名字和号码，第三个是用来编辑发送的信息内容，删除按钮可以对信息进行删除，修改按钮对信息进行修改，拨打电话会立刻调动手机进行拨号，发送短信也会直接读取内容发送到相应号码上。删除代码如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="keyword">case</span> R.id.delete:</span><br><span class="line">                Toast.makeText(getActivity(), <span class="string">&quot;删除成功！&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                CommonManager.getInstance().removeUserInfo(userInfo);</span><br><span class="line">                getActivity().getSupportFragmentManager().popBackStack();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">会显示一个删除成功的提示，并且对全局里的数据进行删除，然后返回上一页。</span><br><span class="line">修改代码如下：</span><br><span class="line"> <span class="keyword">case</span> R.id.modify:</span><br><span class="line">                <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> etName.getText().toString();</span><br><span class="line">                <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> etPhone.getText().toString();</span><br><span class="line">                <span class="keyword">if</span> (!TextUtils.isEmpty(name) &amp;&amp; !TextUtils.isEmpty(phone)) &#123;</span><br><span class="line">                    userInfo.name = name;</span><br><span class="line">                    userInfo.phone = phone;</span><br><span class="line">                    Toast.makeText(getActivity(), <span class="string">&quot;修改成功！&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Toast.makeText(getActivity(), <span class="string">&quot;姓名或电话不能为空！&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">把存储的数据替换为当前修改的信息，如果为空则提示并且不做修改。</span><br><span class="line">拨打电话如下：</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">callPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">phoneNumber</span> <span class="operator">=</span> etPhone.getText().toString();</span><br><span class="line">        <span class="keyword">if</span> (TextUtils.isEmpty(phoneNumber)) &#123;</span><br><span class="line">            Toast.makeText(getActivity(), <span class="string">&quot;电话为空无法拨打电话！&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(Intent.ACTION_CALL, Uri.parse(<span class="string">&quot;tel:&quot;</span> + phoneNumber));</span><br><span class="line">            startActivity(intent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>调用系统的action进行拨号，拨号前需要申请系统权限。<br>发送信息如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sendSMS</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> etMsg.getText().toString().trim();</span><br><span class="line">      <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> etPhone.getText().toString().trim();</span><br><span class="line">      <span class="keyword">if</span> (!TextUtils.isEmpty(content) &amp;&amp; !TextUtils.isEmpty(phone)) &#123;</span><br><span class="line">          <span class="type">SmsManager</span> <span class="variable">manager</span> <span class="operator">=</span> SmsManager.getDefault();</span><br><span class="line">          ArrayList&lt;String&gt; strings = manager.divideMessage(content);</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strings.size(); i++) &#123;</span><br><span class="line">              manager.sendTextMessage(phone, <span class="literal">null</span>, content, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          Toast.makeText(getContext(), <span class="string">&quot;发送成功&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          Toast.makeText(getContext(), <span class="string">&quot;手机号或内容不能为空&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><br>调用系统的信息管理器发送信息，信息内容为编辑框里编辑的内容，如果内容为空则提示并且不发送</p>
<h2 id="5-5数据的保存和恢复设计"><a href="#5-5数据的保存和恢复设计" class="headerlink" title="5.5数据的保存和恢复设计"></a>5.5数据的保存和恢复设计</h2><p>在每次启动应用的时候会读取存储的数据，保存为全局数据：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">jsonStr</span> <span class="operator">=</span> MMKV.defaultMMKV().decodeString(<span class="string">&quot;userinfolist&quot;</span>);</span><br><span class="line">     <span class="keyword">if</span> (!TextUtils.isEmpty(jsonStr)) &#123;</span><br><span class="line">         List&lt;UserInfo&gt; userInfoList = CommonManager.getInstance().getUserInfoList();</span><br><span class="line">         userInfoList.clear();</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">             <span class="type">JsonArray</span> <span class="variable">array</span> <span class="operator">=</span> JsonParser.parseString(jsonStr).getAsJsonArray();</span><br><span class="line">             <span class="keyword">for</span> (JsonElement jsonElement : array) &#123;</span><br><span class="line">                 userInfoList.add(gson.fromJson(jsonElement, UserInfo.class));</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><br>用MMKV读取存储的数据，然后用Gson进行解析，放到数据集合中。<br>在关闭应用的时候进行数据保存：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onDestroy</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="built_in">super</span>.onDestroy();</span><br><span class="line">      <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">      <span class="type">String</span> <span class="variable">strJson</span> <span class="operator">=</span> gson.toJson(CommonManager.getInstance().getUserInfoList());</span><br><span class="line">      MMKV.defaultMMKV().encode(<span class="string">&quot;userinfolist&quot;</span>, strJson);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><br>把数据集合转换json，用MMKV进行保存</p>
<h1 id="6-系统的调试分析"><a href="#6-系统的调试分析" class="headerlink" title="6.系统的调试分析"></a>6.系统的调试分析</h1><h2 id="6-1运行截图"><a href="#6-1运行截图" class="headerlink" title="6.1运行截图"></a>6.1运行截图</h2><p>功能主页：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109130109736.png" alt=""></p>
<p>添加用户：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109130110363.png" alt=""></p>
<p>所有联系人：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109130110895.png" alt=""></p>
<p>联系人详情页：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109130110549.png" alt=""></p>
<h1 id="7-总结"><a href="#7-总结" class="headerlink" title="7.总结"></a>7.总结</h1><p>经过这段开发，Android移动应用开发工作基本完成，相应的功能也基本实现，但系统的功能完善性还不是很好，由于本次系统开发受到我的编码能力的限制，因此本系统还存在很多方面的不足。</p>
<p>通过开发这个系统，我掌握了基本的过程，学习了知识的同时还掌握了开发系统的基本的相关操作，同时，对于java的操作也更加熟练了。</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>Java学习笔记</category>
      </categories>
      <tags>
        <tag>IDEA</tag>
        <tag>Android</tag>
        <tag>app</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Maven的鲜花管理系统</title>
    <url>/077-flower-management/</url>
    <content><![CDATA[<h1 id="1-问题概述"><a href="#1-问题概述" class="headerlink" title="1.问题概述"></a>1.问题概述</h1><p>设计一个鲜花管理系统，使用MySQL数据库，Idea环境，使用三层架构以及使用Struts2的MVC技术。</p>
<h1 id="2-课程设计基本要求"><a href="#2-课程设计基本要求" class="headerlink" title="2.课程设计基本要求"></a>2.课程设计基本要求</h1><p>（1）    管理员登陆与注册</p>
<p>（2）    管理员对鲜花类型进行管理(增删改查)</p>
<p>（3）    管理员对鲜花花语信息进行管理(增删改查)</p>
<p>（4）    文件上传功能（鲜花图片可以是一个图片，或者是多张图片）</p>
<p>（5）    管理员登陆成功后，显示所有的鲜花花语信息，包括图片的显示。</p>
<h1 id="3-鲜花管理系统设计需求分析"><a href="#3-鲜花管理系统设计需求分析" class="headerlink" title="3.鲜花管理系统设计需求分析"></a>3.鲜花管理系统设计需求分析</h1><h2 id="3-1可行性研究"><a href="#3-1可行性研究" class="headerlink" title="3.1可行性研究"></a>3.1可行性研究</h2><p>目前，传统的鲜花管理，逐渐出现很多弊端主要包括：</p>
<p>1、不易于统计：比如鲜花种类很多的时候，传统的纸质记录无法让人一目了然看到有多少种，而且会出现重复记录的情况。</p>
<p>2不易于保存：纸质记录卡在流转上信息流转较慢，而且多人协同工作容易出错，及保持过程中需要大量的空间。</p>
<p>3、无法形象显示：比如使用纸质记录卡无法同时看到鲜花图片及更多信息。</p>
<h3 id="3-1-1-技术可行性"><a href="#3-1-1-技术可行性" class="headerlink" title="3.1.1  技术可行性"></a>3.1.1  技术可行性</h3><p>随着计算机技术的发展，网络环境不断提升，各种通信工具技术也得到提高，同时，计算机软件开发越来越人性化，门槛更低，使用当前主流的JAVA语言完全可以开发出功能完善、简单易用的互联网程序，选取Mysql关系型数据库作为数据存储数据库，可以有效的实现数据的统一管理。所以鲜花管理系统在技术上是可实现的。</p>
<h3 id="3-1-2-经济可行性"><a href="#3-1-2-经济可行性" class="headerlink" title="3.1.2  经济可行性"></a>3.1.2  经济可行性</h3><p>现在，计算机使用已经相当普遍，网络费用不断降低，开发一套鲜花管理系统可以大大的提高工作人员的工作效率，同时开发此套系统周期短。因此，此系统在经济方面是可行的。</p>
<h3 id="3-1-3-操作可行性"><a href="#3-1-3-操作可行性" class="headerlink" title="3.1.3  操作可行性"></a>3.1.3  操作可行性</h3><p>信息传递方便、及时、可靠，具有与传统方式无法比拟的优点。只要有浏览器、网络的地方就可以快速使用。</p>
<h2 id="3-2-系统功能需求分析"><a href="#3-2-系统功能需求分析" class="headerlink" title="3.2  系统功能需求分析"></a>3.2  系统功能需求分析</h2><p>鲜花管理系统的主要功能是对鲜花信息进行管理，即管理人员登录鲜花管理系统之后可以进行鲜花分类的管理如查看鲜花分类及对分类进行增加删除修改等。还可以对鲜花信息进行管理如查看鲜花及对鲜花进行增加删除修改等，可以登录后首页查看鲜花的花语图片等信息，还可以进行用户注册及密码修改等。最终使管理人员能方便的进行鲜花信息的管理操作，减轻工作人员的工作量。</p>
<h3 id="3-2-1-系统功能模块概述"><a href="#3-2-1-系统功能模块概述" class="headerlink" title="3.2.1  系统功能模块概述"></a>3.2.1  系统功能模块概述</h3><p>现在对此系统的功能模块进行概述。<br>1、用户登录模块：该模块用来为用户提供后台管理的入口，用户使用鲜花管理系统首先要进行登录操作。<br>2、用户注册模块：该模块下用户可以进行账号注册，注册后可以使用注册的账号进行登录系统管理鲜花信息。<br>3、鲜花分类管理模块：该模块用于对鲜花分类信息的管理。<br>4、鲜花管理模块：该功能用户鲜花信息的管理。<br>5、用户密码修改模块：该模块下用户可以对自己的密码进行修改操作。</p>
<h1 id="4-鲜花管理系统概要分析"><a href="#4-鲜花管理系统概要分析" class="headerlink" title="4.鲜花管理系统概要分析"></a>4.鲜花管理系统概要分析</h1><h2 id="4-1鲜花管理系统开发环境"><a href="#4-1鲜花管理系统开发环境" class="headerlink" title="4.1鲜花管理系统开发环境"></a>4.1鲜花管理系统开发环境</h2><p>本系统的开发语言是Java，所使用的IDE开发工具是Intelligent idea，使用tomcat容器运行本项目，在处理业务的部分，使用工具JDBC访问数据库，和数据库进行交互；数据库部分，使用的Mysql进行数据库服务，浏览器选用的是搜狗浏览器。</p>
<h2 id="4-2项目所需技术技术"><a href="#4-2项目所需技术技术" class="headerlink" title="4.2项目所需技术技术"></a>4.2项目所需技术技术</h2><p>本项目使用当前比较流行的MVC架构设计技术设计Struct、JSP、JDBC等，JSP用于MVC的View层用来展示页面信息， Struts2用于MVC的Control层用于业务逻辑处理，JDBC用户连接数据库及数据库数据处理，使用Mysql进行底层数据存储。</p>
<h3 id="4-2-1-Struts-介绍"><a href="#4-2-1-Struts-介绍" class="headerlink" title="4.2.1  Struts 介绍"></a>4.2.1  Struts 介绍</h3><p>Struts是Apache软件基金会（ASF）赞助的一个开源项目。它最初是jakarta项目中的一个子项目，并在2004年3月成为ASF的顶级项目。它通过采用JavaServlet/JSP技术，实现了基于JavaEEWeb应用的MVC设计模式的应用框架，是MVC经典设计模式中的一个经典产品。</p>
<h3 id="4-2-2-MySQL介绍"><a href="#4-2-2-MySQL介绍" class="headerlink" title="4.2.2  MySQL介绍"></a>4.2.2  MySQL介绍</h3><p>MySQL是最受欢迎的开源SQL数据库管理系统，它由MySQL开发、发布和支持。从计算机可以很好的处理大量的数据以来，数据库管理系统就在计算机处理中和独立应用程序或其他部分应用程序一样扮演着一个重要的角色。MySQL主要目标是快速、健壮和易用。</p>
<h3 id="4-2-3-JDBC介绍"><a href="#4-2-3-JDBC介绍" class="headerlink" title="4.2.3  JDBC介绍"></a>4.2.3  JDBC介绍</h3><p>JDBC全称为java database connectivity，是sun公司指定的java数据库连接技术的简称。他是sun公司和数据库开发商共同开发出来的独立于DBMS的应用程序接口，它为java程序员进行数据库编程提供了统一的API。</p>
<h2 id="4-3鲜花管理系统的总体结构设计"><a href="#4-3鲜花管理系统的总体结构设计" class="headerlink" title="4.3鲜花管理系统的总体结构设计"></a>4.3鲜花管理系统的总体结构设计</h2><p>鲜花管理系统主要包括四大功能模块，管理人员登录注册、鲜花分类管理、鲜花管理、鲜花浏览等功能模块。总体模块如下所示。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144204.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144221.png" alt=""></p>
<h1 id="5-鲜花管理系统的详细设计"><a href="#5-鲜花管理系统的详细设计" class="headerlink" title="5.鲜花管理系统的详细设计"></a>5.鲜花管理系统的详细设计</h1><h2 id="5-1管理员登陆与注册设计"><a href="#5-1管理员登陆与注册设计" class="headerlink" title="5.1管理员登陆与注册设计"></a>5.1管理员登陆与注册设计</h2><p>系统为管理人员提供登录界面及注册界面，用户可以没有账号可以进行注册后进行登录</p>
<h3 id="5-1-1管理员登录"><a href="#5-1-1管理员登录" class="headerlink" title="5.1.1管理员登录"></a>5.1.1管理员登录</h3><p>系统运行后默认进入登录界面要求用户进行登录，<br>前端核心登录表单代码如下包含用户名、密码输入框及登录、注册按钮。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;form name=<span class="string">&quot;form1&quot;</span> action=<span class="string">&quot;GoLogin.action&quot;</span> method=<span class="string">&quot;post&quot;</span> onSubmit=<span class="string">&quot;return mycheck()&quot;</span>&gt;</span><br><span class="line">&lt;table width=<span class="string">&quot;100%&quot;</span> border=<span class="string">&quot;0&quot;</span> cellspacing=<span class="string">&quot;0&quot;</span> cellpadding=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> colspan=<span class="string">&quot;2&quot;</span> align=<span class="string">&quot;center&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;&lt;span style=<span class="string">&quot;color:red;&quot;</span>&gt;</span><br><span class="line">	&lt;%<span class="keyword">if</span>(request.getAttribute(<span class="string">&quot;Msg&quot;</span>)!=<span class="literal">null</span>)&#123;%&gt;</span><br><span class="line">	&lt;%=request.getAttribute(<span class="string">&quot;Msg&quot;</span>)%&gt;</span><br><span class="line">	&lt;%&#125;%&gt;</span><br><span class="line">  &lt;/span&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  &lt;td width=<span class="string">&quot;37%&quot;</span> height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;用户名：&lt;/td&gt;</span><br><span class="line">  &lt;td width=<span class="string">&quot;300&quot;</span> align=<span class="string">&quot;left&quot;</span>&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;Username&quot;</span> id=<span class="string">&quot;Username&quot;</span> class=<span class="string">&quot;text1&quot;</span> /&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;密码：&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;left&quot;</span>&gt;&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;Password&quot;</span> id=<span class="string">&quot;Password&quot;</span> class=<span class="string">&quot;text1&quot;</span> /&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> colspan=<span class="string">&quot;2&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;&lt;label&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;登录&quot;</span>&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">	没有账号？请&lt;a href=<span class="string">&quot;reg.jsp&quot;</span>&gt;&lt;font color=<span class="string">&quot;red&quot;</span>&gt;注册&lt;/font&gt;&lt;/a&gt;</span><br><span class="line">  &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><br>用户点击登录按钮后系统将使用js函数mycheck进行录入信息校验，当用户名或者密码为空时，系统将跳出提示框提示不能为空。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">function <span class="title function_">mycheck</span><span class="params">()</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(isNull(form1.Username.value))&#123;  </span><br><span class="line">   alert(<span class="string">&quot;请输入用户名！&quot;</span>); </span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(isNull(form1.Password.value))&#123;</span><br><span class="line">   alert(<span class="string">&quot;请输入密码！&quot;</span>);</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>当效验通过后系统将表单信息提交到GoLogin.action，根据struts配置文件提交到GoLogin类进行用户后台效验<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;action name=<span class="string">&quot;GoLogin&quot;</span> class=<span class="string">&quot;com.action.GoLogin&quot;</span>&gt;</span><br><span class="line">&lt;result name=<span class="string">&quot;input&quot;</span>&gt;/Login.jsp&lt;/result&gt;</span><br><span class="line">&lt;result name=<span class="string">&quot;success&quot;</span>  type=<span class="string">&quot;chain&quot;</span>&gt;IndexManager&lt;/result&gt;</span><br><span class="line">&lt;/action&gt;</span><br></pre></td></tr></table></figure><br>后台首先验证是否存在此用户名密码信息，如果错误即提示用户名密码错误，如果存在的话则继续执行查询用户ID并放在session中。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">null</span> == <span class="keyword">new</span> <span class="title class_">AdminDao</span>().CheckLogin(Username, Password)) &#123;</span><br><span class="line">	Msg = <span class="string">&quot;用户名或者密码错误&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> INPUT;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//获取ID</span></span><br><span class="line">	String Admin_ID=<span class="keyword">new</span> <span class="title class_">AdminDao</span>().CheckLogin(Username, Password);</span><br><span class="line">	<span class="comment">//创建session</span></span><br><span class="line">	<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> ServletActionContext.getRequest().getSession();</span><br><span class="line">	session.setAttribute(<span class="string">&quot;id&quot;</span>, Admin_ID);</span><br><span class="line">	session.setAttribute(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="5-1-2管理员注册"><a href="#5-1-2管理员注册" class="headerlink" title="5.1.2管理员注册"></a>5.1.2管理员注册</h3><p>用户如果没有账号可以点击注册按钮进入注册页面进行注册操作，<br>前端核心注册表单代码如下包含用户名、密码输入框、确认密码输入框、姓名输入框及注册按钮等。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;form name=<span class="string">&quot;form1&quot;</span> action=<span class="string">&quot;GoReg.action&quot;</span> method=<span class="string">&quot;post&quot;</span> onSubmit=<span class="string">&quot;return mycheck()&quot;</span>&gt;</span><br><span class="line">&lt;table width=<span class="string">&quot;100%&quot;</span> border=<span class="string">&quot;0&quot;</span> cellspacing=<span class="string">&quot;0&quot;</span> cellpadding=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td width=<span class="string">&quot;37%&quot;</span> height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;用户名：&lt;/td&gt;</span><br><span class="line">  &lt;td width=<span class="string">&quot;300&quot;</span> align=<span class="string">&quot;left&quot;</span>&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;Username&quot;</span> id=<span class="string">&quot;Username&quot;</span> class=<span class="string">&quot;text1&quot;</span> /&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;密码：&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;left&quot;</span>&gt;&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;Password&quot;</span> id=<span class="string">&quot;Password&quot;</span> class=<span class="string">&quot;text1&quot;</span> /&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;重复密码：&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;left&quot;</span>&gt;&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;rePassword&quot;</span> id=<span class="string">&quot;rePassword&quot;</span> class=<span class="string">&quot;text1&quot;</span> /&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span> class=<span class="string">&quot;STYLE2&quot;</span>&gt;姓名：&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;left&quot;</span>&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;Name&quot;</span> id=<span class="string">&quot;Name&quot;</span> class=<span class="string">&quot;text1&quot;</span> /&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;30&quot;</span> colspan=<span class="string">&quot;2&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;&lt;label&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;注册&quot;</span>&gt;</span><br><span class="line">  &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><br>用户点击注册按钮后系统将使用js函数mycheck进行注册信息校验，当两次输入密码不一致时为空时，系统将跳出提示框提示两次密码不一致。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">function <span class="title function_">mycheck</span><span class="params">()</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(isNull(form1.Username.value))&#123;  </span><br><span class="line">   alert(<span class="string">&quot;请输入用户名！&quot;</span>); </span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(isNull(form1.Password.value))&#123;</span><br><span class="line">   alert(<span class="string">&quot;请输入密码！&quot;</span>);</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(form1.Password.value!=form1.rePassword.value)&#123;</span><br><span class="line">	   alert(<span class="string">&quot;两次密码不一致！&quot;</span>);</span><br><span class="line">	   <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>当效验通过后系统将表单信息提交到GoReg.action，根据struts配置文件提交到GoReg类进行用户后台效验<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;action name=<span class="string">&quot;GoReg&quot;</span> class=<span class="string">&quot;com.action.GoReg&quot;</span>&gt;</span><br><span class="line">	&lt;result name=<span class="string">&quot;success&quot;</span>&gt;/Login.jsp&lt;/result&gt;</span><br><span class="line">&lt;/action&gt;</span><br></pre></td></tr></table></figure><br>后台进行数据接收后进行AdminBean的封装，然后调用Dao进行用户信息的保存操作。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">AdminBean</span> <span class="variable">cnbean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AdminBean</span>();</span><br><span class="line">		cnbean.setAdmin_err(<span class="number">0</span>);</span><br><span class="line">		cnbean.setAdmin_Name(Name);</span><br><span class="line">		cnbean.setAdmin_Password(Password);</span><br><span class="line">		cnbean.setAdmin_State(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">		cnbean.setAdmin_Username(Username);</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">AdminDao</span>().Add(cnbean);</span><br><span class="line">	<span class="keyword">return</span> SUCCESS;</span><br></pre></td></tr></table></figure></p>
<h2 id="5-2管理员管理鲜花类型设计"><a href="#5-2管理员管理鲜花类型设计" class="headerlink" title="5.2管理员管理鲜花类型设计"></a>5.2管理员管理鲜花类型设计</h2><p>管理员登录后可以点击左侧菜单分类管理链接，系统会根据跳转到struts执行查询所有分类信息并返回到分类管理页面ClazzManager.jsp中<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HttpServletResponse response=<span class="literal">null</span>;</span><br><span class="line">response=ServletActionContext.getResponse();</span><br><span class="line">response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建session对象</span></span><br><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> ServletActionContext.getRequest().getSession();</span><br><span class="line"><span class="comment">//验证是否正常登录</span></span><br><span class="line"><span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;id&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">	out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;请重新登录！&#x27;);window.location=&#x27;Login.jsp&#x27;;&lt;/script&gt;&quot;</span>);</span><br><span class="line">	out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查询条件</span></span><br><span class="line">String strWhere=<span class="string">&quot;1=1&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(!(isInvalid(SearchKey)))</span><br><span class="line">&#123;</span><br><span class="line">	strWhere+=<span class="string">&quot; and Clazz_Name=&#x27;&quot;</span>+SearchKey+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查询所有</span></span><br><span class="line">list=<span class="keyword">new</span> <span class="title class_">ClazzDao</span>().GetList(strWhere,<span class="string">&quot;Clazz_Name&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br></pre></td></tr></table></figure><br>ClazzManager.jsp页面显示核心代码如下，页面将迭代显示所有分类信息：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;table width=<span class="string">&quot;100%&quot;</span> border=<span class="string">&quot;0&quot;</span> cellspacing=<span class="string">&quot;0&quot;</span> cellpadding=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">&lt;tr align=<span class="string">&quot;center&quot;</span>  class=<span class="string">&quot;t1&quot;</span>&gt;</span><br><span class="line">	&lt;td height=<span class="string">&quot;25&quot;</span> bgcolor=<span class="string">&quot;#D5E4F4&quot;</span>&gt;&lt;strong&gt;分类名称&lt;/strong&gt;&lt;/td&gt;</span><br><span class="line">	&lt;td bgcolor=<span class="string">&quot;#D5E4F4&quot;</span>&gt;&lt;strong&gt;简介&lt;/strong&gt;&lt;/td&gt;</span><br><span class="line">	&lt;td bgcolor=<span class="string">&quot;#D5E4F4&quot;</span>&gt;&lt;strong&gt;操作&lt;/strong&gt;&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;s:iterator id=<span class="string">&quot;aa&quot;</span> value=<span class="string">&quot;list&quot;</span>&gt;</span><br><span class="line">&lt;tr align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;25&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Clazz_Name&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;$&#123;Clazz_Introduction&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">	&lt;a href=<span class="string">&quot;ClazzUpdate.action?Clazz_ID=$&#123;Clazz_ID&#125;&quot;</span>&gt;修改&lt;/a&gt; </span><br><span class="line">	&lt;a href=<span class="string">&quot;ClazzDel.action?Clazz_ID=$&#123;Clazz_ID&#125;&quot;</span> onClick=<span class="string">&quot;return confirm(&#x27;确定要删除该鲜花分类吗？&#x27;)&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">  &lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;/s:iterator&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure><br>在此页面中可以进行分类的新增，核心代码如下，首先验证用户是否已经登录系统，如果已经登录继续验证是否此分类名称在分类信息中已经存在，如果已经存在则调用dao进行数据的保存操作<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HttpServletResponse response=<span class="literal">null</span>;</span><br><span class="line">response=ServletActionContext.getResponse();</span><br><span class="line">response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建session对象</span></span><br><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> ServletActionContext.getRequest().getSession();</span><br><span class="line"><span class="comment">//验证是否正常登录</span></span><br><span class="line"><span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;id&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">	out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;请重新登录！&#x27;);window.location=&#x27;Login.jsp&#x27;;&lt;/script&gt;&quot;</span>);</span><br><span class="line">	out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询名称是否存在</span></span><br><span class="line">List&lt;ClazzBean&gt; list=<span class="keyword">new</span> <span class="title class_">ClazzDao</span>().GetList(<span class="string">&quot;Clazz_Name=&#x27;&quot;</span>+Clazz_Name+<span class="string">&quot;&#x27;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(list.size()&gt;<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">	out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;名称已经存在！&#x27;);history.back(-1);&lt;/script&gt;&quot;</span>);</span><br><span class="line">	out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//添加</span></span><br><span class="line">ClazzBean cnbean=<span class="keyword">new</span> <span class="title class_">ClazzBean</span>();</span><br><span class="line">cnbean.setClazz_Name(Clazz_Name);</span><br><span class="line">cnbean.setClazz_Introduction(Clazz_Introduction);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">ClazzDao</span>().Add(cnbean);</span><br><span class="line">	</span><br><span class="line"><span class="comment">//跳转</span></span><br><span class="line">out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;添加成功！&#x27;);window.location=&#x27;ClazzManager.action&#x27;;&lt;/script&gt;&quot;</span>);</span><br><span class="line">out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><br>分类信息的更新与新增类似，首先验证用户是否已经登录系统，如果已经登录继续验证是否此分类名称在分类信息中已经存在<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ClazzBean cnbean=<span class="keyword">new</span> <span class="title class_">ClazzBean</span>();</span><br><span class="line">cnbean=<span class="keyword">new</span> <span class="title class_">ClazzDao</span>().GetBean(Integer.parseInt(Clazz_ID));</span><br><span class="line">cnbean.setClazz_Name(Clazz_Name);</span><br><span class="line">cnbean.setClazz_Introduction(Clazz_Introduction);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">ClazzDao</span>().Update(cnbean);</span><br></pre></td></tr></table></figure><br>分类信息的删除首先验证用户是否登录，如果没有登录则跳转到登录页面，否则执行删除操作<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> ServletActionContext.getRequest().getSession();</span><br><span class="line"><span class="comment">//验证是否正常登录</span></span><br><span class="line"><span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;id&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;请重新登录！&#x27;);window.location=&#x27;Login.jsp&#x27;;&lt;/script&gt;&quot;</span>);</span><br><span class="line">out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;<span class="comment">//删除</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">ClazzDao</span>().Delete(<span class="string">&quot;Clazz_ID=&quot;</span>+Clazz_ID);</span><br></pre></td></tr></table></figure></p>
<h2 id="5-3管理员管理鲜花花语信息设计"><a href="#5-3管理员管理鲜花花语信息设计" class="headerlink" title="5.3管理员管理鲜花花语信息设计"></a>5.3管理员管理鲜花花语信息设计</h2><p>管理员登录后可以点击左侧菜单鲜花管理链接，系统会根据跳转到struts执行查询所有鲜花信息并返回到鲜花管理页面FlowerManager.jsp中，鲜花管理页面中分两部分，一部分是鲜花查询功能如下所示：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;form name=<span class="string">&quot;form1&quot;</span> method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;FlowerManager.action&quot;</span>&gt;</span><br><span class="line">&lt;table width=<span class="string">&quot;100%%&quot;</span> border=<span class="string">&quot;0&quot;</span> cellspacing=<span class="string">&quot;0&quot;</span> cellpadding=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">	&lt;td width=<span class="string">&quot;22%&quot;</span> height=<span class="string">&quot;30&quot;</span> style=<span class="string">&quot;padding-left:20px;&quot;</span>&gt; 功能导航： &lt;a href=<span class="string">&quot;FlowerAdd.action&quot;</span>&gt;添加鲜花&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">	&lt;td width=<span class="string">&quot;78%&quot;</span>&gt;查询：</span><br><span class="line">	 </span><br><span class="line">	  &lt;select name=<span class="string">&quot;SearchRow&quot;</span> id=<span class="string">&quot;SearchRow&quot;</span>&gt;</span><br><span class="line">		&lt;option value=<span class="string">&quot;Flower_Name&quot;</span>&gt;鲜花名&lt;/option&gt;</span><br><span class="line">		&lt;option value=<span class="string">&quot;Flower_Type&quot;</span>&gt;花语&lt;/option&gt;</span><br><span class="line">	  &lt;/select&gt;</span><br><span class="line">	  &lt;input name=<span class="string">&quot;SearchKey&quot;</span> type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;text1&quot;</span> id=<span class="string">&quot;SearchKey&quot;</span>&gt;</span><br><span class="line">	  &lt;input type=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;点击查询&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><br>下部分展示鲜花列表，迭代展示了鲜花的信息<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;s:iterator id=<span class="string">&quot;aa&quot;</span> value=<span class="string">&quot;list&quot;</span>&gt;</span><br><span class="line">&lt;tr align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;25&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Clazz_Name&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;$&#123;Flower_Name&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;$&#123;Flower_Type&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Flower_Number&#125;&lt;/td&gt;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Flower_Money&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Flower_Sell_Money&#125;&lt;/td&gt;</span><br><span class="line">	  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Flower_Pic&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;&lt;a href=<span class="string">&quot;FlowerUpdate.action?Flower_ID=$&#123;Flower_ID&#125;&quot;</span>&gt;修改&lt;/a&gt; </span><br><span class="line">  &lt;a href=<span class="string">&quot;FlowerDel.action?Flower_ID=$&#123;Flower_ID&#125;&quot;</span> onClick=<span class="string">&quot;return confirm(&#x27;确定要删除该鲜花吗？&#x27;)&quot;</span>&gt;删除&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;/s:iterator&gt;</span><br></pre></td></tr></table></figure><br>后台核心查询显示的代码如下：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> ServletActionContext.getRequest().getSession();</span><br><span class="line"><span class="comment">//验证是否正常登录</span></span><br><span class="line"><span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;id&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">	out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;请重新登录！&#x27;);window.location=&#x27;Login.jsp&#x27;;&lt;/script&gt;&quot;</span>);</span><br><span class="line">	out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查询条件</span></span><br><span class="line">String strWhere=<span class="string">&quot;1=1&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(!(isInvalid(SearchKey)))</span><br><span class="line">&#123;</span><br><span class="line">	strWhere+=<span class="string">&quot; and &quot;</span>+SearchRow+<span class="string">&quot;=&#x27;&quot;</span>+SearchKey+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查询</span></span><br><span class="line">list=<span class="keyword">new</span> <span class="title class_">FlowerDao</span>().GetList(strWhere,<span class="string">&quot;Flower_Name&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(FlowerBean f:list) &#123;</span><br><span class="line">	String pic= f.getFlower_Pic1();</span><br><span class="line">	pic+= <span class="string">&quot;,&quot;</span>+f.getFlower_Pic2();</span><br><span class="line">	pic+= <span class="string">&quot;,&quot;</span>+f.getFlower_Pic3();</span><br><span class="line">	f.setFlower_Pic(pic);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>当用户进行鲜花信息的保存时后台执行首先会进行用户是否登录效验，如果没有登录则跳转到登录界面,然后进行鲜花的是否存在验证，如果存在则提示不能进行保存，否则进行保存操作，核心代码如下所示：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> ServletActionContext.getRequest().getSession();</span><br><span class="line"><span class="comment">//验证是否正常登录</span></span><br><span class="line"><span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;id&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">	out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;请重新登录！&#x27;);window.location=&#x27;Login.jsp&#x27;;&lt;/script&gt;&quot;</span>);</span><br><span class="line">	out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询是否存在</span></span><br><span class="line">List&lt;FlowerBean&gt; list=<span class="keyword">new</span> <span class="title class_">FlowerDao</span>().GetList(<span class="string">&quot;Flower_Name=&#x27;&quot;</span>+Flower_Name+<span class="string">&quot;&#x27; and Flower_ClazzID=&quot;</span>+Flower_ClazzID, <span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(list.size()&gt;<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">	out.print(<span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;该分类中已经存在该花！&#x27;);history.back(-1);&lt;/script&gt;&quot;</span>);</span><br><span class="line">	out.flush();out.close();<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//添加</span></span><br><span class="line">FlowerBean cnbean=<span class="keyword">new</span> <span class="title class_">FlowerBean</span>();</span><br><span class="line">cnbean.setFlower_ClazzID(Integer.parseInt(Flower_ClazzID));</span><br><span class="line">cnbean.setFlower_Name(Flower_Name);</span><br><span class="line">cnbean.setFlower_Type(Flower_Type);</span><br><span class="line">cnbean.setFlower_Number(Flower_Number);</span><br><span class="line">cnbean.setFlower_Money(Flower_Money);</span><br><span class="line">cnbean.setFlower_Sell_Money(Flower_Sell_Money);  </span><br><span class="line">cnbean.setFlower_Pic1(pic1);</span><br><span class="line">cnbean.setFlower_Pic2(pic2);</span><br><span class="line">cnbean.setFlower_Pic3(pic3);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">FlowerDao</span>().Add(cnbean);</span><br></pre></td></tr></table></figure><br>修改操作同新增操作，只是调用了DAO中new FlowerDao().Update(cnbean);</p>
<h2 id="5-4文件上传功能设计"><a href="#5-4文件上传功能设计" class="headerlink" title="5.4文件上传功能设计"></a>5.4文件上传功能设计</h2><p>鲜花管理时需要上传鲜花图片，所以要进行文件上传功能设计<br>在新增鲜花页面增加三个图片选择框<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;td height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span>&gt;&lt;span style=<span class="string">&quot;color:red;&quot;</span>&gt;*&lt;/span&gt;文件上传：&lt;/td&gt;</span><br><span class="line">&lt;td&gt;</span><br><span class="line">文件名：&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;&lt;br/&gt;</span><br><span class="line">文件名：&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;&lt;br/&gt;</span><br><span class="line">文件名：&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;&lt;br/&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br></pre></td></tr></table></figure><br>跳转到FlowerAddSave.java保存方法，首先循环上传文件数量，然后保存到file文件夹，同时再对每个文件保存到鲜花实体bean中进行保存操作<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">(file!=<span class="literal">null</span>&amp;&amp;file.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">	<span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;file.length;i++)&#123;</span><br><span class="line"></span><br><span class="line">			<span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span>file[i];</span><br><span class="line">			destFile =  <span class="keyword">new</span> <span class="title class_">File</span>(ServletActionContext.getRequest().getRealPath(<span class="string">&quot;/file&quot;</span>),fileFileName[i]);</span><br><span class="line">			FileUtils.copyFile(f, destFile);</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">0</span>) &#123;</span><br><span class="line">				pic1=fileFileName[<span class="number">0</span>];</span><br><span class="line">  </span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">1</span>) &#123;</span><br><span class="line">				pic2=fileFileName[<span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">2</span>) &#123;</span><br><span class="line">				pic3=fileFileName[<span class="number">2</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;   </span><br><span class="line">cnbean.setFlower_Pic1(pic1);</span><br><span class="line">cnbean.setFlower_Pic2(pic2);</span><br><span class="line">cnbean.setFlower_Pic3(pic3);</span><br></pre></td></tr></table></figure><br>鲜花的修改的同时也需要对文件进行上传操作，不同的是修改保存需要提交原来文件名称，后台上传文件操作中如果没有选择新文件，则保持相应的文件不变<br>修改页面上传文件如下所示：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;td height=<span class="string">&quot;30&quot;</span> align=<span class="string">&quot;right&quot;</span>&gt;&lt;span style=<span class="string">&quot;color:red;&quot;</span>&gt;*&lt;/span&gt;文件上传：&lt;/td&gt;</span><br><span class="line">&lt;td&gt;&lt;br/&gt;</span><br><span class="line">	  文件名：&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt; &lt;a href=<span class="string">&quot;file/&lt;s:property value=&#x27;cnbean.Flower_Pic1&#x27;/&gt;&quot;</span>&gt;&lt;s:property value=<span class="string">&#x27;cnbean.Flower_Pic1&#x27;</span>/&gt;&lt;/a&gt;</span><br><span class="line">	  &lt;input name=<span class="string">&quot;Flower_Pic1&quot;</span> type=<span class="string">&quot;hidden&quot;</span> class=<span class="string">&quot;text2&quot;</span> id=<span class="string">&quot;Flower_Pic1&quot;</span> value=<span class="string">&quot;&lt;s:property value=&#x27;cnbean.Flower_Pic1&#x27;/&gt;&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">	  文件名：&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;&lt;a href=<span class="string">&quot;file/&lt;s:property value=&#x27;cnbean.Flower_Pic2&#x27;/&gt;&quot;</span>&gt;&lt;s:property value=<span class="string">&#x27;cnbean.Flower_Pic2&#x27;</span>/&gt;&lt;/a&gt;</span><br><span class="line">	  &lt;input name=<span class="string">&quot;Flower_Pic2&quot;</span> type=<span class="string">&quot;hidden&quot;</span> class=<span class="string">&quot;text2&quot;</span> id=<span class="string">&quot;Flower_Pic2&quot;</span> value=<span class="string">&quot;&lt;s:property value=&#x27;cnbean.Flower_Pic2&#x27;/&gt;&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">	  文件名：&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;&lt;a href=<span class="string">&quot;file/&lt;s:property value=&#x27;cnbean.Flower_Pic3&#x27;/&gt;&quot;</span>&gt;&lt;s:property value=<span class="string">&#x27;cnbean.Flower_Pic3&#x27;</span>/&gt;&lt;/a&gt;</span><br><span class="line">	  &lt;input name=<span class="string">&quot;Flower_Pic3&quot;</span> type=<span class="string">&quot;hidden&quot;</span> class=<span class="string">&quot;text2&quot;</span> id=<span class="string">&quot;Flower_Pic3&quot;</span> value=<span class="string">&quot;&lt;s:property value=&#x27;cnbean.Flower_Pic3&#x27;/&gt;&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br></pre></td></tr></table></figure><br>后台则保存核心代码如下所示：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(file!=<span class="literal">null</span>&amp;&amp;file.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">	<span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;file.length;i++)&#123;</span><br><span class="line"></span><br><span class="line">				<span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span>file[i];</span><br><span class="line">				destFile =  <span class="keyword">new</span> <span class="title class_">File</span>(ServletActionContext.getRequest().getRealPath(<span class="string">&quot;/file&quot;</span>),fileFileName[i]);</span><br><span class="line">				FileUtils.copyFile(f, destFile);</span><br><span class="line">				<span class="keyword">if</span>(i==<span class="number">0</span>) &#123;</span><br><span class="line">					Flower_Pic1=fileFileName[<span class="number">0</span>];</span><br><span class="line">					 cnbean.setFlower_Pic1(Flower_Pic1);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(i==<span class="number">1</span>) &#123;</span><br><span class="line">					Flower_Pic2=fileFileName[<span class="number">1</span>];</span><br><span class="line">					cnbean.setFlower_Pic2(Flower_Pic2);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(i==<span class="number">2</span>) &#123;</span><br><span class="line">					Flower_Pic3=fileFileName[<span class="number">2</span>];</span><br><span class="line">					cnbean.setFlower_Pic3(Flower_Pic3);</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;   </span><br><span class="line">cnbean.setFlower_Pic1(Flower_Pic1);</span><br><span class="line">cnbean.setFlower_Pic2(Flower_Pic2);</span><br><span class="line">cnbean.setFlower_Pic3(Flower_Pic3);</span><br></pre></td></tr></table></figure></p>
<h2 id="5-5管理员登陆成功显示设计"><a href="#5-5管理员登陆成功显示设计" class="headerlink" title="5.5管理员登陆成功显示设计"></a>5.5管理员登陆成功显示设计</h2><p>管理员登录系统后根据struts配置文件则跳转至IndexManager.java类\<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;action name=<span class="string">&quot;GoLogin&quot;</span> class=<span class="string">&quot;com.action.GoLogin&quot;</span>&gt;</span><br><span class="line">	&lt;result name=<span class="string">&quot;input&quot;</span>&gt;/Login.jsp&lt;/result&gt;</span><br><span class="line">	&lt;result name=<span class="string">&quot;success&quot;</span>  type=<span class="string">&quot;chain&quot;</span>&gt;IndexManager&lt;/result&gt;</span><br><span class="line">&lt;/action&gt;</span><br></pre></td></tr></table></figure><br>后台则进行查询条件的封装后调用Dao类查询结果后返回到首页显示<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String strWhere=<span class="string">&quot;1=1&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(!(isInvalid(SearchKey)))</span><br><span class="line">&#123;</span><br><span class="line">	strWhere+=<span class="string">&quot; and &quot;</span>+SearchRow+<span class="string">&quot;=&#x27;&quot;</span>+SearchKey+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询</span></span><br><span class="line">list=<span class="keyword">new</span> <span class="title class_">FlowerDao</span>().GetList(strWhere,<span class="string">&quot;Flower_Name&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br></pre></td></tr></table></figure><br>后台首页核心代码如：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;s:iterator id=<span class="string">&quot;aa&quot;</span> value=<span class="string">&quot;list&quot;</span>&gt;</span><br><span class="line">&lt;tr align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">  &lt;td height=<span class="string">&quot;25&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;$&#123;Clazz_Name&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;$&#123;Flower_Name&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;$&#123;Flower_Type&#125;&lt;/td&gt;</span><br><span class="line">  &lt;td align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">  &lt;img src=<span class="string">&quot;file/$&#123;Flower_Pic1&#125;&quot;</span> width=<span class="string">&quot;120&quot;</span> height=<span class="string">&quot;120&quot;</span>/&gt;</span><br><span class="line">  &lt;img src=<span class="string">&quot;file/$&#123;Flower_Pic2&#125;&quot;</span> width=<span class="string">&quot;120&quot;</span> height=<span class="string">&quot;120&quot;</span>/&gt;</span><br><span class="line">  &lt;img src=<span class="string">&quot;file/$&#123;Flower_Pic3&#125;&quot;</span> width=<span class="string">&quot;120&quot;</span> height=<span class="string">&quot;120&quot;</span>/&gt;</span><br><span class="line">  &lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;/s:iterator&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="6-系统的调试分析"><a href="#6-系统的调试分析" class="headerlink" title="6.系统的调试分析"></a>6.系统的调试分析</h1><h2 id="6-1运行过程"><a href="#6-1运行过程" class="headerlink" title="6.1运行过程"></a>6.1运行过程</h2><h3 id="6-1-1首先运行IDEA工具并点击open-如下图所示"><a href="#6-1-1首先运行IDEA工具并点击open-如下图所示" class="headerlink" title="6.1.1首先运行IDEA工具并点击open,如下图所示"></a>6.1.1首先运行IDEA工具并点击open,如下图所示</h3><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144744.png" alt=""><br>然后选择项目根目录后点击“ok”按钮<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144821.png" alt=""><br>然后配置TOMCAT后点击运行按钮接口启动项目<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144841.png" alt=""></p>
<h2 id="6-2系统调试过程中遇到的问题"><a href="#6-2系统调试过程中遇到的问题" class="headerlink" title="6.2系统调试过程中遇到的问题"></a>6.2系统调试过程中遇到的问题</h2><p>系统调试过程中遇到很多问题，主要为以下几点</p>
<h3 id="1-数据库连接驱动版本问题，"><a href="#1-数据库连接驱动版本问题，" class="headerlink" title="1.    数据库连接驱动版本问题，"></a>1.    数据库连接驱动版本问题，</h3><p>由于本机使用了MYSQL8.0及以上版本，最初出现了以下错误，经过对项目mysql驱动包的检查及测试，发现项目中使用了mysql5的驱动，为了能适应更多的项目我们决定更新现有的mysql驱动包为mysql8.0<br>最初控制台报错信息如下：</p>
<p>报错：Loading class <code>com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is</code>com.mysql.cj.jdbc.Driver’. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.</p>
<h3 id="2-鲜花查询如何使用条件查询"><a href="#2-鲜花查询如何使用条件查询" class="headerlink" title="2.    鲜花查询如何使用条件查询"></a>2.    鲜花查询如何使用条件查询</h3><p>为实现鲜花查询可以使用条件查询，我们在前台增加了条件选择的输入框既可以用选择花语搜索或者鲜花名称搜索，为了支持两种查询使用同一个搜索框，在后台查询时需要进行参数的拼接    strWhere+=” and “+SearchRow+”=’”+SearchKey+”‘“; 并作为参数传递到DAO层作为添加进行查询，这样可以进行花语查询又可以进行花名查询</p>
<h3 id="3-鲜花显示中如何显示分类名称"><a href="#3-鲜花显示中如何显示分类名称" class="headerlink" title="3.    鲜花显示中如何显示分类名称"></a>3.    鲜花显示中如何显示分类名称</h3><p>鲜花显示页面中我们需要将分类名称进行显示，但是在数据库管理表设计中我们只在鲜花表中存储了鲜花的分类ID，为了实现鲜花页面显示分类名称，我们在查询的时候我们将分类表与鲜花表进行关联查询<br>select * from flower,classification where Flower_ClazzID=Clazz_ID<br>将分类名称作为查询的一部分返回到前台，解决此问题</p>
<h1 id="7-用户使用说明"><a href="#7-用户使用说明" class="headerlink" title="7.用户使用说明"></a>7.用户使用说明</h1><h2 id="7-1-用户登录"><a href="#7-1-用户登录" class="headerlink" title="7.1 用户登录"></a>7.1 用户登录</h2><p>首先用户打开浏览器输入<a href="http://localhost:8088/xianhua/按下回车键即可访问登录界面">http://localhost:8088/xianhua/按下回车键即可访问登录界面</a><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144929.png" alt=""></p>
<p>然后输入用户名：admin 密码：123456后点击登录按钮即可登录到后台管理系统，后台管理界面如下图所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144950.png" alt=""></p>
<h2 id="7-2-用户注册"><a href="#7-2-用户注册" class="headerlink" title="7.2 用户注册"></a>7.2 用户注册</h2><p>首先用户打开登录界面，点击下方注册按钮后即可跳转到登录界面，如下图所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145014.png" alt=""><br>用户录入用户名、密码、重复密码及姓名后点击注册按钮，系统将跳转到登录界面，相应的数据库中即可看到新注册的用户信息如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145033.png" alt=""></p>
<h2 id="7-3-鲜花分类管理"><a href="#7-3-鲜花分类管理" class="headerlink" title="7.3 鲜花分类管理"></a>7.3 鲜花分类管理</h2><p>用户登录到后台管理系统后点击鲜花分类管理菜单即可打开分类管理界面，如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145054.png" alt=""><br>用户可以点击“添加鲜花分类”按钮打开新增分类页面，如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145112.png" alt=""><br>用户输入分类名称、分类简介后点击下方“添加鲜花分类”按钮即可保存添加的鲜花信息<br>用户还可以点击鲜花分类类别中的修改按钮，打开分类修改页面，如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145131.png" alt=""><br>用户修改分类名称及描述后点击下方“修改鲜花分类”按钮即可完成分类信息的更新<br>用户还可以再分类列表页面点击删除按钮进行鲜花分类信息的删除，按钮如下图所示:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145156.png" alt=""></p>
<h2 id="7-4-鲜花管理"><a href="#7-4-鲜花管理" class="headerlink" title="7.4 鲜花管理"></a>7.4 鲜花管理</h2><p>用户登录到后台管理系统后点击鲜花管理即可进入鲜花管理界面，如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145218.png" alt=""><br>用户可以点击“添加鲜花”按钮打开新增页面，如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145236.png" alt=""><br>用户可以选择鲜花分类，并输入鲜花的名称、花语、库存、原价、销售价格及选择鲜花的图片等信息后点击“添加鲜花”按钮即可完成新增操作，用户还可以点击鲜花列表中的修改按钮打开鲜花的修改页面，如下图所示:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145259.png" alt=""><br>用户可以根据需要对鲜花信息进行修改，也可以选择鲜花图片最后点击“修改鲜花”即可完成鲜花信息的修改操作，用户还可以点击鲜花列表中的删除按钮进行鲜花的删除操作，删除按钮如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145316.png" alt=""></p>
<h2 id="7-5-鲜花展示"><a href="#7-5-鲜花展示" class="headerlink" title="7.5 鲜花展示"></a>7.5 鲜花展示</h2><p>用户登录后台页面后，默认首先展示鲜花信息，用户还可以点击左侧的“后台首页”按钮打开此页面，效果如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145340.png" alt=""></p>
<h2 id="7-6-用户密码修改"><a href="#7-6-用户密码修改" class="headerlink" title="7.6 用户密码修改"></a>7.6 用户密码修改</h2><p>用户可以点击左侧菜单“密码修改”打开密码修改页面，如下图所示：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145402.png" alt=""><br>用户可以输入原密码及新密码后点击“修改密码”按钮，即可完成密码的修改操作</p>
<h2 id="7-7-用户退出"><a href="#7-7-用户退出" class="headerlink" title="7.7 用户退出"></a>7.7 用户退出</h2><p>用户可以点击左侧菜单“退出系统”按钮进行退出操作，退出后系统将跳转到登录页面<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145431.png" alt=""></p>
<h1 id="8-测试结果"><a href="#8-测试结果" class="headerlink" title="8.测试结果"></a>8.测试结果</h1><p>根据需求分析，需要进行以下测试：</p>
<ol>
<li>验证用户登录功能：是否可以正常登录</li>
<li>验证用户注册功能：是否可以正常注册</li>
<li>验证鲜花分类管理功能：是否可以针对鲜花分类查看、新增、修改、删除等操作</li>
<li>验证鲜花管理功能：是否可以针对鲜花条件查看、新增、修改、删除等操作</li>
<li>验证登录后页面显示：是否可以显示鲜花花语及图片信息</li>
</ol>
<h2 id="8-1-用户登录的功能测试"><a href="#8-1-用户登录的功能测试" class="headerlink" title="8.1 用户登录的功能测试"></a>8.1 用户登录的功能测试</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145621.png" alt=""><br>表8.1 验证登录功能</p>
<h2 id="8-2-用户注册的功能测试"><a href="#8-2-用户注册的功能测试" class="headerlink" title="8.2 用户注册的功能测试"></a>8.2 用户注册的功能测试</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145702.png" alt=""><br>表8.2 验证注册功能 </p>
<h2 id="8-3-鲜花分类管理的功能测试"><a href="#8-3-鲜花分类管理的功能测试" class="headerlink" title="8.3 鲜花分类管理的功能测试"></a>8.3 鲜花分类管理的功能测试</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145731.png" alt=""><br>表8.3 验证分类管理功能</p>
<h2 id="8-4鲜花管理功能测试"><a href="#8-4鲜花管理功能测试" class="headerlink" title="8.4鲜花管理功能测试"></a>8.4鲜花管理功能测试</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145802.png" alt=""><br>表8.4 验证鲜花管理功能</p>
<h2 id="8-5用户登录后显示"><a href="#8-5用户登录后显示" class="headerlink" title="8.5用户登录后显示"></a>8.5用户登录后显示</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902145836.png" alt=""><br>表8.4 验证鲜花首页展示功能</p>
<h1 id="9-总结"><a href="#9-总结" class="headerlink" title="9.总结"></a>9.总结</h1><p>经过这段开发，鲜花管理系统开发工作基本完成，相应的功能也基本实现，但系统的功能完善性还不是很好，由于本次系统开发受到我的编码能力的限制，因此本系统还存在很多方面的不足。<br>通过开发这个系统，我掌握了基本的过程，学习了知识的同时还掌握了开发系统的基本的相关操作，同时，对于MySQL数据库的操作也更加熟练了。</p>
<h1 id="10-参考文献"><a href="#10-参考文献" class="headerlink" title="10.参考文献"></a>10.参考文献</h1><p>[1]    孙晓龙，赵莉.JSP动态网站技术入门与提高.北京：人民邮电出版社，2001<br>[2]    石志国，薛为民，董洁.JSP应用教程.北京：清华大学出版社.北京交通大学出版社，2004<br>[3]    李曙光.JSP开发实例完全剖析.北京：中国电力出版社，2006<br>[4]    杨易.JSP高级程序设计.人民邮电出版社，2006<br>[5]    Vivek Chopra.JSP高级程序设计，机械工业出版社，2001<br>[6]    申吉红，廖学峰，余健.JSP课程设计案例精编.北京：清华大学出版社，2007</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>Java学习笔记</category>
      </categories>
      <tags>
        <tag>Maven</tag>
        <tag>MySQL</tag>
        <tag>Struts2</tag>
        <tag>MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>使用eNSP搭建的小型校园网</title>
    <url>/092-campus-network/</url>
    <content><![CDATA[<p>本项目所需软件eNSP_Setup、VirtualBox-5.2.38-136252-Win、WinPcap_4_1_3、Wireshark-win64-3.2.2</p>
<h1 id="1-1-设计任务"><a href="#1-1-设计任务" class="headerlink" title="1.1 设计任务"></a>1.1 设计任务</h1><p>组建小型校园网：学生宿舍50台计算机、办公楼30台计算机（办公楼又分为财务处、人事处，以及其他科室）、图书馆10台计算机、教学楼30台计算机、服务器2台（FTP、Web），学校通过一台路由器连接到服务器和Internet。</p>
<h1 id="1-2-需求分析"><a href="#1-2-需求分析" class="headerlink" title="1.2 需求分析"></a>1.2 需求分析</h1><p>1.每个部门内部可以二层互通、部门间可以三层互通。</p>
<p>2.使用静态路由、RIP路由配置。</p>
<p>3.校园内部使用私网IP地址，所有用户均可通过校园网访问Internet。</p>
<p>4.所有用户均可在内网实现资源共享，访问Web/FTP服务器。</p>
<p>5.学生宿舍、图书馆、教学楼不能访问人事处、财务处。</p>
<p>6.服务器采用静态IP地址，其他用户采用动态IP地址。</p>
<h1 id="1-3-网络规划-设计"><a href="#1-3-网络规划-设计" class="headerlink" title="1.3 网络规划/设计"></a>1.3 网络规划/设计</h1><h2 id="1-3-1VLAN规划"><a href="#1-3-1VLAN规划" class="headerlink" title="1.3.1VLAN规划"></a>1.3.1VLAN规划</h2><p>分别在学生宿舍、图书馆、教学楼下设置一台主机和一台Client为代表，以实现二层之间的互通。在办公楼下设置三个交换机，每个交换机下设置一台主机和一台Client为代表，以实现二层之间的互通。</p>
<p>使用一个聚合交换机进行配置，代表教学楼，以实现三层之间可以实现互通。同时满足要求学生宿舍、图书馆、教学楼不能访问人事处、财务处。</p>
<h2 id="1-3-2IP地址规划"><a href="#1-3-2IP地址规划" class="headerlink" title="1.3.2IP地址规划"></a>1.3.2IP地址规划</h2><p>以下为IP地址规划<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135223.png" alt="IP地址规划图"></p>
<h2 id="1-3-3功能部署规划"><a href="#1-3-3功能部署规划" class="headerlink" title="1.3.3功能部署规划"></a>1.3.3功能部署规划</h2><p>校园网整体布局<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135544.png" alt="图1 校园网整体布局"></p>
<p>学生宿舍由一个交换机、一台主机和一台Client构成，配置的</p>
<p>VLAN为VLAN10，可以访问图书馆和教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135637.png" alt="图2 学生宿舍"></p>
<p>图书馆由一个交换机、一台主机和一台Client构成，配置的VLAN为VLAN50，可以访问学生宿舍和教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135726.png" alt="图3 图书馆"></p>
<p>教学楼由一个交换机、一台主机和一台Client构成，配置的VLAN为VLAN60，可以访问图书馆和学生宿舍<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135755.png" alt="图4 教学楼"></p>
<p>办公楼由一个聚合交换机代表，其他为三个普通交换机，分别代表财务处、人事处和其他科室，每个部分又分别有一台主机和一台Client代表。</p>
<p>可以实现财务处、人事处、其他科室三个部分互通，并且学生宿舍、图书馆、教学楼均不能访问人事处、财务处。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135825.png" alt="图5 办公楼"></p>
<p>Internet和Web/FTP服务器分别用一台主机和一台服务器来代表，可以实现校园内部使用私网IP地址，所有用户均可通过校园网访问Internet以及所有用户均可在内网实现资源共享，访问Web/FTP服务器两大功能。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135900.png" alt="图6 Internet和Web/FTP服务器"></p>
<h1 id="1-4-具体配置"><a href="#1-4-具体配置" class="headerlink" title="1.4 具体配置"></a>1.4 具体配置</h1><h2 id="1-4-1配置VLAN——在接入交换机上配置"><a href="#1-4-1配置VLAN——在接入交换机上配置" class="headerlink" title="1.4.1配置VLAN——在接入交换机上配置"></a>1.4.1配置VLAN——在接入交换机上配置</h2><p>分别在LSW1-LSW6上配置VLAN，然后配置入口类型为access，将主机默认vlan设置成配置的vlan，并且将出口设置为trunk类型，设置出口的vlan为默认预设的vlan</p>
<p>LSW1</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 10</span><br><span class="line">interface Ethernet 0/0/1</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 10</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/2</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 10</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/4</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 10</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>LSW2<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 20</span><br><span class="line">interface Ethernet 0/0/3</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 20</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/4</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 20</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/2</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 20</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><br>LSW3<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 30</span><br><span class="line">interface Ethernet 0/0/5</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 30</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/6</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 30</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/4</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 30</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><br>LSW4<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 40</span><br><span class="line">interface Ethernet 0/0/7</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 40</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/8</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 40</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/5</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 40</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><br>LSW5<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 50</span><br><span class="line">interface Ethernet 0/0/9</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 50</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/10</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 50</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/6</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 50</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><br>LSW6<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 60</span><br><span class="line">interface Ethernet 0/0/11</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 60</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/12</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 60</span><br><span class="line">quit</span><br><span class="line">interface Ethernet 0/0/7</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 60</span><br><span class="line">quit</span><br></pre></td></tr></table></figure></p>
<h2 id="1-4-2在路由器上配置VLAN10、50、60"><a href="#1-4-2在路由器上配置VLAN10、50、60" class="headerlink" title="1.4.2在路由器上配置VLAN10、50、60"></a>1.4.2在路由器上配置VLAN10、50、60</h2><p>在AR1路由器上配置VLAN10、50、60，以实现学生宿舍、图书馆和教学楼之间可以进行部门间的三层访问。<br>首先，批量创建VLAN10、50、60，设置接口类型为access，将默认VLAN设置成预设的VLAN，然后将出口类型设置为trunk，将默认VLAN设置成预设，使其通过。<br>同时创建一个VLAN100,目的是为了给办公楼进行使用。<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 10</span><br><span class="line">interface Ethernet 0/0/4</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 10</span><br><span class="line">quit</span><br><span class="line">vlan batch 50</span><br><span class="line">interface Ethernet 0/0/6</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 50</span><br><span class="line">quit</span><br><span class="line">vlan batch 60</span><br><span class="line">interface Ethernet 0/0/7</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 60</span><br><span class="line">quit</span><br><span class="line">vlan batch 100</span><br><span class="line">interface Ethernet 0/0/5</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 100</span><br><span class="line">quit</span><br></pre></td></tr></table></figure></p>
<h2 id="1-4-3配置VLAN10、50、60路由——路由器"><a href="#1-4-3配置VLAN10、50、60路由——路由器" class="headerlink" title="1.4.3配置VLAN10、50、60路由——路由器"></a>1.4.3配置VLAN10、50、60路由——路由器</h2><p>给学生宿舍、图书馆、教学楼配置路由，使HDCP能够动态获取路由，并且使得学生宿舍、图书馆、教学楼之间可以相互ping通。<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">interface vlanif 10</span><br><span class="line">ip address 192.168.1.1 24</span><br><span class="line">quit</span><br><span class="line">interface vlanif 50</span><br><span class="line">ip address 192.168.5.1 24</span><br><span class="line">quit</span><br><span class="line">interface vlanif 60</span><br><span class="line">ip address 192.168.6.1 24</span><br><span class="line">quit</span><br><span class="line">dhcp enable</span><br><span class="line">interface vlanif 10</span><br><span class="line">dhcp select interface</span><br><span class="line">quit</span><br><span class="line">dhcp enable</span><br><span class="line">interface vlanif 50</span><br><span class="line">dhcp select interface</span><br><span class="line">quit</span><br><span class="line">dhcp enable</span><br><span class="line">interface vlanif 60</span><br><span class="line">dhcp select interface</span><br><span class="line">quit</span><br></pre></td></tr></table></figure></p>
<p>配置结果学生宿舍、图书馆和教学楼之间可以相互ping通</p>
<p>学生宿舍ping图书馆、教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140200.png" alt=""></p>
<p>图书馆ping学生宿舍、教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140221.png" alt=""></p>
<p>教学楼ping学生宿舍、图书馆<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140242.png" alt=""></p>
<h2 id="1-4-4在汇聚交换机LSW7上创建VLAN"><a href="#1-4-4在汇聚交换机LSW7上创建VLAN" class="headerlink" title="1.4.4在汇聚交换机LSW7上创建VLAN"></a>1.4.4在汇聚交换机LSW7上创建VLAN</h2><p>在LSW7上批量创建VLAN20、30、40、100，将每一个通过GigabitEthernet接口与LSW7相连的交换机链路上配置接口类型为access，将默认VLAN设置为预设的20、30、40。</p>
<p>LSW7</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 20 30 40 100</span><br><span class="line">interface GigabitEthernet 0/0/2</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 20</span><br><span class="line">quit</span><br><span class="line">interface GigabitEthernet 0/0/4</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 30</span><br><span class="line">quit</span><br><span class="line">interface GigabitEthernet 0/0/5</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 40</span><br><span class="line">quit</span><br><span class="line">interface GigabitEthernet 0/0/1</span><br><span class="line">port link-type trunk</span><br><span class="line">port trunk allow-pass vlan 100</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<h2 id="1-4-5在汇聚交换机LSW7上配置路由"><a href="#1-4-5在汇聚交换机LSW7上配置路由" class="headerlink" title="1.4.5在汇聚交换机LSW7上配置路由"></a>1.4.5在汇聚交换机LSW7上配置路由</h2><p>在三个VLANIF中分别配置每一个路由地址</p>
<p>LSW7</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">interface vlanif 20</span><br><span class="line">ip address 192.168.2.1 24</span><br><span class="line">quit</span><br><span class="line">interface vlanif 30</span><br><span class="line">ip address 192.168.3.1 24</span><br><span class="line">quit</span><br><span class="line">interface vlanif 40</span><br><span class="line">ip address 192.168.4.1 24</span><br><span class="line">quit</span><br><span class="line">interface vlanif 100</span><br><span class="line">ip address 192.168.100.1 24</span><br><span class="line">quit</span><br><span class="line">rip 100</span><br><span class="line">network 192.168.2.0</span><br><span class="line">network 192.168.3.0</span><br><span class="line">network 192.168.4.0</span><br><span class="line">network 192.168.100.0</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<h2 id="1-4-6配置DHCP—-配置DHCP中继"><a href="#1-4-6配置DHCP—-配置DHCP中继" class="headerlink" title="1.4.6配置DHCP—-配置DHCP中继"></a>1.4.6配置DHCP—-配置DHCP中继</h2><p>在LSW7上配置DHCP中继，在LSW7上使能DHCP功能，然后在LSW7上，使能DHCP relay功能并且指定中继到的DHCP服务器地址。</p>
<p>LSW7</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dhcp enable</span><br><span class="line">interface vlanif 20</span><br><span class="line">dhcp select relay</span><br><span class="line">dhcp relay server-ip 192.168.100.2</span><br><span class="line">quit</span><br><span class="line">interface vlanif 30</span><br><span class="line">dhcp select relay</span><br><span class="line">dhcp relay server-ip 192.168.100.2</span><br><span class="line">quit</span><br><span class="line">interface vlanif 40</span><br><span class="line">dhcp select relay</span><br><span class="line">dhcp relay server-ip 192.168.100.2</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<h2 id="1-4-7配置DHCP—-配置DHCP服务器"><a href="#1-4-7配置DHCP—-配置DHCP服务器" class="headerlink" title="1.4.7配置DHCP—-配置DHCP服务器"></a>1.4.7配置DHCP—-配置DHCP服务器</h2><p>在DHCP服务器上AR1上使能DHCP功能，然后分别配置全局地址池pool2、pool3、pool4。进入连接下方LSW7的VLANIF 100接口，并且使能全局地址池功能。</p>
<p>AR1</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dhcp enable</span><br><span class="line">ip  pool pool2</span><br><span class="line">network 192.168.2.0 mask 255.255.255.0</span><br><span class="line">gateway-list 192.168.2.1</span><br><span class="line">quit</span><br><span class="line">ip  pool pool3</span><br><span class="line">network 192.168.3.0 mask 255.255.255.0</span><br><span class="line">gateway-list 192.168.3.1</span><br><span class="line">quit</span><br><span class="line">ip  pool pool4</span><br><span class="line">network 192.168.4.0 mask 255.255.255.0</span><br><span class="line">gateway-list 192.168.4.1</span><br><span class="line">quit</span><br><span class="line">interface vlanif 100</span><br><span class="line">dhcp select global</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>配置结果，财务处、人事处、其他科室可以相互ping通</p>
<p>财务处ping人事处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140407.png" alt=""></p>
<p>人事处ping财务处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140446.png" alt=""></p>
<p>其他科室ping财务处、人事处<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140507.png" alt=""></p>
<h2 id="1-4-8实现资源共享"><a href="#1-4-8实现资源共享" class="headerlink" title="1.4.8实现资源共享"></a>1.4.8实现资源共享</h2><p>实现资源共享，使得所有用户均可通过校园网访问Web/FTP服务器，也是Server1，IP网关为200.1.1.1。</p>
<p>首先需要在AR1上将直连路由加入其中</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">interface vlanif 100</span><br><span class="line">ip address 192.168.100.2 24</span><br><span class="line">quit</span><br><span class="line">rip 100</span><br><span class="line">network 192.168.100.0</span><br><span class="line">network 192.168.1.0</span><br><span class="line">network 192.168.5.0</span><br><span class="line">network 192.168.6.0</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>然后在AR1路由器和Web/FTP服务器连接的路由上配置VLAN，并且在VLANIF中配置网络地址。将配置的地址加入rip当中进行广播。</p>
<p>AR1</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 1000</span><br><span class="line">interface Ethernet 0/0/1</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 1000</span><br><span class="line">quit</span><br><span class="line">interface vlanif 1000</span><br><span class="line">ip address 200.1.1.1 24</span><br><span class="line">quit</span><br><span class="line">rip 100</span><br><span class="line">network 200.1.1.0</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>在AR2路由器上配置VLAN，并且将接口类型设置为access。默认VALN设置为预设的200</p>
<p>AR2</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vlan batch 200</span><br><span class="line">interface Ethernet 0/0/1</span><br><span class="line">port link-type access</span><br><span class="line">port default vlan 200</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>在AR1的GigabitEthernet 0/0/1接口上配置一个IP地址</p>
<p>AR1</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">interface GigabitEthernet 0/0/1</span><br><span class="line">ip address 150.1.1.1 24</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>在AR2上配置VLANIF中的地址，并且给GigabitEthernet 0/0/1配置一个IP地址</p>
<p>AR2</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">interface vlanif 200</span><br><span class="line">ip address 100.1.1.1 24</span><br><span class="line">quit</span><br><span class="line">interface GigabitEthernet 0/0/1</span><br><span class="line">ip address 150.1.1.2 24</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>AR    1和AR2分别配置连通对方的静态地址<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ip route-static 0.0.0.0 0.0.0.0 150.1.1.2</span><br><span class="line">ip route-static 0.0.0.0 0.0.0.0 150.1.1.1</span><br></pre></td></tr></table></figure><br>现在PC1-PC6都可以实现访问Web/FTP服务器的功能</p>
<p>PC1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140618.png" alt=""></p>
<p>PC2<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140638.png" alt=""></p>
<p>PC3<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140658.png" alt=""></p>
<p>PC4<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140717.png" alt=""></p>
<p>PC5<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140737.png" alt=""></p>
<p>PC6<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140758.png" alt=""></p>
<h2 id="1-4-9配置NAT"><a href="#1-4-9配置NAT" class="headerlink" title="1.4.9配置NAT"></a>1.4.9配置NAT</h2><p>配置NAT需要配置先配置不同的地址组，分配不同的地址。然后配置不同的acl，分配不同的acl，最后早AR1的interface GigabitEthernet0/0/1上将不同的IP地址组和不同的acl相对应起来。此外。还需要在LSW7上配置一个静态路由。</p>
<p>LSW7</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ip route-static 0.0.0.0 0.0.0.0 192.168.100.2</span><br></pre></td></tr></table></figure>
<p>AR1<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nat address-group 1 150.1.1.100 150.1.1.200</span><br><span class="line">nat address-group 2 150.2.1.100 150.2.1.200</span><br><span class="line">nat address-group 3 150.3.1.100 150.3.1.200</span><br><span class="line">nat address-group 4 150.4.1.100 150.4.1.200</span><br><span class="line">nat address-group 5 150.5.1.100 150.5.1.200</span><br><span class="line">nat address-group 6 150.6.1.100 150.6.1.200</span><br><span class="line">acl 2001</span><br><span class="line">rule permit source 192.168.1.2 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">acl 2002</span><br><span class="line">rule permit source 192.168.2.2 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">acl 2003</span><br><span class="line">rule permit source 192.168.3.2 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">acl 2004</span><br><span class="line">rule permit source 192.168.4.2 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">acl 2005</span><br><span class="line">rule permit source 192.168.5.2 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">acl 2006</span><br><span class="line">rule permit source 192.168.6.2 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">interface GigabitEthernet0/0/1</span><br><span class="line">nat outbound 2001 address-group 1 no-pat</span><br><span class="line">nat outbound 2002 address-group 2 no-pat</span><br><span class="line">nat outbound 2003 address-group 3 no-pat</span><br><span class="line">nat outbound 2004 address-group 4 no-pat</span><br><span class="line">nat outbound 2005 address-group 5 no-pat</span><br><span class="line">nat outbound 2006 address-group 6 no-pat</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><br>现在PC1-6均可以访问Internet<br>PC1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140842.png" alt=""></p>
<p>PC2<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140901.png" alt=""></p>
<p>PC3<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140927.png" alt=""></p>
<p>PC4<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902140951.png" alt=""></p>
<p>PC5<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141009.png" alt=""></p>
<p>PC6<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141027.png" alt=""></p>
<h2 id="1-4-10配置学生宿舍、图书馆和教学楼不能访问人事处、财务处和其他科室"><a href="#1-4-10配置学生宿舍、图书馆和教学楼不能访问人事处、财务处和其他科室" class="headerlink" title="1.4.10配置学生宿舍、图书馆和教学楼不能访问人事处、财务处和其他科室"></a>1.4.10配置学生宿舍、图书馆和教学楼不能访问人事处、财务处和其他科室</h2><p>通过配置ACL，使得学生宿舍、图书馆和教学楼不能访问人事处、财务处和其他科室。</p>
<p>配置一个acl3000，将具体的地址制定为规则，然后在LSW7的接口下应用其规则。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">acl 3000</span><br><span class="line">rule 1 deny ip source 192.168.1.1 0.0.0.255 destination 192.168.2.1 0.0.0.255</span><br><span class="line">rule 2 deny ip source 192.168.1.1 0.0.0.255 destination 192.168.3.1 0.0.0.255</span><br><span class="line">rule 3 deny ip source 192.168.1.1 0.0.0.255 destination 192.168.4.1 0.0.0.255</span><br><span class="line">rule 4 deny ip source 192.168.5.1 0.0.0.255 destination 192.168.2.1 0.0.0.255</span><br><span class="line">rule 5 deny ip source 192.168.5.1 0.0.0.255 destination 192.168.3.1 0.0.0.255</span><br><span class="line">rule 6 deny ip source 192.168.5.1 0.0.0.255 destination 192.168.4.1 0.0.0.255</span><br><span class="line">rule 7 deny ip source 192.168.6.1 0.0.0.255 destination 192.168.2.1 0.0.0.255</span><br><span class="line">rule 8 deny ip source 192.168.6.1 0.0.0.255 destination 192.168.3.1 0.0.0.255</span><br><span class="line">rule 9 deny ip source 192.168.6.1 0.0.0.255 destination 192.168.4.1 0.0.0.255</span><br><span class="line">quit</span><br><span class="line">interface vlanif100</span><br><span class="line">traffic-filter outbound acl 3000</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>PC1,5,6不能访问PC2,3,4<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141121.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141136.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141151.png" alt=""></p>
<p>PC2,3,4可以访问PC1,5,6<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141211.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141229.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141244.png" alt=""></p>
<h1 id="1-5-测试验证"><a href="#1-5-测试验证" class="headerlink" title="1.5 测试验证"></a>1.5 测试验证</h1><h2 id="1-5-1每台网络设备的路由表"><a href="#1-5-1每台网络设备的路由表" class="headerlink" title="1.5.1每台网络设备的路由表"></a>1.5.1每台网络设备的路由表</h2><p>下方给出每台网络设备的路由表（汇聚交换机/出口路由器）</p>
<p>输入在LSW7、AR1、AR2上使用display ip routing-table命令查看路由表</p>
<p>LSW7的路由配置表<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141315.png" alt=""><br>AR1路由配置表<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141332.png" alt=""><br>AR2<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141348.png" alt=""></p>
<h2 id="1-5-2验证结果"><a href="#1-5-2验证结果" class="headerlink" title="1.5.2验证结果"></a>1.5.2验证结果</h2><h3 id="1-5-2-1每个部门内部可以二层互通"><a href="#1-5-2-1每个部门内部可以二层互通" class="headerlink" title="1.5.2.1每个部门内部可以二层互通"></a>1.5.2.1每个部门内部可以二层互通</h3><p>学生宿舍<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141414.png" alt=""></p>
<p>财务处<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141430.png" alt=""></p>
<p>人事处<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141446.png" alt=""></p>
<p>其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141503.png" alt=""></p>
<p>图书馆<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141520.png" alt=""></p>
<p>教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141535.png" alt=""></p>
<h3 id="1-5-2-2部门间可以三层互通"><a href="#1-5-2-2部门间可以三层互通" class="headerlink" title="1.5.2.2部门间可以三层互通"></a>1.5.2.2部门间可以三层互通</h3><p>学生宿舍ping图书馆、教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141556.png" alt=""></p>
<p>图书馆ping学生宿舍、教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141620.png" alt=""></p>
<p>教学楼ping学生宿舍、图书馆<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141642.png" alt=""></p>
<p>财务处ping人事处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141702.png" alt=""></p>
<p>人事处ping财务处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141733.png" alt=""></p>
<p>其他科室ping财务处、人事处<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141751.png" alt=""></p>
<h3 id="1-5-2-3学生宿舍、图书馆、教学楼不能访问人事处财务处其他科室"><a href="#1-5-2-3学生宿舍、图书馆、教学楼不能访问人事处财务处其他科室" class="headerlink" title="1.5.2.3学生宿舍、图书馆、教学楼不能访问人事处财务处其他科室"></a>1.5.2.3学生宿舍、图书馆、教学楼不能访问人事处财务处其他科室</h3><p>学生宿舍不能访问人事处、财务处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141818.png" alt=""></p>
<p>图书馆不能访问人事处、财务处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141838.png" alt=""></p>
<p>教学楼不能访问人事处、财务处、其他科室<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141856.png" alt=""></p>
<p>并且财务处、人事处和其他科室都可以访问学生宿舍、图书馆和教学楼<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141913.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141939.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902141954.png" alt=""></p>
<h3 id="1-5-2-4服务器采用静态IP地址"><a href="#1-5-2-4服务器采用静态IP地址" class="headerlink" title="1.5.2.4服务器采用静态IP地址"></a>1.5.2.4服务器采用静态IP地址</h3><p>Web/FTP服务器<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142032.png" alt=""></p>
<p>Internet<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142056.png" alt=""></p>
<h3 id="1-5-2-5其他用户采用动态IP地址"><a href="#1-5-2-5其他用户采用动态IP地址" class="headerlink" title="1.5.2.5其他用户采用动态IP地址"></a>1.5.2.5其他用户采用动态IP地址</h3><p>PC1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142115.png" alt=""></p>
<p>PC2<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142132.png" alt=""></p>
<p>PC3<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142147.png" alt=""></p>
<p>PC4<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142206.png" alt=""></p>
<p>PC5<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142223.png" alt=""></p>
<p>PC6<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142240.png" alt=""></p>
<h3 id="1-5-2-6所有用户均可通过校园网访问Internet"><a href="#1-5-2-6所有用户均可通过校园网访问Internet" class="headerlink" title="1.5.2.6所有用户均可通过校园网访问Internet"></a>1.5.2.6所有用户均可通过校园网访问Internet</h3><p>PC1-6均可以访问Internet</p>
<p>PC1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142301.png" alt=""></p>
<p>PC2<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142322.png" alt=""></p>
<p>PC3<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142342.png" alt=""></p>
<p>PC4<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142358.png" alt=""></p>
<p>PC5<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142412.png" alt=""></p>
<p>PC6<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142427.png" alt=""></p>
<h3 id="1-5-2-7所有用户均可在内网实现资源共享，访问Web-FTP服务器"><a href="#1-5-2-7所有用户均可在内网实现资源共享，访问Web-FTP服务器" class="headerlink" title="1.5.2.7所有用户均可在内网实现资源共享，访问Web/FTP服务器"></a>1.5.2.7所有用户均可在内网实现资源共享，访问Web/FTP服务器</h3><p>PC1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142446.png" alt=""></p>
<p>PC2<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142505.png" alt=""></p>
<p>PC3<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142520.png" alt=""></p>
<p>PC4<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142536.png" alt=""></p>
<p>PC5<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142551.png" alt=""></p>
<p>PC6<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902142610.png" alt=""></p>
<h1 id="1-6-小结"><a href="#1-6-小结" class="headerlink" title="1.6 小结"></a>1.6 小结</h1><h2 id="1-6-1课程设计的心得"><a href="#1-6-1课程设计的心得" class="headerlink" title="1.6.1课程设计的心得"></a>1.6.1课程设计的心得</h2><p>两周的课程设计结束了，在这次的课程设计中不仅检验了我所学习的知识，也培养了我如何去把握一件事情，如何去做一件事情，又如何完成一件事情。在设计过程中，与同学分工设计，和同学们相互探讨，相互学习，相互监督。学会了合作，学会了运筹帷幄，学会了宽容，学会了理解，也学会了做人与处世。</p>
<p>课程设计是我们专业课程知识综合应用的实践训练，着是我们迈向社会，从事职业工作前一个必不少的过程.”千里之行始于足下”，通过这次课程设计，我深深体会到这句千古名言的真正含义，我今天认真的进行课程设计，学会脚踏实地迈开这一步，就是为明天能稳健地在社会大潮中奔跑打下坚实的基础.</p>
<p>通过这次课程设计，本人在多方面都有所提高。通过这次设计，综合运用本专业所学课程的理论和生产实际知识进行一次小型校园网设计工作的实际训练从而培养和提高学生独立工作能力，巩固与扩充了计算机网络等课程所学的内容，掌握网络规划设计的方法和步骤，掌握VLAN、ACL、NAT设计的基本的技能，懂得了怎样分析网络复杂性，怎样确定设计方案，了解了网络的基本结构，提高了配置网络能力，绘图能力，熟悉了规范和标准，同时有了全面的复习，独立思考的能力也有了提高。</p>
<h2 id="1-6-2收获"><a href="#1-6-2收获" class="headerlink" title="1.6.2收获"></a>1.6.2收获</h2><p>在这次设计过程中，体现出自己设计网络的能力以及综合运用知识的能力，体会了学以致用、突出自己劳动成果的喜悦心情，从中发现自己平时学习的不足和薄弱环节，从而加以弥补。</p>
<p>在此感谢我们的计算机网络老师.，老师严谨细致、一丝不苟的作风一直是我工作、学习中的榜样；老师循循善诱的教导和不拘一格的思路给予我无尽的启迪；这次网络设计的每个实验细节，都离不开老师您的细心指导。而您开朗的个性和宽容的态度，帮助我能够很顺利的完成了这次课程设计。</p>
<p>同时感谢对我帮助过的同学们，谢谢你们对我的帮助和支持，让我感受到同学的友谊。</p>
<h2 id="1-6-3不足分析"><a href="#1-6-3不足分析" class="headerlink" title="1.6.3不足分析"></a>1.6.3不足分析</h2><p>由于本人的设计能力有限，在设计过程中难免出现错误，恳请老师们多多指教，我十分乐意接受你们的批评与指正，本人将万分感谢。</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>计算机网络学习笔记</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>eNSP</tag>
        <tag>VirtualBox</tag>
        <tag>WinPcap</tag>
        <tag>Wireshark</tag>
      </tags>
  </entry>
  <entry>
    <title>一次奇怪的患病经历</title>
    <url>/102-strange-disease/</url>
    <content><![CDATA[<h1 id="开始症状后-初次就医前"><a href="#开始症状后-初次就医前" class="headerlink" title="开始症状后-初次就医前"></a>开始症状后-初次就医前</h1><h2 id="第1天"><a href="#第1天" class="headerlink" title="第1天"></a>第1天</h2><p>事情要从几天以前说起,这一天晚上，一切都和平常一样，没有什么事情发生，直到晚上6点多吃完晚饭，7点钟不到的时候,左眼眶区域就开始隐隐开始作痛。</p>
<p>一开始我觉得可能就是三叉神经痛之类的，过一会就好了，可没想到,这一痛就从晚上7点一直痛到早上6点，真的是一晚上都没睡着。期间，凌晨12点至凌晨2点发作最为剧烈。就这样，第一天过去了。</p>
<h2 id="第2-3天"><a href="#第2-3天" class="headerlink" title="第2-3天"></a>第2-3天</h2><p>因为之前有一次，晚上胃痛，第二天就好了，所以我觉得应该是和饮食有一定关系，于是第2-3天就吃的很清淡，想观察一下，这个疼痛是否是因为饮食问题引起的，可惜并不是由于饮食原因</p>
<p>于是又这样熬过了两个晚上，期间第三天晚上，痛的实在是受不了了，就起来录制视频来转移注意力，然后顺便用pr剪辑，加两重水印，一重静态的bilibili原水印，一重运动的字体水印，BGM，字幕(当时可真有心，真的是边痛边缓解)。</p>
<p>有兴趣可以看一下这个70多分钟的废话视频，大晚上真的是凭意识在说废话(B站最近样式改版，分享按钮都没有了，可能出现无法观看的情况)</p>
<div style="position: relative; padding: 30% 45%;">  
    <iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"  
            src="https://player.bilibili.com/player.html?bvid=BV1P64y1a746&amp;page=1&as_wide=1&high_quality=1&danmaku=1"  
            frameborder="no"  
            border="0"  
            scrolling="no"  
            allowfullscreen="true">  
    </iframe>  
</div>



<h1 id="初次就医后-大医院就医前"><a href="#初次就医后-大医院就医前" class="headerlink" title="初次就医后-大医院就医前"></a>初次就医后-大医院就医前</h1><h2 id="第4天"><a href="#第4天" class="headerlink" title="第4天"></a>第4天</h2><p>这一天晚上，又开始痛，我觉得不行了，一定要去医院看一看，就去了附近一家小医院，找了急诊的外科医生，他说我这个可能是用眼过度或者是三叉神经痛导致的问题，然后给我配了一盒洛芬待因缓释片，不过他也提醒我，如果接下来还痛，要及时去大医院看。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109211828525.jpeg" alt="洛芬待因缓释片"></p>
<p>当天晚上我就按照医嘱吃了两粒，可是没有什么效果，这个时候，我觉得我是神经上的问题，可能问题比较严重，止痛药没那么快生效。</p>
<h2 id="第5天"><a href="#第5天" class="headerlink" title="第5天"></a>第5天</h2><p>这一天，止痛药在晚上7点就吃了，可是疼痛还是如约而至，这一天我真的是痛得泗涕横流啊，大晚上给我妈发微信，和她一直聊天，各种吐槽，想到什么就说什么，为了转移注意力，也为了释放最近的压力。也是这天晚上，决定一定要去大医院看一下了。</p>
<h1 id="三甲医院初步诊断-初步配药"><a href="#三甲医院初步诊断-初步配药" class="headerlink" title="三甲医院初步诊断-初步配药"></a>三甲医院初步诊断-初步配药</h1><h2 id="第6天"><a href="#第6天" class="headerlink" title="第6天"></a>第6天</h2><h3 id="排除三大神经痛"><a href="#排除三大神经痛" class="headerlink" title="排除三大神经痛"></a>排除三大神经痛</h3><p>第五天晚上在微信上，去东南大学附属中大医院的公众号，约了一个第二天的神经外科门诊。东大附属中大医院离我房子这边有12公里远，每次过去打的都要2小时左右，实在是有点距离。</p>
<p>第六天上午去医院报道排号，不过上午没叫到我，我前面明明显示只有一个人的，于是无奈挨到了下午，等护士一来，就和她们说了，她们也惊讶怎么没有叫到我，所以给我安排在了下午第一个看病。</p>
<p>和医生描述了相关的症状、身体反应之后，医生建议我先做个血检，看一下是不是由于病毒引起的神经相关问题。于是做了一次血检。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/21/20210921202635084.jpg" alt="血检报告"></p>
<p>从血检这里可以看到，超敏C反应蛋白过高，说明又炎症产生，但是我身上并没有什么伤口，怎么会有发炎的迹象产生。医生看完之后，只能排除<strong>三大神经痛</strong>，至于是什么病症，还无法确定，他只能建议我去皮肤科看一下是不是窦状疱疹这个病，还有就是去疼痛科看一下。</p>
<h3 id="排除窦状疱疹"><a href="#排除窦状疱疹" class="headerlink" title="排除窦状疱疹"></a>排除窦状疱疹</h3><p>然后我挂了皮肤科的号，皮肤科医生倒是一上手就很快把<strong>窦状疱疹</strong>这个问题给排除掉了，然后皮肤科医生建议我去神经内科看一下，不用去疼痛科看，而且建议我直接把皮肤科号换成神经内科就行了。</p>
<h3 id="初步判断为丛集性头痛"><a href="#初步判断为丛集性头痛" class="headerlink" title="初步判断为丛集性头痛"></a>初步判断为丛集性头痛</h3><p>于是我又去到了神经内科看，这次医生给了我一个病的名称，叫丛集性头痛，我听完医生的描述，发现确实和丛集性头痛症状非常符合，我的病状和丛集性头痛都存在规律性疼痛、持续疼痛以及我的发病位置也符合丛集性头痛可能的区域。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/21/20210921210618633.jpg" alt="初诊病历"></p>
<p>不过也可能是由于头部某位置有什么东西导致左眼眶痛，这个要进一步做核磁共振来判断，于是我约了一个核磁共振，东大附属中大医院的核磁共振是要预约，也就是第二天才能做。今天，神经内科医生也只能配一些缓解的药，因为不能确定病因，所以无法开出治疗的药物。以及嘱咐我停了之前配的止痛药。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212043457.jpg" alt=""></p>
<p>于是我接下来，一是配了医生开的药，二是预约了第二天的核磁共振，其中丹珍头痛胶囊一天吃四粒，盐酸氟桂利嗪胶囊一天吃一粒，散利痛发作时吃一粒，回家之后，按照要求进行服药，症状的确有缓解，但是还是有3-5成的疼痛存在，不过好在晚上能睡得着觉了。</p>
<h1 id="核磁共振-最终确诊病因"><a href="#核磁共振-最终确诊病因" class="headerlink" title="核磁共振-最终确诊病因"></a>核磁共振-最终确诊病因</h1><h2 id="第7天"><a href="#第7天" class="headerlink" title="第7天"></a>第7天</h2><p>这一天去做了核磁共振，不过核磁共振需要24小时之后才能去拿报告，于是就先回家，吃着第6天配的缓解疼痛的药。</p>
<h3 id="分析丛集性头痛相符程度"><a href="#分析丛集性头痛相符程度" class="headerlink" title="分析丛集性头痛相符程度"></a>分析丛集性头痛相符程度</h3><p>一开始查询丛集性头痛的相关问题，看了还是有点后怕，引用知乎上的一个回答。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/21/20210921211922197.jpg" alt=""></p>
<p>但是看了一些相关发作视频之后，我反而觉得我的症状有点不符合，远没有这么痛的程度，相关视频可以看下面的B站视频。</p>
<div style="position: relative; padding: 30% 45%;">  
    <iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"  
            src="https://player.bilibili.com/player.html?bvid=BV1vt411Q7eb&amp;page=1&as_wide=1&high_quality=1&danmaku=1"  
            frameborder="no"  
            border="0"  
            scrolling="no"  
            allowfullscreen="true">  
    </iframe>  
</div>

<h2 id="第8天"><a href="#第8天" class="headerlink" title="第8天"></a>第8天</h2><p>这一天没有去医院，相关症状在药物的缓和下，也没有那么严重了。</p>
<h2 id="第9天"><a href="#第9天" class="headerlink" title="第9天"></a>第9天</h2><h3 id="最终确定为急性鼻窦炎"><a href="#最终确定为急性鼻窦炎" class="headerlink" title="最终确定为急性鼻窦炎"></a>最终确定为急性鼻窦炎</h3><p>成功取到了核磁共振的片子和报告</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/21/20210921213258708.jpg" alt="核磁共振报告"></p>
<p>拿到片子，去到神经内科再进行判断，医生说从报告上看，我左侧额窦存在炎症，于是调出了我的核磁共振报告，如下图所示：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212121810.png" alt=""></p>
<p>从图中可以看到，我的左额处有一块明显的异常区域，医生给出的结论是由于炎症引发的原因，可以把<strong>肿瘤</strong>问题给排除调了，不仅如此，虽然我的症状和丛集性头痛很相似，但是这个时候医生说出了一个比较关键的判断依据，那就是丛集性头痛发作时眼睛是模糊看不清的，而我在疼痛时眼睛依旧看的很清楚，并未出现眼睛模糊的症状，因此<strong>丛集性头疼</strong>也可以排除了，同时青光眼也可能导致我的症状，但是青光眼同样也是眼睛模糊看不清，所以<strong>青光眼</strong>也被排除掉了。最后，由于是额窦处产生的问题，神经内科医生建议我去看一下耳鼻喉科。</p>
<p>在耳鼻喉科，进行了最终的诊断，医生听完我对之前病症的描述，以及在不同科室排除其他病症的经过之后，给出我的病是急性鼻窦炎的结论，由于之前的经历，我特意问了下医生，判断是急性鼻窦炎的可能性多大，医生说，现在核磁共振做出来，判断是急性鼻窦炎的可能性就八九不离十了。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212157651.jpg" alt=""></p>
<p>在检查我的鼻腔之后，医生说我四组鼻窦中有三组已经感染发炎了，现在进行的治疗方案是保守治疗，先进行鼻窦的消炎工作，可能持续7-10天，在这个疗程之后，如果消炎成功，那大概率，鼻窦炎就能治好了，如果不成功，那么就需要进行手术，开刀。详情可以参考知乎上的<a href="https://www.zhihu.com/question/67224392/answer/551945875">鼻窦炎手术体验</a>这一篇回答。</p>
<p>这里引用一小段描述 ：</p>
<p><em>手术虽然是小手术，但是要做全麻，所以还是比较危险的。上午做手术，手术完之后，马上转为一级护理。下午在病床上睡一下午，也就是说的前六个小时要躺在床上不能起身。到了晚上护士就已经可以让人起床吃一些东西了，但是必须要把床摇高，高位躺卧睡觉。这个时候是非常难受的，因为你的鼻腔里面塞满了这种海绵状的填充物，而你的喉咙感觉很痛，每次吞咽的时候就是如鲠在喉的感觉，相当痛苦。这样坚持了两天，到周三上午的时候，医生通知可以拔掉这个鼻腔里面的填充物了。填充物拔出来的瞬间是非常酸爽的，拔完之后，我整个人瘫坐在椅子上，腿都是软的站不起来。填充物拔出来之后感觉好了很多，但是因为鼻腔里面还是有很多分泌物，也不会很通气，基本上还是用嘴巴在呼吸，但是当天晚上睡觉半夜醒来的时候，嘴巴是闭上的，说明已经可以用鼻腔来进行呼吸了。</em></p>
<p>手术虽然小，但是要全麻，后期恢复相对没那么糟糕，不过一定要在三甲医院做，假如真到了做手术这一步，我一定会在正规三甲医院进行手术。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/21/20210921220014350.jpg" alt="确诊病历"></p>
<p>根据医生开出的病历单，配了两种喷剂、一种口服液和一种胶囊。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212203258.jpg" alt="诺斯清"></p>
<p>首先是诺斯清，这是生理盐水，每天往鼻腔里喷三次，每次喷三下。使用时，需要头靠后，正好我的人体工学椅往后靠的幅度比较大，直接靠着喷就行了。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212206865.jpg" alt="布地奈德鼻喷雾剂"></p>
<p>之后是布地奈德鼻喷雾剂，这个的用法和诺斯清大致相同，不过需要把上方都塞进鼻子里进行喷剂，一天两次，一次双喷。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212209484.jpg" alt="鼻渊舒口服液"></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212208256.jpg" alt="罗红霉素胶囊"></p>
<p>罗红霉素胶囊一天2次，一次1粒；鼻渊舒口服液一天2次，一次1支。这两种药品同时时间一块服用即可。</p>
<h3 id="之后的想法"><a href="#之后的想法" class="headerlink" title="之后的想法"></a>之后的想法</h3><p>现在距离考研只有95天了，时间对我来说最为宝贵，保守治疗半个月，如果不成功需要手术一周，再考虑一些其他情况，那么就需要将近1个月时间耗在急性鼻窦炎上了，考研上岸的可能性会产生一定幅度的下降，家里人的意见是现在最重要的就是看病，先顾好身体，其他的先什么都不要管。</p>
<p>我个人虽然想以考研为主，但是考虑到各方面的因素，还是先以治疗急性鼻窦炎为主，多和家里人沟通，多商量，如果今年没能上岸，二战也不是不行。现在也是走一步看一步，希望这个病能早日康复！</p>
<h1 id="病因分析"><a href="#病因分析" class="headerlink" title="病因分析"></a>病因分析</h1><p>今天已经距离最初发病有10多天了，在每天洗鼻子，吃药的治疗下，这两天左眼眶已经不痛，也不会定点发作了，现在就看一周之后去复查的结果如何了，如果治疗效果好，不用手术，自然是万事大吉，如果需要手术，那么就要做好长远打算，调整心态。</p>
<p>正好这两天我也在分析为什么我会得急性鼻窦炎，大致有了一个结论，既然我这个急性鼻窦炎是由于病毒引起的发炎，那么就看我最近接触过哪些可能有病毒的地方，想来想去，也只有屋子里下水道这个地方，总是散发着一股子的臭味。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212222282.png" alt=""></p>
<p>就在橙色框中第三个门位置的内部，就是下水道的位置。之前在柜子里堆放大米、方便面、饼干面包等东西，然后偶尔打开的时候，发现里面一股味道，描述不出来，总之是一股很恶心，很让人作呕的味道。发现这个地方不适合放吃的之后，有一天我就把里面的吃的都拿出来了，估计是我在放入和拿出来的过程中，吸入了太多这里面的气体，导致一些细菌病毒进入到鼻腔位置，从而引发的鼻窦感染问题，但是一开始由于是在左眼眶发作，病因不好判断，导致感染扩大到三组鼻窦。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212228040.jpeg" alt=""></p>
<p>昨天买了两瓶滴露消毒液，加上喷壶稀释，对家里各个角落进行消毒处理，尤其是下水管道的位置喷了很多次。</p>
<p>不过下水管道的异味，在我第一次发现的时候，就往里面放了好几包的活性炭进行去除，第二天味道是没有了，但是第三天味道又出现了，同样的，消毒水喷完，没多久又开始冒出异味来了。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/21/20210921223432849.jpg" alt=""></p>
<p>下水管道这个问题，暂时没有很好的处理方法，房东建议先拿塑料袋把口子塞上再说，后续如何解决这个问题，防止鼻窦炎恶化，还需要很多的商榷才行。</p>
<h1 id="开心的事"><a href="#开心的事" class="headerlink" title="开心的事"></a>开心的事</h1><p>不开心的事太多了，来聊一聊一些开心的事情吧。</p>
<h2 id="血压健康"><a href="#血压健康" class="headerlink" title="血压健康"></a>血压健康</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212238280.jpg" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212239716.jpg" alt=""></p>
<p>在头一次去东南大学附属中大医院的时候，上午忘记叫到我了，中午吃完饭，在等待过程中，看见旁边有自主血压测量仪，就去测量了一下，结果很健康，说明身体没有大问题，加上血检报告的结论，再结合最后急性鼻窦炎的诊断，得出现在只是鼻窦炎症，其他地方并无大碍，对日常学习、作息并没有影响。</p>
<h2 id="电视节目"><a href="#电视节目" class="headerlink" title="电视节目"></a>电视节目</h2><p>那一天，等着等着，有个大叔扛着摄影机就来录像了，一看打扮是运动宣传之类的，也算上电视了。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212244838.jpg" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212244751.jpg" alt=""></p>
<h2 id="美食"><a href="#美食" class="headerlink" title="美食"></a>美食</h2><p>食色性也，吃是逃不掉的话题，东南大学附属中大医院门口一家清真店，他们家买的牛肉煎饺是真的好吃，12块钱5个，每天排队的人无论是早上、下午还是晚上，这几天不同时间段路过的时候，都能看到始终拍着一条长长的队伍。我有一天，买了5个牛肉煎饺加一份面，作为中饭，排队的时候是相当难熬，队伍老长了，好不容易前面就两个大妈了，结果大妈直接买了80多个煎饺，一锅锅出锅全给她们薅走了，真是近在咫尺而得不到，不过好在她们的最后一锅拿完，还剩下五个煎饺，我就能拿到了，我拿完后面还要再等做一锅出来。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212252615.jpg" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109212254669.jpg" alt=""></p>
<h1 id="补发最终原因"><a href="#补发最终原因" class="headerlink" title="补发最终原因"></a>补发最终原因</h1><p>今天终于让我找到最终的原因了，下水道臭是因为这件屋子当初防臭处理做的不到位，厕所的下水道和地漏防臭都做了，但是做饭下面下水道没有做，导致一到晚上就反臭，真是日了。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/23/20210923035112404.jpg" alt=""><br>经过查询，发现未做反臭，会产生一定量硫化氢气体，而我这个屋子空间本身就不大，导致我近期长时间吸入硫化氢，从而造成了急性鼻窦炎。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/23/20210923035704145.jpg" alt=""><br>如上图所示，就是厕所做了防臭物理，只需要买个管道防臭塞，就能有效隔绝硫化氢了。</p>
<p>这么多天下来，基本上快半个月了，从发现到解决，再到现在找到问题的根源，从而从根源解决问题，严谨的态度真的是很重要，一定要冷静处理，大胆假设，小心求证，例如从最开始左眼眶剧痛认为是神经疼痛到最后确诊发病源在鼻窦处，一定是一份份检查，不断排除错误选项产生的结果。到最后，仔细思考产生的原因，从异常着手，多和房东沟通，排查异味如何产生，是楼上邻居的问题还是其他原因？最后终于知道是未做下水道防臭导致的反臭，这样才能对症下药，从根上解决问题。</p>
<h1 id="小小的思考"><a href="#小小的思考" class="headerlink" title="小小的思考"></a>小小的思考</h1><p>这么多天下来，基本上快半个月了，从发现到解决，再到现在找到问题的根源，从而从根源解决问题。期间严谨的态度真的是很重要，一定要冷静处理，大胆假设，小心求证。</p>
<p>例如从最开始左眼眶剧痛认为是神经疼痛，到最后确诊发病源在鼻窦处，一定是通过一份份检查，不断排除错误选项之后产生的结果。</p>
<p>然后，仔细思考问题产生的原因，从异常着手，多和房东沟通，排查异味如何产生，是楼上邻居的问题还是其他原因？最后终于知道是未做下水道防臭导致的反臭，这样才能对症下药，从根上解决问题。</p>
<p>要是稀里糊涂的，只去看神经科吃点止痛药，然后又不去探究这个根源问题，只会导致治标不治本，并且自己还一直处在这么一个充满硫化氢气体的环境内，这反而更会加剧鼻窦炎。如果就是马马虎虎草草了事，说不定，我现在还只是吃着止痛药，继续闻着硫化氢气体，用不着几天我鼻子估计就坏掉了，这样的成本代价反而更加巨大。</p>
<p>所以万事万物真的要本着严谨的态度去探究出一个所以然。不然自己怎么死的可能都不知道。</p>
<p>房东那边我估计他应该有经验，他应该是知道这个问题，但可能没和我讲，今天就过来拿个塑料袋把那里堵住。现在我知道了之后再去和他讲，他肯定会有点顾忌。</p>
<p>接下来毕竟有很长一段时间都要靠着房东，所以也不好和他直接讲说，我这个是你房子装修的问题，导致我现在这么一个事儿。还是该怎么样就怎么样，相信他心里应该清楚，这个事上我没有去难为他，这样一来反而给人家一个台阶下，以后有什么事儿找房东办起来也方便一些。</p>
<p>事儿虽然是这么个事儿，虽然前前后后不怎么让人开心，但是解决的过程现在回想起来，发现自己还是处理的比较妥当的。就像考研一样每个步骤都尽量考虑到位，准备充足一点，就像白天在群里有道题目，我那些习题册上翻了一遍，都没找到这样的题, 一定要去问，问出来了是17堂课里的，但是课后例题又没有这么复杂形式，然后又知道是17堂课第1节课的20分钟左右额外补充的，并没有正式写进去，这才确定了。</p>
<p>所以所谓的知识经验，我相信就是通过不断的这样遇到事儿，接着试错，然后去追求问题的本源和产生的原因，这样无论是生活还是考研，我相信事这么做应该都能做好。</p>
]]></content>
      <categories>
        <category>生活感悟</category>
        <category>考研复盘</category>
      </categories>
      <tags>
        <tag>考研</tag>
        <tag>三叉神经痛</tag>
        <tag>窦状疱疹</tag>
        <tag>丛集性头痛</tag>
        <tag>额窦炎症</tag>
      </tags>
  </entry>
  <entry>
    <title>CTPN模型讲解</title>
    <url>/110-ctpn-model/</url>
    <content><![CDATA[<p>文字识别也是图像领域一个常见问题。然而，对于自然场景图像，首先要定位图像中的文字位置，然后才能进行识别。<br>所以一般来说，从自然场景图片中进行文字识别，需要包括2个步骤：<br><strong>文字检测</strong>：解决的问题是哪里有文字，文字的范围有多少<br><strong>文字识别</strong>：对定位好的文字区域进行识别，主要解决的问题是每个文字是什么，将图像中的文字区域进转化为字符信息。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130645474.png" alt=""></p>
<h1 id="1、CTPN原理——文字检测"><a href="#1、CTPN原理——文字检测" class="headerlink" title="1、CTPN原理——文字检测"></a>1、CTPN原理——文字检测</h1><h2 id="1-1简介"><a href="#1-1简介" class="headerlink" title="1.1简介"></a>1.1简介</h2><p>CTPN是在ECCV 2016提出的一种文字检测算法。CTPN结合CNN与LSTM深度网络，能有效的检测出复杂场景的横向分布的文字，效果如下图，是目前比较好的文字检测算法。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130646476.png" alt=""></p>
<p>CTPN算法的提出，出于以下几点：</p>
<ul>
<li>(1)假设文本是水平的；</li>
<li>(2)文本可以看做由每一个“字母”组成的。这里的字母可以认为是小片段。之所以有这样的想法，是因为基于通用目标检测的算法难以适应文字检测的场景，如上图中的文字，长度方面变化幅度很大。因此作者将文本在水平方向解耦，分成每一个小片，然后将文本行的检测转化为小片的检测，最后利用规则将属于同一水平行的小片组合成文本行。化繁为简。</li>
</ul>
<h2 id="1-2CTPN模型创新点"><a href="#1-2CTPN模型创新点" class="headerlink" title="1.2CTPN模型创新点"></a>1.2CTPN模型创新点</h2><p>CTPN的创新点主要由以下三点：</p>
<ul>
<li>(1)将文本行拆分为slice进行检测，这样在检测过程中只需要对文本的高度进行先验性的设置anchor。</li>
<li>(2)作者认为文本具有时序性，即和阅读习惯一直，从左到右。因此作者加入RNN获取这种语义性。</li>
<li>(3)后处理算法：文本连接算法</li>
</ul>
<h2 id="1-3CTPN与RPN网络结构的差异"><a href="#1-3CTPN与RPN网络结构的差异" class="headerlink" title="1.3CTPN与RPN网络结构的差异"></a>1.3CTPN与RPN网络结构的差异</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130647211.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130647826.png" alt=""></p>
<p>如上图所示，作图为RPN，右图为CTPN的网络结构。可以看到，CTPN本身就是RPN，唯一不同的是加入了双向LSTM获取时序方向的信息，使得模型可以序列性的预测文本的小片。<br>当然这里的不同之处主要有以下几点：</p>
<ul>
<li>(1)双向LSTM对文本行方向编码</li>
<li>(2)标签构造方式不同：CTPN使用水平方向的切片框作为回归目标</li>
</ul>
<h2 id="1-4CTPN网络结构"><a href="#1-4CTPN网络结构" class="headerlink" title="1.4CTPN网络结构"></a>1.4CTPN网络结构</h2><p>原始CTPN只检测横向排列的文字。CTPN结构与Faster R-CNN基本类似，但是加入了LSTM层（CNN学习的是感受野内的空间信息，LSTM学习的是序列特征。对于文本序列检测，显然既需要CNN抽象空间特征，也需要序列特征，毕竟文字是连续的）。假设输入N Images：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130648804.png" alt=""></p>
<p>CTPN的整体结构与流程：</p>
<ul>
<li>1.首先通过BackBone架构网络VGG16进行特征的提取，其Conv5层输出N x C x H x W的特征图，由于VGG16的卷积网络中经过4个池化层累计的Stride为16。也就是Conv5层输出的Feature map中一个像素对应原图的16像素。</li>
<li>2.然后在Conv5上做3 x 3的滑动窗口，即每个点都结合周围3 x 3区域特征获取一个长度为3 x 3 x C的特征向量。如下图所示，输出为N x 9C x H x W的Feature map，该特征依然是由CNN学习到的空间特征。</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130651200.png" alt=""></p>
<ul>
<li>3.之后继续对上一步输出的Feature map进行Reshape操作：<br>Reshape：N x 9C x H x W → (NH) x W x 9C</li>
<li>4.然后以Batch = NH且最大时间长度Tmax=W的数据流输入Bi-LSTM，学习每一行的序列特征。Bi-LSTM输出为(N H) x W x 256，再经Reshape回复形状：<br>Reshape：(NH) x W x 256 → N x 256 x H x W<br>该特征既包含了空间特征，也包含了Bi-LSTM学习到的序列特征。</li>
<li>5.再然后经过“FC”层，变为N x 512 x H x W的特征</li>
<li>6.最后经过类似Faster RCNN的RPN网络，获得Text Proposals。</li>
</ul>
<p>Bi-LSTM的输出输入至FC中，最终模型三个输出：<br>文本小片的坐标偏移(y, h)。这里作者没有对起始坐标进行预测，因为这部分在标签构造过程有固定的偏移，因此只需要知道文本的y, h，利用固定的偏移可以构造出完整的文本行。</p>
<h2 id="1-5如何通过FC层输出产生Text-proposals"><a href="#1-5如何通过FC层输出产生Text-proposals" class="headerlink" title="1.5如何通过FC层输出产生Text proposals?"></a>1.5如何通过FC层输出产生Text proposals?</h2><p>CTPN通过CNN和BLSTM学到一组“空间 + 序列”特征后，在”FC”卷积层后接入RPN网络。这里的RPN与Faster R-CNN类似，分为两个分支：</p>
<ul>
<li>左边分支用于Bounding Box Regression。由于FC Feature map每个点配备了10个Anchor，同时只回归中心y坐标与高度2个值，所以RPN_bboxp_red有20个Channels</li>
<li>右边分支用于Softmax分类Anchor</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130652047.png" alt=""></p>
<h2 id="1-6竖直Anchor定位文字位置"><a href="#1-6竖直Anchor定位文字位置" class="headerlink" title="1.6竖直Anchor定位文字位置"></a>1.6竖直Anchor定位文字位置</h2><p>由于CTPN针对的是横向排列的文字检测，所以其采用了一组（10个）等宽度的Anchors，用于定位文字位置。Anchor宽高为：</p>
<script type="math/tex; mode=display">widths=[16]</script><script type="math/tex; mode=display">heighs=[11,16,23,33,48,68,97,139,198,283]</script><p>需要注意，由于CTPN采用VGG16模型提取特征，那么Conv5 Feature map的宽高都是输入Image的宽高的1/16。同时FC与Conv5 width和height都相等。如下图所示，CTPN为FC Feature map每一个点都配备10个上述Anchors。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130652157.png" alt=""></p>
<p>这样设置Anchors是为了：</p>
<ul>
<li>1.保证在x方向上，Anchor覆盖原图每个点且不相互重叠。</li>
<li>2.不同文本在y方向上高度差距很大，所以设置Anchors高度为11-283，用于覆盖不同高度的文本目标。<br>注意：Anchor大小为什么对应原图尺度，而不是conv5/fc特征尺度？<br>这是因为Anchor是目标的候选框，经过后续分类+位置修正获得目标在原图尺度的检测框。那么这就要求Anchor必须是对应原图尺度！除此之外，如果Anchor大小对应conv5/FC尺度，那就要求Bounding box regression把很小的框回归到很大，这已经超出Regression小范围修正框的设计目的。<br>获得Anchor后，与Faster R-CNN类似，CTPN会做如下处理：</li>
<li>1.Softmax判断Anchor中是否包含文本，即选出Softmax Score大的正Anchor；</li>
<li>2.Bounding box regression修正包含文本的Anchor的中心y坐标与高度。<br>注意，与Faster R-CNN不同的是，这里Bounding box regression不修正Anchor中心x坐标和宽度。具体回归方式如下：<script type="math/tex; mode=display">v_c=(c_y-c_y^a)/h^a,\qquad v_h=log(h/h^a)</script></li>
</ul>
<script type="math/tex; mode=display">v_c^*=(c_y^*-c_y^a)/h^a,\qquad v_h^*=log(h^*/h^a)</script><p>其中，v=(v<em>c,v_h)是回归预测的坐标，`v=(v^{*}</em>{c},v^{*}<em>{h})<code>是Ground Truth，</code>c^{a}</em>{y}和h^{a}`是Anchor的中心y坐标和高度。Bounding box regression具体原理请参考之前文章。<br>Anchor经过上述Softmax和  方向bounding box regeression处理后，会获得下图所示的一组竖直条状text proposal。后续只需要将这些text proposal用文本线构造算法连接在一起即可获得文本位置。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130655753.png" alt=""></p>
<p>在论文中，作者也给出了直接使用Faster R-CNN RPN生成普通proposal与CTPN LSTM+竖直Anchor生成text proposal的对比，如图8，明显可以看到CTPN这种方法更适合文字检测。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130656538.png" alt=""></p>
<h2 id="1-7文本线构造算法"><a href="#1-7文本线构造算法" class="headerlink" title="1.7文本线构造算法"></a>1.7文本线构造算法</h2><p>在上一个步骤中，已经获得了一串或多串text proposal，接下来就要采用文本线构造办法，把这些text proposal连接成一个文本检测框。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130656690.png" alt=""></p>
<p>为了说明问题，假设某张图有上图所示的2个text proposal，即蓝色和红色2组Anchor，CTPN采用如下算法构造文本线：</p>
<ul>
<li>1.按照水平x坐标排序Anchor;</li>
<li>2.按照规则依次计算每个Anchor boxi的pair(boxj)，组成pair( boxi,boxj);</li>
<li>3.通过pair( boxi,boxj)建立一个Connect graph，最终获得文本检测框.<br>下面详细解释。假设每个Anchor index如绿色数字，同时每个Anchor Softmax score如黑色数字。<br>文本线构造算法通过如下方式建立每个Anchor boxi的pair( boxi,boxj)：<br>正向寻找：</li>
<li>1.沿水平正方向，寻找和 boxi水平距离小于50的候选Anchor;</li>
<li>2.从候选Anchor中，挑出与 boxi竖直方向overlapv &gt; 0.7的Anchor;</li>
<li>3.挑出符合条件2中Softmax score最大的boxj<br>再反向寻找：</li>
<li>1.沿水平负方向，寻找和boxj水平距离小于50的候选Anchor;</li>
<li>2.从候选Anchor中，挑出与boxj竖直方向overlapv &gt; 0.7的Anchor;</li>
<li>3.挑出符合条件2中Softmax score最大的boxk<br>最后对比scorei和scorek:</li>
<li>1.如果scorei &gt;= scorek，则这是一个最长连接，那么设置Graph(i,j)=True;</li>
<li>2.如果scorei &lt; scorek，说明这不是一个最长的连接（即该连接肯定包含在另外一个更长的连接中）。</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130657790.png" alt=""><br>举例说明，如上图，Anchor已经按照x顺序排列好，并具有图中的Softmax score（这里的score是随便给出的，只用于说明文本线构造算法）：<br>对于i=3的box3，向前寻找50像素，满足overlapv &gt; 0.7且score最大的是box7，即j=7；box7反向寻找，满足 overlapv &gt; 0.7且score最大的是box3，即k=3。由于score3 &gt;= score3，pair( box3,box7)是最长连接，那么设置Graph(3,7)=True<br>对于box4正向寻找得到box7；box7反向寻找得到box3，但是score4 &lt; score3，即pair( box4,box3)不是最长连接，包含在pair( box3,box7)中。<br>然后，这样就建立了一个N X N的Connect graph（其中N是正Anchor数量）。遍历Graph：</p>
<ul>
<li>1.Graph(0,3)=True且Graph(3,7)=True，所以Anchor index 1→3→7组成一个文本，即蓝色文本区域。</li>
<li>2.Graph(6,10)=True且Graph(10,12)=True，所以Anchor index 6→10→12组成另外一个文本，即红色文本区域。<br>这样就通过Text proposals确定了文本检测框。</li>
</ul>
<h2 id="1-8CTPN的训练策略"><a href="#1-8CTPN的训练策略" class="headerlink" title="1.8CTPN的训练策略"></a>1.8CTPN的训练策略</h2><p>该Loss分为3个部分<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130657818.png" alt=""><br>Anchor前后景分类误差：该Loss用于监督学习每个Anchor中是否包含文本。 <code>s^&#123;*&#125;_&#123;i&#125;=&#123;0,1&#125;</code>表示是否是Groud truth。<br>竖直方向坐标偏移回归误差：该Loss用于监督学习每个包含为本的Anchor的Bouding box regression y方向offset，类似于Smooth L1 loss。其中vj是si中判定为有文本的Anchor，或者与Groud truth vertical IoU&gt;0.5。<br>边界处Anchor x的矫正误差：该Loss用于监督学习每个包含文本的Anchor的Bouding box regression x方向offset，与y方向同理。前两个Loss存在的必要性很明确，但这个Loss有何作用作者没有解释（从训练和测试的实际效果看，作用不大）<br>说明一下，在Bounding box regression的训练过程中，其实只需要注意被判定成正的Anchor，不需要去关心杂乱的负Anchor。这与Faster R-CNN类似。</p>
<h2 id="1-9CTPN小结"><a href="#1-9CTPN小结" class="headerlink" title="1.9CTPN小结"></a>1.9CTPN小结</h2><ul>
<li>1.由于加入LSTM，所以CTPN对水平文字检测效果超级好。</li>
<li>2.因为Anchor设定的原因，CTPN只能检测横向分布的文字，小幅改进加入水平Anchor即可检测竖直文字。但是由于框架限定，对不规则倾斜文字检测效果非常一般。</li>
<li>3.CTPN加入了双向LSTM学习文字的序列特征，有利于文字检测。但是引入LSTM后，在训练时很容易梯度爆炸，需要小心处理。</li>
</ul>
<h1 id="2、CRNN网络"><a href="#2、CRNN网络" class="headerlink" title="2、CRNN网络"></a>2、CRNN网络</h1><p>现今基于深度学习的端到端OCR技术有两大主流技术：CRNN OCR和attention OCR。其实这两大方法主要区别在于最后的输出层（翻译层），即怎么将网络学习到的序列特征信息转化为最终的识别结果。这两大主流技术在其特征学习阶段都采用了CNN+RNN的网络结构，CRNN OCR在对齐时采取的方式是CTC算法，而attention OCR采取的方式则是attention机制。本部分主要介绍应用更为广泛的CRNN算法。</p>
<h2 id="2-1CRNN-介绍"><a href="#2-1CRNN-介绍" class="headerlink" title="2.1CRNN 介绍"></a>2.1CRNN 介绍</h2><p>CRNN全称为 Convolutional Recurrent Neural Network，主要用于端到端地对不定长的文本序列进行识别，不用先对单个文字进行切割，而是将文本识别转化为时序依赖的序列学习问题，就是基于图像的序列识别。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130658832.png" alt=""><br>整个CRNN网络结构包含三部分，从下到上依次为：</p>
<ul>
<li>1.CNN（卷积层）：使用深度CNN，对输入图像提取特征，得到特征图；</li>
<li>2.RNN（循环层）：使用双向RNN（BLSTM）对特征序列进行预测，对序列中的每个特征向量进行学习，并输出预测标签（真实值）分布；</li>
<li>3.CTC loss（转录层）：使用CTC损失，把从循环层获取的一系列标签分布转换成最终的标签序列。</li>
</ul>
<h2 id="2-2CNN卷积层结构"><a href="#2-2CNN卷积层结构" class="headerlink" title="2.2CNN卷积层结构"></a>2.2CNN卷积层结构</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130659582.png" alt=""><br>这里有一个很精彩的改动，一共有四个最大池化层，但是最后两个池化层的窗口尺寸由 2x2 改为 1x2，也就是图片的高度减半了四次（除以24），而宽度则只减半了两次（除以22），这是因为文本图像多数都是高较小而宽较长，所以其feature map也是这种高小宽长的矩形形状，如果使用1×2的池化窗口可以尽量保证不丢失在宽度方向的信息，更适合英文字母识别（比如区分i和l）。<br>CRNN还引入了BatchNormalization模块，加速模型收敛，缩短训练过程。<br>输入图像为灰度图像（单通道）；高度为32，这是固定的，图片通过CNN后，高度就变为1，这点很重要；宽度为160，宽度也可以为其他的值，但需要统一，所以输入CNN的数据尺寸为 (channel, height, width)=(1, 32, 160)。<br>CNN的输出尺寸为 (512, 1, 40)。即CNN最后得到512个特征图，每个特征图的高度为1，宽度为40。</p>
<h2 id="2-3Map-to-Sequence"><a href="#2-3Map-to-Sequence" class="headerlink" title="2.3Map-to-Sequence"></a>2.3Map-to-Sequence</h2><p>不能直接把CNN得到的特征图送入RNN进行训练的，需要进行一些调整，根据特征图提取RNN需要的特征向量序列。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130700205.png" alt=""></p>
<p>现在需要从CNN模型产生的特征图中提取特征向量序列，每一个特征向量（如上图中的一个红色框）在特征图上按列从左到右生成，每一列包含512维特征，这意味着第i个特征向量是所有的特征图第i列像素的连接，这些特征向量就构成一个序列。<br>由于卷积层，最大池化层和激活函数在局部区域上执行，因此它们是平移不变的。因此，特征图的每列（即一个特征向量）对应于原始图像的一个矩形区域（称为感受野），并且这些矩形区域与特征图上从左到右的相应列具有相同的顺序。特征序列中的每个向量关联一个感受野。如下图所示：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130700054.png" alt=""><br>这些特征向量序列就作为循环层的输入，每个特征向量作为RNN在一个时间步（time step）的输入。</p>
<h2 id="2-4RNN"><a href="#2-4RNN" class="headerlink" title="2.4RNN"></a>2.4RNN</h2><p>因为RNN有梯度消失的问题，不能获取更多上下文信息，所以CRNN中使用的是LSTM，LSTM的特殊设计允许它捕获长距离依赖。<br>LSTM是单向的，它只使用过去的信息。然而，在基于图像的序列中，两个方向的上下文是相互有用且互补的。将两个LSTM，一个向前和一个向后组合到一个双向LSTM中。此外，可以堆叠多层双向LSTM，深层结构允许比浅层抽象更高层次的抽象。<br>这里采用的是两层各256单元的双向LSTM网络：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130701919.png" alt=""><br>通过上面一步，我们得到了40个特征向量，每个特征向量长度为512，在LSTM中一个时间步就传入一个特征向量进行分类，这里一共有40个时间步。<br>我们知道一个特征向量就相当于原图中的一个小矩形区域，RNN的目标就是预测这个矩形区域为哪个字符，即根据输入的特征向量，进行预测，得到所有字符的softmax概率分布，这是一个长度为字符类别数的向量，作为CTC层的输入。<br>因为每个时间步都会有一个输入特征向量xT，输出一个所有字符的概率分布yT，所以输出为40个长度为字符类别数的向量构成的后验概率矩阵。如下图所示：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130701686.png" alt=""><br>然后将这个后验概率矩阵传入转录层。</p>
<h2 id="2-5CTC-Loss"><a href="#2-5CTC-Loss" class="headerlink" title="2.5CTC Loss"></a>2.5CTC Loss</h2><p>这算是CRNN最难的地方，这一层为转录层，转录是将RNN对每个特征向量所做的预测转换成标签序列的过程。数学上，转录是根据每帧预测找到具有最高概率组合的标签序列。<br>端到端OCR识别的难点在于怎么处理不定长序列对齐的问题！OCR可建模为时序依赖的文本图像问题，然后使用CTC（Connectionist Temporal Classification, CTC）的损失函数来对CNN和RNN进行端到端的联合训练。</p>
<h3 id="2-5-1序列合并机制"><a href="#2-5-1序列合并机制" class="headerlink" title="2.5.1序列合并机制"></a>2.5.1序列合并机制</h3><p>我们现在要将RNN输出的序列翻译成最终的识别结果，RNN进行时序分类时，不可避免地会出现很多冗余信息，比如一个字母被连续识别两次，这就需要一套去冗余机制。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130702714.png" alt=""><br>比如我们要识别上面这个文本，其中RNN中有5个时间步，理想情况下 t0, t1, t2时刻都应映射为“a”，t3, t4 时刻都应映射为“b”，然后将这些字符序列连接起来得到“aaabb”，我们再将连续重复的字符合并成一个，那么最终结果为“ab”。<br>这似乎是个比较好的方法，但是存在一个问题，如果是book，hello之类的词，合并连续字符后就会得到 bok 和 helo，这显然不行，所以CTC有一个blank机制来解决这个问题。<br>我们以“-”符号代表blank，RNN 输出序列时，在文本标签中的重复的字符之间插入一个“-”，比如输出序列为“bbooo-ookk”，则最后将被映射为“book”，即有blank字符隔开的话，连续相同字符就不进行合并。<br>即对字符序列先删除连续重复字符，然后从路径中删除所有“-”字符，这个称为解码过程，而编码则是由神经网络来实现。引入blank机制，我们就可以很好地解决重复字符的问题。<br>相同的文本标签可以有多个不同的字符对齐组合，例如，“aa-b”和“aabb”以及“-abb”都代表相同的文本(“ab”)，但是与图像的对齐方式不同。更总结地说，一个文本标签存在一条或多条的路径。</p>
<h3 id="2-5-2训练阶段"><a href="#2-5-2训练阶段" class="headerlink" title="2.5.2训练阶段"></a>2.5.2训练阶段</h3><p>在训练阶段，我们需要根据这些概率分布向量和相应的文本标签得到损失函数，从而训练神经网路模型，下面来看看如何得到损失函数的。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130702600.png" alt="其中黑细线是代表文本“a”的路径，而粗虚线是代表空文本的路径"><br>如上图，对于最简单的时序为 2 的字符识别，有两个时间步长(t0，t1)和三个可能的字符为“ａ”，“ｂ”和“-”，我们得到两个概率分布向量，如果采取最大概率路径解码的方法，则“—”的概率最大，即真实字符为空的概率为<code>0.6*0.6=0.36</code>。<br>但是为字符“ａ”的情况有多种对齐组合，“aa”, “a-“和“-a”都是代表“ａ”，所以，输出“ａ”的概率应该为三种之和：<br>0.4 <em> 0.4 + 0.4 </em> 0.6 + 0.6 * 0.4 = 0.16 + 0.24 + 0.24 = 0.64<br>所以“ａ”的概率比空“”的概率高！如果标签文本为“a”，则通过计算图像中为“a”的所有可能的对齐组合（或者路径）的分数之和来计算损失函数。</p>
<p>所以对于RNN给定输入概率分布矩阵为y={y1,y2,…,yT}，T是序列长度，最后映射为标签文本l的总概率为：</p>
<script type="math/tex; mode=display">p(l|y)=\sum_{\pi:\beta(\pi)=1}p(\pi|y),</script><p>其中B(π)代表从序列到序列的映射函数B变换后是文本l的所有路径集合，而π则是其中的一条路径。每条路径的概率为各个时间步中对应字符的分数的乘积。<br>我们就是需要训练网络使得这个概率值最大化，类似于普通的分类，CTC的损失函数定义为概率的负最大似然函数，为了计算方便，对似然函数取对数。<br>通过对损失函数的计算，就可以对之前的神经网络进行反向传播，神经网络的参数根据所使用的优化器进行更新，从而找到最可能的像素区域对应的字符。<br>这种通过映射变换和所有可能路径概率之和的方式使得CTC不需要对原始的输入字符序列进行准确的切分。</p>
<h3 id="2-5-3测试阶段"><a href="#2-5-3测试阶段" class="headerlink" title="2.5.3测试阶段"></a>2.5.3测试阶段</h3><p>在测试阶段，过程与训练阶段有所不同，我们用训练好的神经网络来识别新的文本图像。这时候我们事先不知道任何文本，如果我们像上面一样将每种可能文本的所有路径计算出来，对于很长的时间步和很长的字符序列来说，这个计算量是非常庞大的，这不是一个可行的方案。<br>我们知道RNN在每一个时间步的输出为所有字符类别的概率分布，即一个包含每个字符分数的向量，我们取其中最大概率的字符作为该时间步的输出字符，然后将所有时间步得到一个字符进行拼接得到一个序列路径，即最大概率路径，再根据上面介绍的合并序列方法得到最终的预测文本结果。<br>在输出阶段经过CTC的翻译，即将网络学习到的序列特征信息转化为最终的识别文本，就可以对整个文本图像进行识别。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130703784.png" alt=""></p>
<p>比如上面这个图，有5个时间步，字符类别有“a”, “b” and “-” (blank)，对于每个时间步的概率分布，我们都取分数最大的字符，所以得到序列路径“aaa-b”，先移除相邻重复的字符得到“a-b”，然后去除blank字符得到最终结果：“ab”。</p>
<h3 id="2-5-4CRNN小结"><a href="#2-5-4CRNN小结" class="headerlink" title="2.5.4CRNN小结"></a>2.5.4CRNN小结</h3><p>预测过程中，先使用标准的CNN网络提取文本图像的特征，再利用BLSTM将特征向量进行融合以提取字符序列的上下文特征，然后得到每列特征的概率分布，最后通过转录层(CTC)进行预测得到文本序列。<br>利用BLSTM和CTC学习到文本图像中的上下文关系，从而有效提升文本识别准确率，使得模型更加鲁棒。<br>在训练阶段，CRNN将训练图像统一缩放为160×32（w×h）；在测试阶段，针对字符拉伸会导致识别率降低的问题，CRNN保持输入图像尺寸比例，但是图像高度还是必须统一为32个像素，卷积特征图的尺寸动态决定LSTM 的时序长度（时间步长）。</p>
]]></content>
      <categories>
        <category>CV学习笔记</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>ctpn</tag>
        <tag>论文复现</tag>
      </tags>
  </entry>
  <entry>
    <title>外文翻译</title>
    <url>/106-translation/</url>
    <content><![CDATA[<h1 id="文本检测的字符区域感知"><a href="#文本检测的字符区域感知" class="headerlink" title="文本检测的字符区域感知"></a>文本检测的字符区域感知</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>最近出现了基于神经网络的场景文本检测方法，并显示出令人鼓舞的结果。经过严格的单词级边界框训练的先前方法在以任意形状表示文本区域方面显示出局限性。在本文中，我们提出了一种新的场景文本检测方法，通过探索每个字符和字符之间的亲和力来有效地检测文本区域。为了克服单个字符级注释的不足，我们提出的框架利用了合成图像的给定字符级注释和通过学习的临时模型获取的真实图像的估计字符级基础。为了估计字符之间的亲和力，使用新提出的亲和力表示来训练网络。在六个基准测试上进行了广泛的实验，包括TotalText和CTW-1500数据集，这些数据集在自然图像中包含高度弯曲的文本，这表明我们的字符级文本检测明显优于最新的检测器。根据结果，我们提出的方法保证了检测复杂场景文本图像（如任意定向，弯曲或变形文本）的高度灵活性。</p>
<h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1.引言"></a>1.引言</h2><p>场景文本检测由于其众多应用（例如即时翻译，图像检索，场景解析，地理位置和盲目导航）而在计算机视觉领域引起了广泛关注。近来，基于深度学习的场景文本检测器显示出令人鼓舞的性能<sup>[8、40、21、4、11、10、12、13、17、24、25、32、26]</sup>。这些方法主要训练他们的网络以定位字级边界框。但是,它们可能会遇到困难的情况，例如弯曲，变形或过长的文本，这些文本很难用单个边界框检测到。 然而，当通过自下而上的方式链接连续的字符来处理具有挑战性的文本时，字符级意识具有许多优点。 不幸的是，大多数现有的文本数据集都没有提供字符级注释，并且获取字符级基础事实所需的工作过于昂贵。<br>在本文中，我们提出了一种新颖的文本检测器，该文本检测器可以定位各个字符区域并将检测到的字符链接到文本实例。 我们的框架被称为用于文字检测的字符区域感知的CRAFT，是使用卷积神经网络设计的，该卷积神经网络生成字符区域得分和亲和力得分。区域分数用于在图像中定位单个字符，而亲和度分数用于将每个字符分组为单个实例。 为了弥补字符级注释的不足，我们提出了一个弱监督学习框架，该框架估计现有真实单词级数据集中的字符级基本事实。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102122032.png" alt="图1.使用CRAFT进行字符级检测的可视化。(a)我们提议的框架预测的热图 (b)各种形状的文本的检测结果"></p>
<p>图1是CRAFT在各种形状的文本上的结果的可视化。通过利用字符级区域意识，可以轻松呈现各种形状的文本。我们在ICDAR数据集上进行了广泛的实验[15、14、28]，以验证我们的方法，实验结果表明，该方法优于最新的文本检测器。此外，在MSRATD500，CTW-1500和TotalText数据集上进行的实验[36、38、3]显示了该方法在复杂情况下（例如长，弯曲和/或任意形状的文本）的高度灵活性。</p>
<h2 id="2-相关工作"><a href="#2-相关工作" class="headerlink" title="2.相关工作"></a>2.相关工作</h2><p>在深度学习出现之前，场景文本检测的主要趋势是自下而上，其中以手工功能（例如MSER<sup>[27]</sup>或SWT<sup>[5]</sup>）为基本组成部分是最主要的。最近，通过采用流行的对象检测/分段方法（如SSD<sup>[20]</sup>，Faster R-CNN<sup>[30]</sup>和FCN<sup>[23]</sup>），提出了基于深度学习的文本检测器。<br>基于回归的文本检测。已经提出了使用从流行的对象检测器改编的使用框回归的各种文本检测器。与一般对象不同，文本通常以不规则的形状呈现，具有各种纵横比。 为了解决这个问题，TextBoxes<sup>[18]</sup>修改了卷积核和锚定框以有效地捕获各种文本形状。DMPNet<sup>[22]</sup>试图通过合并四边形滑动窗口来进一步减少该问题。最近，提出了旋转敏感回归检测器（RSDD）<sup>[19]</sup>，该检测器通过主动旋转卷积滤波器来充分利用旋转不变特征。但是，使用这种方法来捕获野外存在的所有可能形状存在结构上的限制。<br>基于回归的文本检测。已经提出了使用从流行的对象检测器改编的使用框回归的各种文本检测器。与一般对象不同，文本通常以不规则的形状呈现，具有各种纵横比。 为了解决这个问题，TextBoxes<sup>[18]</sup>修改了卷积核和锚定框以有效地捕获各种文本形状。DMPNet<sup>[22]</sup>试图通过合并四边形滑动窗口来进一步减少该问题。最近，提出了旋转敏感回归检测器（RSDD）<sup>[19]</sup>，该检测器通过主动旋转卷积滤波器来充分利用旋转不变特征。但是，使用这种方法来捕获野外存在的所有可能形状存在结构上的限制。<br>基于回归的文本检测。已经提出了使用从流行的对象检测器改编的使用框回归的各种文本检测器。与一般对象不同，文本通常以不规则的形状呈现，具有各种纵横比。 为了解决这个问题，TextBoxes<sup>[18]</sup>修改了卷积核和锚定框以有效地捕获各种文本形状。DMPNet<sup>[22]</sup>试图通过合并四边形滑动窗口来进一步减少该问题。最近，提出了旋转敏感回归检测器（RSDD）<sup>[19]</sup>，该检测器通过主动旋转卷积滤波器来充分利用旋转不变特征。但是，使用这种方法来捕获野外存在的所有可能形状存在结构上的限制。<br>基于分段的文本检测器另一种常见的方法是基于处理分段的工作，该工作旨在在像素级别上查找文本区域。这些通过估计单词边界区域来检测文本的方法，例如多尺度FCN<sup> [7]</sup>，整体预测<sup>[37]</sup>和PixelLink<sup> [4]</sup>，也已经提出使用分段作为其基础。SSTD<sup> [8]</sup>尝试通过使用注意力机制通过减少特征级别的背景干扰来增强文本相关区域，从而从回归和分割方法中受益。最近，提出了TextSnake <sup>[24]</sup>通过预测文本区域和中心线以及几何属性来检测文本实例。<br>端到端文本检测器端到端方法同时训练检测和识别模块，以便通过利用识别结果来提高检测精度。 FOTS<sup> [21]</sup>和EAA<sup> [10]</sup>连接了流行的检测和识别方法，并以端到端的方式对其进行了训练。Mask TextSpotter <sup>[25]</sup>利用他们的统一模型将识别任务视为语义分割问题。显然，使用识别模块进行训练可以帮助文本检测器对类似文本的背景杂波变得更加健壮。<br>大多数方法都以单词为单位来检测文本，但是定义单词的检测范围并非易事，因为单词可以按各种标准（例如含义，空格或颜色）分开。另外，不能严格定义分词的边界，因此分词本身没有明显的语义。单词注解的这种含混不清稀释了回归和分割方法的地面真理的含义。<br>字符级文本检测器 Zhang等。<sup>[39]</sup>提出了一种字符级检测器，它使用了由MSER<sup> [27]</sup>提炼的文本块候选。它使用MSER识别单个字符的事实限制了在某些情况下（例如对比度低，曲率和光反射的场景）的检测鲁棒性等。<sup>[37]</sup>使用了字符的预测图以及文本单词区域和需要字符级别注释的链接方向的图。代替显式的字符级预测，Seglink <sup>[32]</sup>搜索文本网格（部分文本段），并将这些段与其他链接预测相关联。 即使Mask TextSpotter <sup>[25]</sup>预测了字符级别的概率图，它也被用于文本识别而不是发现单个字符。<br>这项工作的灵感来自WordSup<sup> [12]</sup>的思想，该思想使用了一个弱监督框架来训练字符级检测器。但是，Wordsup的缺点是字符表示形式是在矩形锚中形成的，因此很容易受到由不同摄影机视点引起的字符透视变形的影响。而且，它受到骨干结构性能的约束（即，使用SSD，并受到锚定盒的数量及其尺寸的限制）。</p>
<h2 id="3-方法"><a href="#3-方法" class="headerlink" title="3.方法"></a>3.方法</h2><p>我们的主要目标是在自然图像中精确定位所有单个字符。为此，我们训练了一个深度神经网络来预测字符区域和字符之间的亲和力。由于没有可用的公共数据集，因此该模型是以弱监督的方式进行训练的。</p>
<h3 id="3-1结构"><a href="#3-1结构" class="headerlink" title="3.1结构"></a>3.1结构</h3><p>我们采用基于VGG-16<sup> [34]</sup>和批处理归一化的全卷积网络体系结构作为我们的骨干。 我们的模型在解码部分具有跳过连接，这类似于U-net [31]，因为它聚合了低级特征。最终输出具有两个通道作为得分图：区域得分和亲和力得分。图2示意性地示出了网络架构。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102129803.png" alt="图2.我们的网络架构的示意图"></p>
<h3 id="3-2训练"><a href="#3-2训练" class="headerlink" title="3.2训练"></a>3.2训练</h3><h4 id="3-2-1真实标签生成"><a href="#3-2-1真实标签生成" class="headerlink" title="3.2.1真实标签生成"></a>3.2.1真实标签生成</h4><p>对于每个训练图像，我们使用字符级边界框生成区域分数和亲和度分数的地面真相标签。区域得分表示给定像素是字符中心的概率，而亲和力得分表示相邻字符之间空间的中心概率。<br>与二进制分割图不同，二进制分割图离散地标记每个像素，我们使用高斯热图对字符中心的概率进行编码。 此热图表示已用于其他应用程序，例如姿势估计工作<sup>[1，29]</sup>，因为它在处理不受严格限制的地面真实区域时具有很高的灵活性。我们使用热图表示来学习区域得分和亲和力得分。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102131316.png" alt="图3.我们框架中的真实数据生成过程的图示。 我们从具有字符级别注释的合成图像生成真实数据标签"></p>
<p>对于亲和度得分的基本事实，亲和度框是使用相邻的字符框定义的，如图3所示。通过绘制对角线以连接每个字符框的相对角，我们可以生成两个三角形-我们将参考它们 作为上下字符三角形。然后，对于每个相邻的字符框对，通过将上下三角形的中心设置为该框的角来生成相似度框。<br>提出的地面实况定义使模型能够充分检测大型或长文本实例，尽管使用的接收域较小。另一方面，在这种情况下，像盒回归之类的先前方法需要较大的接受场。 我们的字符级检测使卷积过滤器可以只关注字符内和字符间，而不关注整个文本实例。</p>
<h4 id="3-2-2弱监督学习"><a href="#3-2-2弱监督学习" class="headerlink" title="3.2.2弱监督学习"></a>3.2.2弱监督学习</h4><p>与合成数据集不同，数据集中的真实图像通常具有单词级注释。在这里，我们以弱监督的方式从每个单词级注释生成字符框，如图4所示。当提供带有单词级注释的真实图像时，学习的过渡模型将预测裁剪后的单词图像的字符区域得分生成字符级边界框。为了反映临时模型预测的可靠性，每个单词框上的置信度图的值与检测到的字符数除以地面真实字符数成正比，用于在学习期间权重训练。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102131655.png" alt="图4.提出的方法的整体培训流程的图示。训练是在弱监督的情况下使用真实图像和合成图像进行的"></p>
<p>图6显示了拆分字符的整个过程。首先，从原始图像中裁剪单词级图像。其次，最新训练的模型可以预测区域得分。第三，分水岭算法<sup>[35]</sup>用于分割字符区域，用于使字符边界框覆盖区域。最后，使用裁剪步骤中的逆变换，将字符框的坐标转换回原始图像坐标。可以使用获得的四边形字符级边界框通过图3中描述的步骤来生成区域分数和亲和度分数的伪真实数据（pseudoGTs）。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102132797.png" alt="图6.从单词级注释中实现字符级注释的字符拆分过程：1)裁剪单词级图像；2)预测区域分数；3)应用分水岭算法；4)得到字符边界框；5)解开字符边界框"></p>
<p>当使用弱监督训练模型时，我们被迫使用不完整的伪GT进行训练。如果使用不正确的区域分数训练模型，则字符区域内的输出可能会模糊。为了防止这种情况，我们测量了模型生成的每个伪GT的质量。幸运的是，文本注释中有一个非常强烈的提示，即单词长度。在大多数数据集中，提供了单词的转录，单词的长度可用于评估伪GT的置信度。<br>对于训练数据的单词级注释样本w，令R(w)和l(w)分别为样本w的边界框区域和词长。通过字符分割过程，我们可以获得估计的字符边界框及其对应的字符长度lc(w)。 </p>
<ul>
<li><p>然后将样本w的置信度得分sconf(w)计算为</p>
<script type="math/tex; mode=display">s_{conf}(w)=\frac{l(w)- min(l(w),|l(w)- l^{c}(w)|)}{l(w)} {,\qquad(1)}</script></li>
<li><p>图像的像素置信度图Sc计算为</p>
</li>
</ul>
<script type="math/tex; mode=display">S_{c}(p)=
    \begin{cases}
        s_{conf}(w)  & \text{p$\in$R(w)}, \\[2ex]
        1        & \text{otherwise}, \\
    \end{cases}
   \qquad\qquad{(2)}</script><ul>
<li>其中p表示区域R（w）中的像素。目标L定义为</li>
</ul>
<script type="math/tex; mode=display">L=\sum_{p}{S_{c}(p)\cdot(||S{_r}(p)-S{^*_r}(p)||{^2_2} +||S{_a}(p)-S{^*_a}(p)||{^2_2})} ,\quad(3)</script><p>其中$S{\times}r(p)$和$Sa{\times}(p)$分别表示伪地面真相区域得分和亲和力图，而Sr(p)和Sa(p)分别表示预测区域得分和亲和力得分。在使用综合数据进行训练时，我们可以获得真实的地面真相，因此将Sc(p)设置为1。<br>随着训练的进行，CRAFT模型可以更准确地预测角色，并且置信度得分sconf(w)也逐渐增加。图5示出了训练期间的人物区域得分图。 在训练的早期阶段，自然图像中不熟悉的文本的区域分数相对较低。该模型学习新文本的外观，例如不规则字体和合成文本，这些文本的数据分布与SynthText数据集的数据分布不同。<br>如果置信度得分sconf(w)低于0.5，则应忽略估计的字符边界框，因为它们在训练模型时会产生不利影响。在这种情况下，我们假设单个字符的宽度是恒定的，并通过简单地将单词区域R(w)除以字符数l(w)来计算字符级预测。然后，将sconf(w)设置为0.5，以学习看不见的文本外观。</p>
<h3 id="3-2推理"><a href="#3-2推理" class="headerlink" title="3.2推理"></a>3.2推理</h3><p>在推断阶段，最终输出可以各种形状传递，例如单词框或字符框，以及其他多边形。对于像ICDAR这样的数据集，评估协议是单词级交联(IoU)，因此在此我们描述如何通过简单但有效的后处理步骤，从预测的Sr和Sa中制作单词级边界框QuadBox。<br>查找边界框的后处理总结如下。首先，将覆盖图像的二进制映射M初始化为0。如果Sr(p)&gt;τr或Sa(p)&gt;τa，则M(p)设置为1，其中τr是区域阈值，而τa是亲和度阈值。其次，在M上执行连接组件标签(CCL)。最后，通过找到具有最小面积的旋转矩形来获得QuadBox，该矩形包围着与每个标签相对应的连接组件。 OpenCV提供的诸如connectedComponents和minAreaRect之类的功能可以用于此目的。<br>请注意，CRAFT的优点是它不需要任何其他后处理方法，例如非最大抑制(NMS)。 由于我们有用CCL分隔的单词区域的图像斑点，因此，单词的边界框仅由单个封闭矩形定义。另一方面，我们的字符链接过程是在像素级别进行的，这与其他基于链接的方法<sup>[32、12]</sup>明显不同，后者依赖显式地搜索文本组件之间的关系。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102143883.png" alt="图7.任意形状的文本的多边形生成"></p>
<p>另外，我们可以在整个字符区域周围生成多边形，以有效处理弯曲的文本。多边形生成的过程如图7所示。第一步是沿着扫描方向找到字符区域的局部最大值，如图中蓝色箭头所示。将局部最大值线的长度均等地设置为其中的最大长度，以防止最终的多边形结果变得不均匀。 连接局部最大值的所有中心点的线称为中心线，以黄色显示。然后，旋转局部最大值线以使其垂直于中心线，以反映字符的倾斜角度，如红色箭头所示。局部最大值线的端点是文本多边形控制点的候选项。为了完全覆盖文本区域，我们将两条最外侧倾斜的局部最大值线沿局部最大值中心线向外移动，以形成最终控制点(绿色点)。</p>
]]></content>
      <categories>
        <category>CV学习笔记</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>CRNN</tag>
        <tag>CTPN</tag>
        <tag>CTC</tag>
        <tag>TextDetection</tag>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>信息论与编码</title>
    <url>/124-information-theory/</url>
    <content><![CDATA[<blockquote>
<p> 这篇博客是帮忙测试的内容，<a href="https://www.blog-blockchain.xyz/college-courses/information-theory/">博客主人</a>关于公式渲染出了一些问题，我放上来进行测试使用</p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这篇总结和系统性学习地笔记，是基于电子科技大学的《信息论与编码》课程，而我写作的初衷是个人的复习。因此，内容可能不是那么详细，但是我会保证基本上我会在自己理解的基础上，完成这篇文章。随着我自己的理解的加深，可能会出现前后不一致的情况，如果读者感到矛盾，那么请在评论区说明，等我有时间时会继续完善的。</p>
<h1 id="离散信源熵"><a href="#离散信源熵" class="headerlink" title="离散信源熵"></a>离散信源熵</h1><p>单符号离散信源是最简单的情况，离散是指信源输出是有限个符号，单符号是指每个符号都是独立的，每次只发出一个符号。</p>
<h2 id="随机变量基础"><a href="#随机变量基础" class="headerlink" title="随机变量基础"></a>随机变量基础</h2><p>在单符号离散信源中，每个符号的概率分布可以用一个概率向量来表示。例如，一个三个符号的单符号离散信源可以用以下概率分布表示，符号 A、B、C 之间是相互独立的，即一个符号的出现不会影响到其他符号的出现概率。可以如下的方式抽象成数学模型。</p>
<p>离散随机变量集合：${a_1,a_2,a_3}$，对应概率 $P(a_i)$，且 $0 \le P(a_i) \le 1$ , $\sum{p\left( a_i \right)}=1$.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">出现概率</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A</td>
<td style="text-align:center">0.2</td>
</tr>
<tr>
<td style="text-align:center">B</td>
<td style="text-align:center">0.3</td>
</tr>
<tr>
<td style="text-align:center">C</td>
<td style="text-align:center">0.5</td>
</tr>
</tbody>
</table>
</div>
<p>对于二维随机变量，也是有类似的结论，比较特殊一点的是，</p>
<script type="math/tex; mode=display">
\begin{aligned}
& \sum_{j=1}^m{p}\left( b_j/a_i \right) =1\\
&\sum_{j=1}^m{\sum_{i=1}^n{p}}\left( a_ib_j \right) =1
\\
&\sum_{i=1}^n{p}\left( a_ib_j \right) =p\left( b_j \right)
\\
&p\left( a_ib_j \right) =p\left( b_j \right) p\left( a_i/b_j \right) =p\left( a_i \right) p\left( b_j/a_i \right)
\end{aligned}</script><p>对于随机变量独立的情况，可以同时发生可以拆开成乘法，条件概率没有影响。</p>
<script type="math/tex; mode=display">
p\left( a_ib_j \right) =p\left( a_i \right) p\left( b_j \right) ,p\left( b_j/a_i \right) =p\left( b_j \right) ,p\left( a_i/b_j \right) =p\left( a_i \right)</script><h2 id="信息量"><a href="#信息量" class="headerlink" title="信息量"></a>信息量</h2><p>在有了概率分布的基础之后，就可以开始学习基于统计的<strong>自信息量</strong>的概念了。<strong>一定记住公式</strong>，单位是 bit</p>
<script type="math/tex; mode=display">
I\left( a_i \right) =-\log _2p\left( a_i \right)</script><p>需要注意的性质，自信息量的范围是 $(0,+\infty)$，而且是单减函数。</p>
<p>对于联合变量，有<strong>联合自信息量</strong>，计算公式也是类似的：</p>
<script type="math/tex; mode=display">
I\left( a_ib_i \right) =-\log _2p\left( a_ib_i \right)</script><p>特别的，当互相独立时，就可以拆开：</p>
<script type="math/tex; mode=display">
I(a_ib_i)=I(a_i)+I(b_i)</script><p><strong>条件信息量</strong>则除了计算公式，还和自信息量、联合信息量有直接关系。简单说，就是 <strong>a 的信息量+a 已经发生后 b 发生的信息量，就是 a 和 b 同时发生的信息量</strong>：</p>
<script type="math/tex; mode=display">
\begin{aligned}
    I\left( a_ib_j \right) &=-\log p\left( a_ib_j \right)\\
    &=-\log p\left( a_i \right) p\left( b_j/a_i \right) =I\left( a_i \right) +I\left( b_j/a_i \right)\\
    &=-\log p\left( b_j \right) p\left( a_i/b_j \right) =I\left( b_j \right) +I\left( a_i/b_j \right)\\
\end{aligned}</script><p>以上，讨论了单个符号的信息量和联合信息量的定义，一个单符号离散信源会有多个符号，就提出了衡量信源信息量的<strong>信源熵</strong>，简单地说，就是每个符号的信息量的平均值，或者信源的平均不确定度、随机性，单位是 bit/sign：</p>
<script type="math/tex; mode=display">
H(X)=E\left[ I\left( a_i \right) \right] =E\left[ -\log _2p\left( a_i \right) \right] =-\sum_{i=1}^n{p}\left( a_i \right) \log _2p\left( a_i \right)</script><h2 id="信源熵"><a href="#信源熵" class="headerlink" title="信源熵"></a>信源熵</h2><p>如果同时考虑两个信源，要计算<strong>条件熵</strong>，可以根据数学期望的定义，得到：</p>
<script type="math/tex; mode=display">
H(X/Y)=E\left[ I\left( a_i/b_j \right) \right] =\sum_{j=1}^m{\sum_{i=1}^n{p}}\left( a_ib_j \right) I\left( a_i/b_j \right)</script><p>这里必须注意，出现 $I(a_i/b_j)$ 的概率是 $a_i$ 和 $b_j$ 同时发生。也可以用如下的办法推理，一次只考虑一个随机变量：</p>
<script type="math/tex; mode=display">
\begin{align*}
&\because H\left( X/b_j \right) =\sum_{i=1}^n{p}\left( a_i/b_j \right) I\left( a_i/b_j \right) =-\sum_{i=1}^n{p}\left( a_i/b_j \right) \log p\left( a_i/b_j \right)
\\
&H(X/Y)=\sum_{j=1}^m{p}\left( b_j \right) H\left( X/b_j \right) \\
&=-\sum_{j=1}^m{\sum_{i=1}^n{p\left( b_j \right) p\left( a_i/b_j \right) \log p\left( a_i/b_j \right)}}\\
&=-\sum_{j=1}^m{\sum_{i=1}^n{p\left( a_ib_j \right) \log p\left( a_i/b_j \right)}}\\
\end{align*}</script><p>显然的，因为 $p(a_ib_i)&lt;p(a_i)$ 且 $p(a_i)$</p>
<p>对于<strong>联合熵</strong>，也是一样的做法。而且类似于联合信息量，和单独的信源熵和条件信源熵有关</p>
<script type="math/tex; mode=display">
\begin{align*}
&H(XY)=\sum_{i=1}^n{\sum_{j=1}^m{p}}\left( a_ib_j \right) I\left( a_ib_j \right) =-\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_i \right) p\left( b_j|a_i \right) \log _2p\left( a_i \right) p\left( b_j|a_i \right)}}
\\
&=-\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_i \right) p\left( b_j|a_i \right) \log _2p\left( a_i \right)}}-\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_i \right) p\left( b_j|a_i \right) \log _2p\left( b_j|a_i \right)}}
\\
&=-\sum_{i=1}^n{p\left( a_i \right) \log _2p\left( a_i \right)-}\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_i \right) \log _2p\left( b_j|a_i \right)}}
\\
&=H\left( X \right) +H\left( Y/X \right)
\\
&=H\left( Y \right) +H\left( X/Y \right)
\end{align*}</script><p>而且可以由于信源熵是非负数，可以发现联合信源不确定性更大。</p>
<script type="math/tex; mode=display">
\begin{gather*}
&H(XY)\ge H(X),\ H(XY)\ge H(Y)\\
&H(XY)\ge H(Y/X),\ H(XY)\ge H(X/Y)
\end{gather*}</script><p>信源熵很重要的性质就是，<strong>当信源 X 的 n 个符号，每个符号概率相等时，信源熵取得最大值 $H(X)=\log _2n$</strong>，因为</p>
<script type="math/tex; mode=display">
\begin{align*}
&\because \ln x\le x-1, x>0 \ and\,\,\log _2x=\frac{\ln x}{\ln 2}\\
&H\left( X \right) =\sum_{i=1}^n{p\left( a_i \right) \log _2\frac{n}{np\left( a_i \right)}=}\sum_{i=1}^n{p\left( a_i \right) \log _2n}+\sum_{i=1}^n{p\left( a_i \right) \log _2\frac{1}{np\left( a_i \right)}}
\\
&=\log _2n+\sum_{i=1}^n{p\left( a_i \right) \log _2\frac{1}{np\left( a_i \right)}=}\log _2n+\frac{1}{\ln 2}\sum_{i=1}^n{p\left( a_i \right) \ln \frac{1}{np\left( a_i \right)}}
\\
&\le \log _2n+\frac{1}{\ln 2}\sum_{i=1}^n{p\left( a_i \right) \left( \frac{1}{np\left( a_i \right)}-1 \right)}
\\
&=\log _2n+\frac{1}{\ln 2}\left( 1-\sum_{i=1}^n{p\left( a_i \right)} \right) =\log _2n
\end{align*}</script><p>另外值得注意的是，因为 $\lim _{\varepsilon \rightarrow 0} \varepsilon \log \varepsilon=0$ 所以小概率事件实际上对信源熵的贡献比较小。而且信源熵是<strong>严格上凸函数</strong>。</p>
<p>从信息量的角度，还可以发现 $H(X)\ge H(X/Y)$，这叫做极值性。<strong>如果 Y 可能包含了 X 的某些信息，那么信源熵就会减少</strong>，除非 Y 是确定的，或者是二者不可能同时存在。这不要求证明。</p>
<h1 id="信道编码"><a href="#信道编码" class="headerlink" title="信道编码"></a>信道编码</h1><p>信源发出的消息序列通常不能直接送 给信道传输，需要经过信源编码和信道编 码。信道编码的目的是，提高编码的效率，降低差错，压缩信源的冗余度。简单地说， 编码是一种映射，是将输入符号映射成码字。</p>
<p>根据编码的方式，可以分成<strong>无失真编码</strong>和<strong>限失真编码</strong>。很显然的，<strong>无失真编码的映射需要一一对应，可逆</strong>。因此无失真编码只能用在离散信源，不能用在连续信源。比如说模拟信号转化成数字信号，是无法产生无数种字符(数字)，来表示连续的值。</p>
<p>假设这样一个编码过程，离散信源 X 一次产生 L 个字符，也就是每次输出是 ${a_1a_2\dots a_l}$ 这样的序列，这称作 L 元。那么现在要找到一种编码方式，将原来的符号映射成另外一套符号。<strong>定长编码定理</strong>就是研究这样的编码过程，它提出了，假如编码系统使用的字符有 m 个取值(一般是 2 个，0 和 1)，每次输出 k 个符号 $b_1,b_2,\dots,b_k$，也就是定长地用 K 个字符表示一个符号 ${a_1a_2\dots a_l}$，也即</p>
<script type="math/tex; mode=display">
\begin{gather*}
& a_1a_2\dots a_l\rightarrow b_{j_1}b_{j_2}\dots b_{j_k}\\
& \mathrm{where} \ j_1,\dots ,j_k\,\,\mathrm{refer}\ \mathrm{to}\ \mathrm{serial}\ \mathrm{numbers}
\end{gather*}</script><p>那么，根据定长编码定理，<strong>如果要尽可能压缩信息，减少编码的长度 K，但是同时要保证无失真编码，那么一定需要满足：编码后 X 的每个符号对应的编码携带的最大信息量，大于 X 的信源熵。</strong>下面的 $\ln m$ 就是编码后的最大信源熵，R 称作信息率。</p>
<script type="math/tex; mode=display">
R=\frac{K}{L}\log m\ge H(X)+\varepsilon ,\varepsilon >0,\sigma >0</script><p>其中，又定义的<strong>编码效率</strong>：</p>
<script type="math/tex; mode=display">
\eta =\frac{H\left( X \right)}{R}</script><p><strong>变长编码定理</strong>则告诉，<strong>如果编码的平均长度满足下面的条件，那么一定存在无失真编码，而且信息率 R 大于信源熵</strong>：</p>
<script type="math/tex; mode=display">
1+\frac{L\times H(X)}{\log m}\ge \overline{K}\ge \frac{L\times H(X)}{\log m}</script><p>在变长编码定理的框架内，还需要一种系统的编码的方式，确保在变长的码字不会产生歧义，而且接收序列时可以立即匹配编码，不用观察后面的码字。</p>
<p><img src="https://cdn.blog-blockchain.xyz/202305222216784.png" style="zoom:67%;" /></p>
<p>根据<strong>克拉夫特不等式</strong>，能够找到这样的<strong>异前置码</strong>编码方式的充要条件是，对于 m 个字符的编码系统，信源 X 的每个字符映射后的字符长度 $k_i$，满足：</p>
<script type="math/tex; mode=display">
\sum_{i=1}^n{m^{-k_i}}\le 1</script><h2 id="香农编码"><a href="#香农编码" class="headerlink" title="香农编码"></a>香农编码</h2><p>香农编码就是这样变长编码的一种方式。按信源符号的概率<strong>从大到小</strong>的顺序排队，然后对每个字符定义累加概率（排在它前面的字符的概率之和），这样就可以得到结论：</p>
<script type="math/tex; mode=display">
\begin{gather*}
&p_a(0)=0\\
&p_a\left(a_j\right)=\sum_{i=1}^{j-1} p\left(a_i\right), j=1,2, \cdots, n\\
&-\log _2 p\left(a_i\right) \leq k_i \leq 1-\log _2 p\left(a_i\right)
\end{gather*}</script><p>编码则是 $p_a\left(a_j\right)$ 二进制表示的小数点后 $k_i$ 位。参考下面的例题。</p>
<p><img src="https://cdn.blog-blockchain.xyz/202305222237650.png" style="zoom: 40%;" /></p>
<p>可以计算得到相关参数：</p>
<script type="math/tex; mode=display">
\begin{align*}
&L=1,\ m=2 \\
&H(X)=2.4233( \mathrm{bit} / \mathrm{sign} )
\\
&\overline{K}=\sum_{i=1}^6{p}\left( a_i \right) k_i=2.7
\\
&R=\frac{\overline{K}}{L}\log _2m=2.7
\\
&\eta =\frac{H(\mathrm{X)}}{R}=89.63\%
\end{align*}</script><h2 id="费诺编码"><a href="#费诺编码" class="headerlink" title="费诺编码"></a>费诺编码</h2><p>首先从大到小排队，然后把符号分成 2 组，要求这是所有分成 2 组的情况中，每组概率之和相差最小的情况。然后随意给两组其中一个分配 0，另一个分配 1。每组内部继续按照上面的规则分组和编码。</p>
<p><img src="https://cdn.blog-blockchain.xyz/202305222356113.png"  style="zoom: 33%;" /></p>
<h2 id="赫夫曼编码"><a href="#赫夫曼编码" class="headerlink" title="赫夫曼编码"></a>赫夫曼编码</h2><p>首先从大到小排队，对于符号的概率的 n 种取值，开始构造二叉树，节点时最小的 2 个符号，父节点是他们的和。然后用父节点替代它们，变成 n-1 个符号，去除了之前两个概率最小的符号的概率，增加了一个父节点的概率。重复这个过程，直到只剩下 1 个符号。</p>
<p>下面的序号是代表合并的步骤。</p>
<p><img src="https://cdn.blog-blockchain.xyz/202305230029109.jpg" alt=""></p>
<h1 id="信道容量"><a href="#信道容量" class="headerlink" title="信道容量"></a>信道容量</h1><h2 id="信道模型"><a href="#信道模型" class="headerlink" title="信道模型"></a>信道模型</h2><p>信道容量（channel capacity）则是指一个信道在特定条件下（例如，特定的信噪比）能够传输的最大信息速率，反映了在单位时间内能够通过信道传输的最大信息量。这里我们不考虑两个信源之间的具体转换关系，而是考虑<strong>两个随机变量之间的信息共享量，或者说，一个随机变量中包含的关于另一个随机变量的信息量。这就是互信息量。</strong>它也可以衡量特征和目标变量之间的相关性。</p>
<p><img src="https://cdn.blog-blockchain.xyz/202305241121774.png"   style="zoom:50%;" /></p>
<p>直观地讲，如果 X 和 Y 是独立的，那么他们的互信息就是 0，因为知道 X 的值并不能给我们提供关于 Y 的任何信息，反之亦然。另一方面，如果 X 和 Y 完全相关（也就是说，如果我们知道了 X 的值，那么我们就可以确定 Y 的值），那么他们的互信息量就等于 X（或 Y）的熵。</p>
<p>总之，X 和 Y 之间的互信息量或者说相关性，来自信息的传递，如果没有信息从信道传递，那么就是相互独立的。</p>
<h2 id="互信息量"><a href="#互信息量" class="headerlink" title="互信息量"></a>互信息量</h2><p>两个随机变量的某个取值，来自 Y 的取值 b 对来自 X 的取值 a 的<strong>互信息量</strong>，也就是<strong>在已知事件 b 发生后，对事件 a 的不确定性减少的程度</strong>，</p>
<p>定义如下：</p>
<script type="math/tex; mode=display">
I\left( a;b \right) =\log \frac{p\left( a|b \right)}{p\left( a \right)}</script><p>这个定义体现了<strong>通过信宿 Y 的值 b 来推测信源 X 的值 a，与实际信源 X 的值 a 的概率的比值</strong>，也是<strong>这一次传输的信息量</strong>。如果事件 b 发生了，那么我们对事件 a 的预测可能会更准确一些，也就是说，事件 a 的不确定性可能会降低。而造成这种不确定性的减少的原因，就是信源 X 通过信道传递信息到了信宿 Y。</p>
<p>从自信息量的角度，也可以验证刚才对互信息量的解释。因为在信息传递之前，信源 X 和信宿 Y 是独立的，只有信息传输之后，才会有共享的信息。传递的部分就是信源 X 的信息量，减去从信宿 Y 获取观察信源 X 的信息量：</p>
<script type="math/tex; mode=display">
I\left(a_i ; b_j\right)=-\log p\left(a_i\right)+\log p\left(a_i / b_j\right)=I\left(a_i\right)-I\left(a_i / b_j\right)</script><p>如果从信息共享（也就是信息传递）的角度看，更加直观的形式如下：</p>
<script type="math/tex; mode=display">
I\left( a;b \right) =I\left( b;a \right) =\log \frac{p\left( ab \right)}{p\left( a \right) p\left( b \right)}</script><p>通过简单变形，就有了最开始互信息量的定义，它给我们提供了一种，不知道 $p(b)$ 但是知道 $p(a|b)$ 的情况下的计算方法。</p>
<p>对于两个信源而言，<strong>平均互信息量</strong>就是所有组合的互信息量的平均值：</p>
<script type="math/tex; mode=display">
I\left( X;Y \right) =\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_j \right) \log \frac{p\left( a_ib_j \right)}{p\left( a_i \right) p\left( b_j \right)}}}=\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_j \right) \log \frac{p\left( a_i|b_j \right)}{p\left( a_i \right)}}}</script><p>注意：</p>
<ol>
<li><p><strong>互信息量是可以为正，也可以为负</strong>。</p>
</li>
<li><p>但是<strong>平均互信息量是非负数</strong>。相互独立的时候有 $p(ab)=p(a)p(b)$</p>
<script type="math/tex; mode=display">
\begin{align*}
  &I\left( X;Y \right) =\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_j \right) \log \frac{p\left( a_ib_j \right)}{p\left( a_i \right) p\left( b_j \right)}}}=\frac{1}{\ln 2}\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_j \right) \ln \frac{p\left( a_ib_j \right)}{p\left( a_i \right) p\left( b_j \right)}}}
\\
  &=-\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_j \right) \ln \frac{p\left( a_i \right) p\left( b_j \right)}{p\left( a_ib_j \right)}}}
\\
  &\ge -\sum_{i=1}^n{\sum_{j=1}^m{p\left( a_ib_j \right) \left( \frac{p\left( a_i \right) p\left( b_j \right)}{p\left( a_ib_j \right)}-1 \right)}}=-\sum_{i=1}^n{\sum_{j=1}^m{\left( p\left( a_i \right) p\left( b_j \right) -p\left( a_ib_j \right) \right)}}
\\
  &=-\left( \sum_{i=1}^n{p\left( a_i \right)}-\sum_{i=1}^n{p\left( a_i \right)} \right) =0
\end{align*}</script></li>
<li><p>当 X Y 独立的时候，共享的信息为 0，平均互信息量为 0.</p>
</li>
<li><p>共享的信息，无论从 X 的角度还是从 Y 的角度，都是相等的</p>
<script type="math/tex; mode=display">
I\left( Y;X \right) =I\left( X;Y \right)</script></li>
<li>共享的信息量不可能超过信源本身，也就是极值性。当 X 和 Y 一一对应就是无损的信道：<script type="math/tex; mode=display">
I\left( X;Y \right) \le H\left( X \right)
\\
I\left( X;Y \right) \le H\left( Y \right)</script></li>
<li><p>平均互信息量是 $p(a)$ 的上凸用函数，$p(b|a)$ 的下凸函数。</p>
</li>
<li><p>信息传递递减。假设 X Z 互相独立，经过 Y 传递信息，那么</p>
<script type="math/tex; mode=display">
\begin{aligned}
&I(X;Z)\le I(Y;Z)\\
&I(X;Z)\le I(X;Y)\\
&I\left( X;YZ \right) =H\left( X \right) -H\left( X|YZ \right)
\end{aligned}</script></li>
</ol>
<h2 id="条件互信息量"><a href="#条件互信息量" class="headerlink" title="条件互信息量"></a>条件互信息量</h2><p>特别地，教材里还提到了<strong>条件互信息量</strong>，信源 X 和信宿 Y 都知道一个条件 c，那么定义在条件 c 下的 a b 的互信息量为：</p>
<script type="math/tex; mode=display">
I\left( a;b|c \right) =I\left( \left( a;b \right) |c \right) =\log \frac{p\left( a|bc \right)}{p\left( a|c \right)}</script><p>这里要稍微注意的是，条件互信息量的表示，容易有歧义。c 是共有的条件。特别的，如果把 b c 所在的信源作为一个整体，a 所在信源作为信宿，有：</p>
<script type="math/tex; mode=display">
I\left( a;bc \right) =I\left( a;c \right) +I\left( a;b|c \right) =I\left( a;b \right) +I\left( a;c|b \right)</script><p>这也比较直观，从 b c 传递给 a 的信息，来自于从 c 传递给 a 的信息和 a b 已知 c 的情况下，b 给 a 传递的信息。</p>
<h2 id="平均互信息量的三个视角"><a href="#平均互信息量的三个视角" class="headerlink" title="平均互信息量的三个视角"></a>平均互信息量的三个视角</h2><p>从信息传递的角度看，可以分别从信源 X 的角度、信宿 Y 的调度和通信系统整体的角度，看待平均互信息量（传输的信息量）和信源熵（信源传输信息的能力）。</p>
<p><strong>从信源 X：</strong></p>
<script type="math/tex; mode=display">
I\left( Y;X \right) =H\left( Y \right) -H\left( Y|X \right)</script><p>这表示 X 发送信息后，从 X 观察 Y，Y 剩下的不确定度，也就是信息熵。</p>
<p><strong>从信宿 Y</strong>：</p>
<script type="math/tex; mode=display">
I\left( X;Y \right) =H\left( X \right) -H\left( X|Y \right)</script><p>这表示 Y 接收信息后，从 Y 观察 X，X 剩下的不确定度，也就是信息熵。</p>
<p><strong>从通信系统：</strong></p>
<script type="math/tex; mode=display">
I\left( X;Y \right) =H\left( X \right)+ H\left( Y \right)-H\left( XY \right)</script><p>这表示原本传递信息之前，X 和 Y 是独立的，提供的信息熵为 $H\left( X \right)+ H\left( Y \right)$。但是当 X 和 Y 通信后，X Y 作为整体所提供的信息熵就变成了 $H\left( XY \right)$，二者之差就是传递的信息量。</p>
<h2 id="信源熵互信息量的关系"><a href="#信源熵互信息量的关系" class="headerlink" title="信源熵互信息量的关系"></a>信源熵互信息量的关系</h2><p>下面的图中，$I(X;Y)$ 表示 X Y 重叠部分，$H(XY)$ 表示两个圆的组合，$H(X/Y)$ 表示圆 X 挖去了圆 Y 的部分。</p>
<p><img src="http://cdn.blog-blockchain.xyz/202305272140486.png"  style="zoom:50%;" /></p>
<p><img src="http://cdn.blog-blockchain.xyz/202305272141068.png"  style="zoom:50%;" /></p>
<h2 id="单符号离散信道容量"><a href="#单符号离散信道容量" class="headerlink" title="单符号离散信道容量"></a>单符号离散信道容量</h2><p>仍然假设输入$X\in { a_1,a_2,\cdots a_n } $，输出 $Y \in{b_1, b_2, \cdots b_m}$，那么信息从 X 传递到 Y 的转移概率矩阵，也叫做信道矩阵如下：</p>
<script type="math/tex; mode=display">
\left[\begin{array}{c}
p\left(b_1 / a_1\right), p\left(b_2 / a_1\right), \cdots, p\left(b_m / a_1\right) \\
p\left(b_1 / a_2\right), p\left(b_2 / a_2\right), \cdots, p\left(b_m / a_2\right) \\
\cdots \cdots \\
p\left(b_1 / a_n\right), p\left(b_2 / a_n\right), \cdots, p\left(b_m / a_n\right)
\end{array}\right]</script><p>信道容量通过调整 $p(a_i)$的概率分布，实现 X 和 Y 最大的互信息量，也就是最大的可以承载的能力。</p>
<script type="math/tex; mode=display">
\begin{aligned}
C & =\max _{p\left(a_i\right)} I(X ; Y) \\
& =\max _{p\left(a_i\right)}[H(X)-H(X / Y)]=\max _{p\left(a_i\right)}[H(Y)-H(Y / X)]
\end{aligned}</script><p>一般的信道容量是比较复杂的，只需要掌握特殊的即可。很多时候入门信息论，都是定性分析。<strong>优化的变量，都是 X 的符号的概率，而不是 Y 的概率。</strong></p>
<p><strong>无噪声 X 和 Y 一对一：</strong></p>
<p>那么转移概率矩阵就是每行一个 1，而且每列一个 1，那么 $H(X|Y)=H(Y|X)=0$</p>
<script type="math/tex; mode=display">
C=\max H(X)=\log n</script><p><strong>无噪声 X 和 Y 一对多：</strong></p>
<p>信道矩阵就是每行若干个概率，但是每一列只有一个不为 0</p>
<script type="math/tex; mode=display">
\left[ \begin{matrix}
p\left( b_1/a_1 \right)& p\left( b_2/a_1 \right)& p\left( b_3/a_1 \right)& 0& 0& 0& 0& 0\\
0& 0& 0& p\left( \left. b_4/a_2 \right) \right.& p\left( b_5/a_2 \right)& p\left( b_6/a_2 \right)& 0& 0\\
0& 0& 0& 0& 0& 0& p\left( b_7/a_3 \right)& p\left( b_8/a_3 \right)\\
\end{matrix} \right]</script><p>那么 $H(X|Y)=0$ 但是 $H(Y|X)\ne 0$，而且 $H(X)&lt;H(Y)$</p>
<script type="math/tex; mode=display">
C=\max H(X)=\log n</script><p><strong>无噪声多对一：</strong></p>
<p>类似于 $a_1 \rightarrow b_1$ $a_2 \rightarrow b_1$，所以信道矩阵如下：</p>
<script type="math/tex; mode=display">
\left[\begin{array}{lll}
1 & 0 & 0 \\
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1
\end{array}\right]</script><p>这样就有 $H(Y|X)=0$，所以</p>
<script type="math/tex; mode=display">
C=\max H(Y)=\log m</script><p><strong>强对称：</strong></p>
<p>对于信道 ${ X\,\, P\left( Y|X \right) \,\,Y } $ ，输入和输出的符号种类数量相同，而且每个符号传递对应传递的概率为 $1-p$，其他传递错误的可能性平分。每一行和每一列都是 1。也就是如下</p>
<script type="math/tex; mode=display">
\begin{gather*}
X\in \left\{ a_1,a_2,.......a_n \right\} ,\quad Y\in \left\{ b_1,b_2,......b_m \right\}
\\    
\left[ \begin{matrix}
1-p& \frac{p}{n-1}& .....& \frac{p}{n-1}\\
\frac{p}{n-1}& 1-p& ....& \frac{p}{n-1}\\
\frac{p}{n-1}& \frac{p}{n-1}& ....& 1-p\\
\end{matrix} \right] _{n\times n}
\end{gather*}</script><p>那么很特殊的性质就是 $H(Y|X)$ 是常数，因为每一行信源熵都相等，所以</p>
<script type="math/tex; mode=display">
\sum_{j=1}^n{p\left( b_j/a_i \right) \log p\left( b_j/a_i \right)}=(1-p)\log\mathrm{(}1-p)+\left( \frac{p}{n-1}\log \frac{p}{n-1} \right) (n-1)</script><p>令这个常数为 $H_{ni}$，就得到了下面的结论</p>
<script type="math/tex; mode=display">
\begin{aligned}
    H(Y/X)&=-\sum_{i=1}^n{\sum_{j=1}^n{p}}\left( a_i \right) p\left( b_j/a_i \right) \log p\left( b_j/a_i \right) =-\sum_{i=1}^n{p}\left( a_i \right) \sum_{j=1}^n{p}\left( b_j/a_i \right) \log p\left( b_j/a_i \right)\\
    &=-\sum_{i=1}^n{p}\left( a_i \right) H_{ni}=H_{ni}\\
\end{aligned}</script><p>$H_{ni}$ 随着 p 变化的函数图像如下：</p>
<p><img src="http://cdn.blog-blockchain.xyz/202305272345345.png"  style="zoom:50%;" /></p>
<p>最后，当整个信道矩阵都是 $\frac{1}{n}$ 的时候，取到最大。具体过程忽略</p>
<script type="math/tex; mode=display">
\begin{align*}
&C=\max_{p\left( a_i \right)} I(X;Y)=\max_{p\left( a_i \right)} [H(Y)-H(Y/X)]
\\
&=\max_{p\left( a_i \right)} \left[ H(Y)-H_n \right] =\log n-H_{ni}
\end{align*}</script><p><strong>对称：</strong></p>
<p>对称信道和强对称信道有类似之处，但是条件更加宽松，只需要每一列是同一个集合的排列，每一行也是同一个集合的排列，不再需要 $a_i \rightarrow b_i$，也不需要错误映射的可能性平分。</p>
<p>这样就会出现有趣的性质，因为每一行的和为 1，假设是 ${q_1,q_2,\cdots,q_n}$ 这 n 个可以重复的元素，那么每一列都包括了其中一个元素，那么如果 m<n，那么列的元素的集合一定是行元素集合的子集。m>n 时，也有对应的结论。</p>
<p><img src="http://cdn.blog-blockchain.xyz/202305291533716.png"  style="zoom: 50%;" /><br>对于这样的信道矩阵，可以明显知道，每一行的信息量是相等的，也即</p>
<script type="math/tex; mode=display">
\begin{aligned}
    &H(Y/X)=-\sum_{i=1}{\sum_{j=1}{p}}\left( a_i \right) p\left( b_j/a_i \right) \log p\left( b_j/a_i \right)\\
    &=-\sum_{i=1}^n{p}\left( a_i \right) \left[ \sum_{j=1}^m{p}\left( b_j/a_i \right) \log p\left( b_j/a_i \right) \right]\\
    &=H_{mi}\\
\end{aligned}</script><p>可以发现，和强对称矩阵不一样了，虽然取等条件也是X每个符号等概率，但是最大值是由 Y 的符号个数决定了。</p>
<script type="math/tex; mode=display">
C=\max_{p\left( a_i \right)} \left[ H(Y)-H_{mi} \right] =\log m-H_{mi}</script><p><strong>准对称矩阵</strong>：</p>
<p>每一行都是同一个集合的排列，列不是。但是列可以通过分组，把原来的 n*m 的矩阵，分组成 <script type="math/tex">n*m_1, n*m_2,\cdots,n*m_s</script> 这个 s 个矩阵。</p>
<p>(待续)</p>
<p>（<strong>不写笔记了，这门课很多概念就是没有搞清楚，课程要求也是会背公式，计算就可以了。我去理解原理反而有害分数，而且非常费力。</strong>）</p>
<blockquote>
<p>下面是另外一部分需要测试的内容</p>
</blockquote>
<p>最后，总结一般流程：</p>
<ol>
<li>确定状态集合：<script type="math/tex">S=\left\{ (a_1,a_2,a_3,...)| a_i\in D \right\}</script> $D$ 是每个子状态或者元素的定义域。</li>
<li>每个执行路径上的每个节点视作状态集合 S 的元素。</li>
<li>确定初始值状态 <script type="math/tex">DATA_{entry}</script>，设置执行路径上每个节点的状态默认值 $DATA_{node}=\left( T,T,T,\cdots \right)$，$T$ 表示任何情况，随后的半格理论中会再次说明。</li>
<li>确定节点的状态转换函数 $f_v:\boldsymbol{S}\rightarrow \boldsymbol{S}$，具体的函数规则由每个节点的内容决定。</li>
<li>在控制流汇合处，例如在节点 <code>v</code> 处回合，确定交汇运算 <script type="math/tex">MEET_v=\Pi _{w\in \mathrm{pred(}v)}\mathrm{DATA}_w</script>，其中 $v$ 表示当前节点，$pred(v)$ 表示当前节点的前驱节点的集合，所以 $w$ 指的是前驱节点。我们约定，交汇处会覆盖默认值，也即 <script type="math/tex">a_i\Pi T=a_i</script> 。$\Pi$ 表示交汇运算。</li>
</ol>
]]></content>
      <categories>
        <category>技能学习记录</category>
      </categories>
      <tags>
        <tag>信息论</tag>
        <tag>编码</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Opencv实现的多彩隔空画图</title>
    <url>/095-colorful-painting/</url>
    <content><![CDATA[<h1 id="1-问题概述"><a href="#1-问题概述" class="headerlink" title="1.问题概述"></a>1.问题概述</h1><p>人工智能带火了计算机视觉的人才需求，作为计算机视觉应用开发框架OpenCV也越来越受到欢迎，市场需求大增。因此，在学习Python的基础上，进行Opencv技术的学习是十分重要且有必要的。该项技术不仅有着成熟的学习框架，更有广泛的应用。学习一定的Opencv技术对于大学生来说，有着不同寻常的意义所在。</p>
<h1 id="2-课程设计基本要求"><a href="#2-课程设计基本要求" class="headerlink" title="2.课程设计基本要求"></a>2.课程设计基本要求</h1><p>设计报告的基本内容至少包括封面、正文、参考文献三部分。</p>
<p>1．封面</p>
<p>封面按照模版填写，不得随意更改。</p>
<p>2．正文</p>
<p>正文是设计报告的主体，具体由以下几部分组成：</p>
<p>(1)背景介绍、问题描述</p>
<p>描述要求编程解决的问题。</p>
<p>(2) 基本要求</p>
<p>给出程序要达到的具体的要求。</p>
<p>(3)需求分析<br>　　以无歧义的陈述说明程序设计的任务，强调的是程序要做什么？并明确规定：<br>　　   输入的形式和输入值的范围；<br>　　   输出的形式；<br>　　   程序所能达到的功能；<br>　　   测试数据：包括正确的输入及其输出结果和含有错误的输入及其输出结果。<br>(4)概要设计<br>　　说明本程序中主程序的流程以及各程序模块之间的层次(调用)关系。<br>(5)详细设计<br>　　实现概要设计中定义的所有数据类型，给出关键部分源程序的清单，要求程序有充分的注释语句，至少要注释每个函数参数的含义和函数返回值的含义。<br>(6)调试分析<br>　　内容包括：调试过程中遇到的问题是如何解决的以及对设计与实现的回顾讨论和分析；　　<br>(7)用户使用说明<br>　　说明如何使用你编写的程序，详细列出每一步的操作步骤。<br>(8)测试结果<br>设计测试数据，或具体给出测试数据。要求测试数据完整和严格，能全面地测试所设计程序的功能。<br>(9) 总结<br>(10)参考文献<br>　　列出参考的相关资料和书籍。</p>
<h1 id="3-Opencv识别设计需求分析"><a href="#3-Opencv识别设计需求分析" class="headerlink" title="3.Opencv识别设计需求分析"></a>3.Opencv识别设计需求分析</h1><p>在理论研究中,物体识别在最近的十几年中一直是计算机视觉领域中的热门研究点。在每年的顶尖会议和期刊中,有很多这个方向的相关工作。在某些细化的应用场景,如人脸识别和指纹识别已经有了比较成熟的应用。本文通过研究物体识别的相关理论,基于OpenCV设计实现了一个多彩隔空画图,来试图解决一些颜色路径识别,完成的主要工作如下: 基于颜色特征的物体识别方案: 本文首先的研究内容是颜色识别相关的算法,其中主要包含两大部分:特征的提取和特征的匹配。深入地理解特征检测算法有助于在实际应用时针对特定的场景选取合适的算法并进行优化。</p>
<h1 id="4-多彩隔空画图设计概要分析"><a href="#4-多彩隔空画图设计概要分析" class="headerlink" title="4.多彩隔空画图设计概要分析"></a>4.多彩隔空画图设计概要分析</h1><p>本项目主要是为了实现，通过摄像头读取展示给摄像头的视觉信息，从中分析出需要识别的颜色，通过圆点标志出颜色，并连续不断的进行圆点绘制，以达到画图的最终效果。其中可能会用到窗口的调用恢复，窗口反转；腐蚀，消除噪声斑点；膨胀，连通被噪声、阴影分割的区域；开运算，先腐蚀后膨胀；闭运算，先膨胀后腐蚀；形态梯度； “礼貌” ； “黑帽” ；尺寸的调整；窗口合并；按钮添加进行参数调节；阀值化等等的技术。通过不同的模块的学习，将其整合为一个总体的项目。<br>本项目主要根据Opencv在Github的官方文档中不同章节涉及的Opencv知识进行学习以及完成该项目。</p>
<h2 id="4-1多彩隔空画图开发环境"><a href="#4-1多彩隔空画图开发环境" class="headerlink" title="4.1多彩隔空画图开发环境"></a>4.1多彩隔空画图开发环境</h2><p>电脑型号：机械革命X6Ti版本<br>系统OS：Windows 10 专业版<br>版本号    20H2<br>安装日期    2020/9/10<br>操作系统版本    19042.610<br>体验    Windows Feature Experience Pack 120.2212.31.0<br>使用软件：PyCharm 2020.1 x64，VSCode，Python3.6</p>
<h2 id="4-2Opencv技术"><a href="#4-2Opencv技术" class="headerlink" title="4.2Opencv技术"></a>4.2Opencv技术</h2><p>OpenCV是一个基于BSD许可（开源）发行的跨平台计算机视觉和机器学习软件库，可以运行在Linux、Windows、Android和Mac OS操作系统上。 [1]  它轻量级而且高效——由一系列 C 函数和少量 C++ 类构成，同时提供了Python、Ruby、MATLAB等语言的接口，实现了图像处理和计算机视觉方面的很多通用算法。<br>OpenCV用C++语言编写，它具有C ++，Python，Java和MATLAB接口，并支持Windows，Linux，Android和Mac OS，OpenCV主要倾向于实时视觉应用，并在可用时利用MMX和SSE指令， 如今也提供对于C#、Ch、Ruby，GO的支持。<br>OpenCV可以在Windows，Android，Maemo，FreeBSD，OpenBSD，iOS，Linux 和Mac OS等平台上运行。使用者可以在 SourceForge 获得官方版本，或者从 SVN 获得开发版本。OpenCV也是用CMake。<br>在Windows上编译OpenCV中与摄像输入有关部分时，需要DirectShow SDK中的一些基类。该SDK可以从预先编译的Microsoft Platform SDK（or DirectX SDK 8.0 to 9.0c / DirectX Media SDK prior to 6.0）的子目录Samples\Multimedia\DirectShow\BaseClasses获得。<br>Python是由Guido van Rossum发起的通用编程语言，很快就非常流行，主要是因为它的简单性和代码可读性。它使程序员可以用较少的代码行表达想法，而不会降低可读性。<br>与C/C++之类的语言相比，Python速度较慢。也就是说，可以使用C/C++轻松扩展Python，这使我们能够用C/C++编写计算密集型代码并创建可用作Python模块的Python包装器。这给我们带来了两个好处：首先，代码与原始C/C++代码一样快（因为它是在后台运行的实际C++代码），其次，在Python中比C/C++编写代码更容易。OpenCV-Python是原始OpenCV C++实现的Python包装器。<br>OpenCV-Python利用了<strong>Numpy</strong>，这是一个高度优化的库，用于使用MATLAB样式的语法进行数值运算。所有OpenCV数组结构都与Numpy数组相互转换。这也使与使用Numpy的其他库（例如SciPy和Matplotlib）的集成变得更加容易。</p>
<h2 id="4-3多彩隔空画图的总体结构设计"><a href="#4-3多彩隔空画图的总体结构设计" class="headerlink" title="4.3多彩隔空画图的总体结构设计"></a>4.3多彩隔空画图的总体结构设计</h2><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165209.png" alt="图1 多彩隔空画图的总体结构设计"></p>
<p>图1为多彩隔空画图总体结构设计，总体分为摄像头读取图像框、获取颜色、基本单位圆点、实现绘制路径四个模块。其中摄像头读取图像框模块主要是在屏幕中创建一个窗口，在这个窗口中实现画图路径的绘制；在获取颜色模块，主要借用cv2中腐蚀，消除噪声斑点；膨胀等函数，进行所需识别颜色的获取与识别；在基本单位模块中，主要是绘制出一个带有颜色的圆形，这个圆形就是绘制路径的基本单位，通过不断的重复这个圆形，从而画出路径；在实现绘制路径模块中，主要通过函数，不断地重复基本单元圆点，以实现路径的绘制。</p>
<h1 id="5-多彩隔空画图的详细设计"><a href="#5-多彩隔空画图的详细设计" class="headerlink" title="5.多彩隔空画图的详细设计"></a>5.多彩隔空画图的详细设计</h1><p>在四个模块中，一开始为摄像头读取图形框设计，然后是进行简单的识别，之后通过添加调节按钮来实现移动按钮以获取最佳的识别效果，从而获取到需要识别颜色的RGB值。通过获得到的RGB值，可以再调用Opencv函数，来实现基本单位圆形的绘制，再将其连起来，从而实现路径绘制的实现。过程中需要多次实验调试，每个模块可能有多次修改，从初步的设计到代码的书写，算法的编写，再到算法代码的优化。</p>
<h2 id="5-1摄像头读取图像框设计"><a href="#5-1摄像头读取图像框设计" class="headerlink" title="5.1摄像头读取图像框设计"></a>5.1摄像头读取图像框设计</h2><p>我们需要找到我们的颜色，并且需要使用网络摄像头，然后我们可以在找到颜色的任何地方放置不同的点来创建绘画示例。<br>所以首先我们需要的是网络摄像头，所以我们要做的是，根据官方文档的第一章内容，调用我们的网络摄像头。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">frameWidth = <span class="number">640</span>  <span class="comment"># chapter1</span></span><br><span class="line">frameHeight = <span class="number">480</span>  <span class="comment"># chapter1</span></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">1</span>)  <span class="comment"># chapter1</span></span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">3</span>, frameWidth)  <span class="comment"># chapter1</span></span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">4</span>, frameHeight)  <span class="comment"># chapter1</span></span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">10</span>, <span class="number">150</span>)  <span class="comment"># chapter1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">       <span class="keyword">break</span></span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165319.png" alt="图2 调用网络摄像头代码"></p>
<p>首先我们需要导入库，通过import cv2导入Opencv库。我们设置两个变量，一个是窗口的宽为640，一个是窗口的高为480，通过frameWidth = 640和frameHeight = 480实现。然后为窗口的宽和高分别设置ID号，分别为3号和4号。同时我们设置窗口的亮度，在经过测试后，我们选定150的亮度为窗口屏幕亮度。VideoCapture函数为调用摄像头的函数，参数为1代表不调用，参数为0代表调用，开始我们设置为1，在需要调用时，我们再设置为0。</p>
<p>然后我们循环获取图像的位置，使用imshow功能函数，并且将窗口名称设置为Result。为了有退出的功能，我们设置按键盘上的“Q”进行退出。</p>
<p>此时我们进行测试，预期效果为现实摄像头。</p>
<p>运行程序，进行摄像头测试，结果摄像头读取成功，此处展示四个手指，在屏幕上也能看到四个手指，测试成功。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165349.png" alt=""></p>
<p>然后进行程序退出功能的测试，按键盘上的Q进行退出，测试结果为成功退出，在输入法为中文模式时，需要先改变成英文模式再摁Q进行退出即可。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165415.png" alt=""></p>
<h2 id="5-2获取颜色设计"><a href="#5-2获取颜色设计" class="headerlink" title="5.2获取颜色设计"></a>5.2获取颜色设计</h2><p>在窗口创建成功之后，就是颜色的获取。我们要做的就是找到我们的颜色，以便找到我们的颜色。我们需要引入颜色检测的代码，这一部分的内容在官方文档的第7章有涉及介绍，我们可以阅读相关内容进行函数学习，以及代码的编写。<br>我们需要检测上限阀值和下限阀值，同时我们还需要将窗口转化为HSV空间。<br>在代码中，我们需要定义一个函数来查找我们的颜色，具体代码如下。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img, myColors, myColorValues</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)  <span class="comment"># chapter2</span></span><br><span class="line">    count = <span class="number">0</span>  <span class="comment"># 计数器来计算实际计数多少次</span></span><br><span class="line">    newPoints = []</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> myColors:</span><br><span class="line">        lower = np.array(color[<span class="number">0</span>:<span class="number">3</span>])  <span class="comment"># chapter2 这里改为取前三个值</span></span><br><span class="line">        upper = np.array(color[<span class="number">3</span>:<span class="number">6</span>])  <span class="comment"># chapter2 这里改为取3-6的值</span></span><br><span class="line">        mask = cv2.inRange(imgHSV, lower, upper)  <span class="comment"># chapter2</span></span><br><span class="line">        x, y = getContours(mask)  <span class="comment"># 调用获取轮廓的函数</span></span><br><span class="line">        <span class="comment"># 绘制圆，中心点由x和y坐标确定，半径定为8，获取识别的颜色，然后进行圆的填充</span></span><br><span class="line">        cv2.circle(imgResult, (x, y), <span class="number">8</span>, myColorValues[count], cv2.FILLED)</span><br><span class="line">        <span class="comment"># 在计数前，如果x和y不等于0，每次记录新的点进行追加</span></span><br><span class="line">        <span class="keyword">if</span> x != <span class="number">0</span> <span class="keyword">and</span> y != <span class="number">0</span>:</span><br><span class="line">            newPoints.append([x, y, count])</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="comment"># cv2.imshow(str(color[0]),mask)</span></span><br><span class="line">    <span class="keyword">return</span> newPoints</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165513.png" alt="图3 查找颜色代码"></p>
<p>在第一步，我们先进行检测测试，将函数的输入设置为一个ing值即可，之后需要将其转化为HSV空间。为了检测是否正常工作，我们加入cv2.imshow()来进行测试。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    lower = np.array([h_min,s_min,v_min])</span><br><span class="line">    upper = np.array([h_max,s_max,v_max])</span><br><span class="line">    mask = cv2.inRange(imgHSV,lower,upper)</span><br><span class="line">cv2.imshow(<span class="string">&quot;img&quot;</span>,mask)</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165558.png" alt="图4 查找颜色初步测试代码"></p>
<p>在此处的cv2.imshow(“img”,mask)只是为了测试，在之后会将其进行删除。</p>
<p>我们不想只找到一种颜色，我们想找到不同的颜色，所以当我们调用findColor()函数时，我们想找到不同类型的颜色以及任何存在的颜色，并且将其作为输出。所以我们可以在函数上面，先以列表的形式定义一些内容，例如颜色的最小值和最大值。我们定义一个名为myColors的列表，这里基本上就是我们要检测的颜色列表。所以我们需要在赋值的时候，给出最小和最大色相饱和值。此处我们选择一些特定的颜色，例如红色，蓝色，绿色等颜色，实现给出颜色预订值。这可以帮助我们使用网络摄像头选择正确的色相饱和度值。</p>
<p>下方为检测预订设置颜色代码</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">frameWidth = <span class="number">640</span></span><br><span class="line">frameHeight = <span class="number">480</span></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">1</span>)</span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">3</span>, frameWidth)</span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">4</span>, frameHeight)</span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">10</span>,<span class="number">150</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">empty</span>(<span class="params">a</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">cv2.namedWindow(<span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">cv2.resizeWindow(<span class="string">&quot;HSV&quot;</span>,<span class="number">640</span>,<span class="number">240</span>)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;HUE Min&quot;</span>,<span class="string">&quot;HSV&quot;</span>,<span class="number">0</span>,<span class="number">179</span>,empty)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;SAT Min&quot;</span>,<span class="string">&quot;HSV&quot;</span>,<span class="number">0</span>,<span class="number">255</span>,empty)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;VALUE Min&quot;</span>,<span class="string">&quot;HSV&quot;</span>,<span class="number">0</span>,<span class="number">255</span>,empty)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;HUE Max&quot;</span>,<span class="string">&quot;HSV&quot;</span>,<span class="number">179</span>,<span class="number">179</span>,empty)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;SAT Max&quot;</span>,<span class="string">&quot;HSV&quot;</span>,<span class="number">255</span>,<span class="number">255</span>,empty)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;VALUE Max&quot;</span>,<span class="string">&quot;HSV&quot;</span>,<span class="number">255</span>,<span class="number">255</span>,empty)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">    _, img = cap.read()</span><br><span class="line">    imgHsv = cv2.cvtColor(img,cv2.COLOR_BGR2HSV)</span><br><span class="line"></span><br><span class="line">    h_min = cv2.getTrackbarPos(<span class="string">&quot;HUE Min&quot;</span>,<span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">    h_max = cv2.getTrackbarPos(<span class="string">&quot;HUE Max&quot;</span>, <span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">    s_min = cv2.getTrackbarPos(<span class="string">&quot;SAT Min&quot;</span>, <span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">    s_max = cv2.getTrackbarPos(<span class="string">&quot;SAT Max&quot;</span>, <span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">    v_min = cv2.getTrackbarPos(<span class="string">&quot;VALUE Min&quot;</span>, <span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">    v_max = cv2.getTrackbarPos(<span class="string">&quot;VALUE Max&quot;</span>, <span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(h_min)</span><br><span class="line"></span><br><span class="line">    lower = np.array([h_min,s_min,v_min])</span><br><span class="line">    upper = np.array([h_max,s_max,v_max])</span><br><span class="line">    mask = cv2.inRange(imgHsv,lower,upper)</span><br><span class="line">    result = cv2.bitwise_and(img,img, mask = mask)</span><br><span class="line"></span><br><span class="line">    mask = cv2.cvtColor(mask, cv2.COLOR_GRAY2BGR)</span><br><span class="line">    hStack = np.hstack([img,mask,result])</span><br><span class="line">    <span class="comment">#cv2.imshow(&#x27;Original&#x27;, img)</span></span><br><span class="line">    <span class="comment">#cv2.imshow(&#x27;HSV Color Space&#x27;, imgHsv)</span></span><br><span class="line">    <span class="comment">#cv2.imshow(&#x27;Mask&#x27;, mask)</span></span><br><span class="line">   <span class="comment">#cv2.imshow(&#x27;Result&#x27;, result)</span></span><br><span class="line">    cv2.imshow(<span class="string">&#x27;Horizontal Stacking&#x27;</span>, hStack)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165646.png" alt="图5 预订颜色检测代码"></p>
<p>在此处的代码中，主要涉及官方文档当中第七章的内容进行代码编写。主要是将原本手动的调节功能集成到按钮当中，当我们调用按钮进行移动的时候，可以将画面进行HSV空间转化，较为方便地得出颜色的特征样本。在图3代码的基础上，添加按钮集成，分别设置按钮上限和下限值，以便调节具有一定的范围。</p>
<p>我们将cap = cv2.VideoCapture(1)设置为cap = cv2.VideoCapture(0)，然后运行代码进行测试。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165719.png" alt=""></p>
<p>上方为检测窗口，下面左侧为颜色RGB值得输出，右侧为按钮调节。</p>
<p>首先我们进行红色的检测，然后进行蓝色和绿色的检测，红色和蓝色主要采用红笔和蓝色，绿色主要采用修正带上面的绿色部件。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165743.png" alt=""></p>
<p>红色检测结果，我需要将红色在画面中保持白色，尽量将其他部分保持为黑色。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165811.png" alt=""></p>
<p>我们可以看到，在画面中，我已经通过调节参数，将其保持为白色，最后输出为0，HUE Min值为0，SAT Min值为91，VALUE Min值为0，HUE Max为12，SAT Max和VALUE Max的值都为255。</p>
<p>但是手上的颜色被检测到了。所以我们需要调节HUE Max的值，我们将其调节为9，则手的颜色得到了有效的删减。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165847.png" alt=""></p>
<p>所以我们记录下了我们需要的值，0,91,0,9,255,255。所以在myColor列表中添加这些值。</p>
<p>蓝色检测结果，我需要将蓝色在画面中保持白色，尽量将其他部分保持为黑色。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165916.png" alt=""></p>
<p>我们可以看到，在画面中，我已经通过调节参数，将其保持为白色，最后输出为97，HUE Min值为97，SAT Min值为107，VALUE Min值为36，HUE Max为179，SAT Max值为255，VALUE Max的值为193。</p>
<p>但是附近的环境颜色被检测到了，我们还需要进行调整使其尽量优化。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824165942.png" alt=""></p>
<p>经过调整，我们得到最后的值为104,100,33,174,255,226。将其添加到myColor列表中。</p>
<p>绿色检测结果，我需要将绿色在画面中保持白色，尽量将其他部分保持为黑色。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824170012.png" alt=""></p>
<p>绿色的参数调节较为容易，不需要进行二次优化，我们的得到参数为77,150,0,91,255,255。将其添加到myColor列表中。</p>
<p>然后，我们的myColor列表中得到了三种颜色的最小和最大色相和饱和度值。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">myColors = [[<span class="number">0</span>, <span class="number">91</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">255</span>, <span class="number">255</span>], </span><br><span class="line">            [<span class="number">104</span>, <span class="number">100</span>, <span class="number">33</span>, <span class="number">174</span>, <span class="number">255</span>, <span class="number">226</span>],</span><br><span class="line">            [<span class="number">77</span>, <span class="number">150</span>, <span class="number">0</span>, <span class="number">91</span>, <span class="number">255</span>, <span class="number">255</span>]]</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171221.png" alt="图6 预设颜色最小和最大色相和饱和度值"></p>
<p>现在我们可以简单创建蒙版了，首先，我们需要导入Numpy库，通过import numpy as np将numpy库名称设置为np。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">frameWidth = <span class="number">640</span>  <span class="comment"># chapter1</span></span><br><span class="line">frameHeight = <span class="number">480</span>  <span class="comment"># chapter1</span></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>)  <span class="comment"># chapter1</span></span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">3</span>, frameWidth)  <span class="comment"># chapter1</span></span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">4</span>, frameHeight)  <span class="comment"># chapter1</span></span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">10</span>, <span class="number">150</span>)  <span class="comment"># chapter1</span></span><br><span class="line"></span><br><span class="line">myColors = [[<span class="number">0</span>, <span class="number">91</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">255</span>, <span class="number">255</span>],  <span class="comment"># 要拥有最小和最大色相和饱和度值</span></span><br><span class="line">            [<span class="number">104</span>, <span class="number">100</span>, <span class="number">33</span>, <span class="number">174</span>, <span class="number">255</span>, <span class="number">226</span>],</span><br><span class="line">            [<span class="number">77</span>, <span class="number">150</span>, <span class="number">0</span>, <span class="number">91</span>, <span class="number">255</span>, <span class="number">255</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    lower = np.array([h_min, s_min, v_min])</span><br><span class="line">    upper = np.array([h_max, s_max, v_max])</span><br><span class="line">    mask = cv2.inRange(imgHSV, lower, upper)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;img&quot;</span>, mask)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171315.png" alt="图7 导入numpy库"></p>
<p>然后我们需要将需要的值放入到lower，upper和mask三个值当中去。Lower代表最小色相和饱和度值，是myColor每个元素的前三个值，upper代表最大色相饱和值，是是myColor每个元素的后三个值。<br>因此我们只需要读取myColor的各个部分即可，例如我们首先进行红色的读取，那么lower设置就要如下设置，lower = np.array(myColors[0][0:3])，读取myColor第一个元素第一个值到第三个值，然后我们需要将myColor作为findColor函数的输入值以便函数内进行调用，设置def findColor(img,myColors)。<br>同样的，我们需要在upper中进行相同的设置，如upper = np.array(myColors[0][3:6])。<br>最后需要在while循环中调用findColor函数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    findColor(img, myColors)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        Break</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171417.png" alt="图8 调用findColor函数"></p>
<p>然后运行程序，进行测试。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171446.png" alt=""><br>我们可以看到红色检测正常，不过这仅仅是红色的检测，我们还需要检测列表中所有的颜色，为此我们需要添加一个for循环，使变量color在myColor中进行遍历，然后用color[0:3]和color[3:6]代替原来的值，最后由于是多个不同的窗口，因此窗口名称需要不同，所以我们将窗口名称用str函数设置为myColor值中每个元素的第一个值，分别是0,104和77。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img,myColors</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> myColors:</span><br><span class="line">        lower = np.array(color[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">        upper = np.array(color[<span class="number">3</span>:<span class="number">6</span>])</span><br><span class="line">        mask = cv2.inRange(imgHSV, lower, upper)</span><br><span class="line">        cv2.imshow(<span class="built_in">str</span>(color[<span class="number">0</span>]), mask)</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171528.png" alt="图9 显示所有颜色"></p>
<p>运行代码，进行测试。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171559.png" alt=""><br>可以看到，我们同时展示三种颜色，从左至右的窗口分别为红色，蓝色和绿色。</p>
<p>如果我们需要添加更多的颜色，我们可以直接将其色相饱和度值添加到myColor列表中，然后便可以直接进行识别。</p>
<p>现在部分测试已经结束，我们可以将cv2.imshow(str(color[0]),mask)采用注释的方式进行删除。</p>
<h2 id="5-3基本单位圆点设计"><a href="#5-3基本单位圆点设计" class="headerlink" title="5.3基本单位圆点设计"></a>5.3基本单位圆点设计</h2><p>我们现在需要在图像中找到需要检测的对象在哪里，为了实现这一点，我们需要得到轮廓，所以需要近似周围的边界框，这样我们就可以找到对象的位置。这里参考官方文档第八章对于边界框获取函数的知识点。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getContours</span>(<span class="params">img</span>):  <span class="comment"># chapter8</span></span><br><span class="line">    contours, hierarchy = cv2.findContours(img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)  <span class="comment"># chapter8</span></span><br><span class="line">    x, y, w, h = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> cnt <span class="keyword">in</span> contours:</span><br><span class="line">        area = cv2.contourArea(cnt)</span><br><span class="line">        <span class="keyword">if</span> area &gt; <span class="number">500</span>:</span><br><span class="line">            <span class="comment"># cv2.drawContours(imgResult, cnt, -1, (255, 0, 0), 3)</span></span><br><span class="line">            peri = cv2.arcLength(cnt, <span class="literal">True</span>)</span><br><span class="line">            approx = cv2.approxPolyDP(cnt, <span class="number">0.02</span> * peri, <span class="literal">True</span>)  <span class="comment"># chapter8</span></span><br><span class="line">            x, y, w, h = cv2.boundingRect(approx)  <span class="comment"># chapter8</span></span><br><span class="line">    <span class="keyword">return</span> x + w // <span class="number">2</span>, y  <span class="comment"># 返回尖端的最高点和中心点，如果大于500未检测到，仍需要返回一些值</span></span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171715.png" alt="图10 获取轮廓函数代码"></p>
<p>我们需要在while循环中创建一个新图像，用在getContours()函数中进行调用。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    imgResult = img.copy()</span><br><span class="line">    findColor(img, myColors)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, img)</span><br><span class="line">     <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        Break</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171803.png" alt="图11 创建复制新图像"></p>
<p>现在我们可以测试是否进行正确的打印，在findColor函数中，我们需要查找轮廓，因此我们需要在findColor函数中调用getContours函数，并且将参数设置为mask。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img, myColors</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> myColors:</span><br><span class="line">        lower = np.array(color[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">        upper = np.array(color[<span class="number">3</span>:<span class="number">6</span>])</span><br><span class="line">        mask = cv2.inRange(imgHSV, lower, upper)</span><br><span class="line">        getContours(mask)</span><br><span class="line">        <span class="comment"># cv2.imshow(str(color[0]), mask)</span></span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171848.png" alt="图12 在findColor函数中调用getContours函数"></p>
<p>运行程序进行测试<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171931.png" alt=""><br>因此测试不会有任何的效果，我们需要找到错误所在</p>
<p>错误为，在最后的while循环输出中，我们并没有将复制的新图像imgResult进行输出，而是将img进行输出，而img又因为我们将cv2.imshow(str(color[0]), mask)进行删除而无法显示。因此，我们需要将img改为imgResult，然后再进行代码运行测试。</p>
<p>红色轮廓检测<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172042.png" alt=""><br>蓝色轮廓检测<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172117.png" alt=""><br>绿色轮廓检测<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172217.png" alt=""></p>
<p>我们需要围绕着颜色的边界框，现在我们需要发送这些值，可以发送中心点，但是我们要从笔尖绘制而不是从检测对象的中心，所以我们将发送中心。因此，我们需要返回x+w//2以及y值，这样将使我们获得尖端的最高点，并且它的中心。为了一些意外情况的出现，例如area未大于500，我们还需要返回一些值，所以我们需要将x，y，w，h的初值赋为0。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getContours</span>(<span class="params">img</span>):  <span class="comment"># chapter8</span></span><br><span class="line">    contours, hierarchy = cv2.findContours(img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)  <span class="comment"># chapter8</span></span><br><span class="line">     x, y, w, h = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> cnt <span class="keyword">in</span> contours:</span><br><span class="line">        area = cv2.contourArea(cnt)[]</span><br><span class="line">        <span class="keyword">if</span> area &gt; <span class="number">500</span>:</span><br><span class="line">            cv2.drawContours(imgResult, cnt, -<span class="number">1</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">3</span>)</span><br><span class="line">            peri = cv2.arcLength(cnt, <span class="literal">True</span>)</span><br><span class="line">            approx = cv2.approxPolyDP(cnt, <span class="number">0.02</span> * peri, <span class="literal">True</span>)  <span class="comment"># chapter8</span></span><br><span class="line">            x, y, w, h = cv2.boundingRect(approx)  <span class="comment"># chapter8</span></span><br><span class="line">    <span class="keyword">return</span> x + w // <span class="number">2</span>, y</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172301.png" alt="图13 返回需要绘制的点"></p>
<p>我们需要在findColor函数中获取x，y函数，所以我们将getContours(mask)获得的一个点的值赋给x和y值。<br>x和y值相当于一个圆心，所以我们可以开始画一个圆，我们在结果imgResult图像上绘制它，中心点是x和y，然后我们设值半径为8，这样的圆不是太大，正好可以作为路径绘制的基本单位。然后先自定义一个颜色，用cv2.FILLED进行圆点内部的颜色填充。例如，我们首先将颜色设置为(255,0,0)，这里采用的颜色模式我BGR，所以我们应该会在结果中看到一个蓝色的实心小圆点。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img, myColors</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> myColors:</span><br><span class="line">        lower = np.array(color[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">        upper = np.array(color[<span class="number">3</span>:<span class="number">6</span>])</span><br><span class="line">        mask = cv2.inRange(imgHSV, lower, upper)</span><br><span class="line">        x, y = getContours(mask)</span><br><span class="line">        cv2.circle(imgResult, (x, y), <span class="number">8</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), cv2.FILLED)</span><br><span class="line">        <span class="comment"># cv2.imshow(str(color[0]), mask)</span></span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172349.png" alt="图14 测试绘制圆点代码"></p>
<p>红色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172423.png" alt=""><br>蓝色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172452.png" alt=""><br>绿色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172523.png" alt=""></p>
<p>测试结果成功绘制出三种颜色下的圆点。</p>
<p>这里需要注意区分，因为我们输入的点是图像顶端的中心，所以当我们图像角度倾斜不大的时候，我们的圆点会在物体上，当发生倾斜时，圆点会在物体外部。<br>无倾斜时：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172559.png" alt=""><br>有倾斜时：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172628.png" alt=""><br>要解决这个点，目前来说比较棘手，所以我们不打算讨论过多细节，现在我么保持笔直即可。现在需要改变的是，我需要显示的圆点颜色不应该是我们自定义的颜色，而应该是物体本身地颜色。<br>现在轮廓已经检测正确，我们不再需要轮廓，因此可以将其先删除。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getContours</span>(<span class="params">img</span>):  <span class="comment"># chapter8</span></span><br><span class="line">    contours, hierarchy = cv2.findContours(img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)  <span class="comment"># chapter8</span></span><br><span class="line">    x, y, w, h = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> cnt <span class="keyword">in</span> contours:</span><br><span class="line">        area = cv2.contourArea(cnt)</span><br><span class="line">        <span class="keyword">if</span> area &gt; <span class="number">500</span>:</span><br><span class="line">            <span class="comment">#cv2.drawContours(imgResult, cnt, -1, (255, 0, 0), 3)</span></span><br><span class="line">            peri = cv2.arcLength(cnt, <span class="literal">True</span>)</span><br><span class="line">            approx = cv2.approxPolyDP(cnt, <span class="number">0.02</span> * peri, <span class="literal">True</span>)  <span class="comment"># chapter8</span></span><br><span class="line">            x, y, w, h = cv2.boundingRect(approx)  <span class="comment"># chapter8</span></span><br><span class="line">    <span class="keyword">return</span> x + w // <span class="number">2</span>, y</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824172710.png" alt="图15 删除图像轮廓"></p>
<p>我们需要更改颜色，所以我们需要定义颜色值，例如检测到红色，在绘图上应该是什么颜色，所以我们将其命名为myColorValues，还需要在myColorValues中创建一个列表，在这个列表中，我们需要定义所有想要的颜色。这里我们暂时有三个颜色，所以我们定义三个列表值。我们可以根据对应的色相饱和度值进行转换，转化的网站为<a href="https://www.rapidtables.com/web/color/RGB_Color.html。">https://www.rapidtables.com/web/color/RGB_Color.html。</a><br>红色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173034.png" alt=""><br>蓝色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173057.png" alt=""><br>绿色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173121.png" alt=""><br>然后我们用BGR的模式将颜色写入到myColorValues列表中。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">myColorValues = [[<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>],  <span class="comment"># 红色</span></span><br><span class="line">                 [<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>],  <span class="comment"># 蓝色</span></span><br><span class="line">                 [<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>]]  <span class="comment"># 绿色</span></span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173201.png" alt="图16 写入颜色BGR值"></p>
<p>这些就是我们现在的颜色，我们可以做的是绘制基于这些颜色值得实心圆圈。我们需要myColorValues的值作为输入。所以需要将myColorValues作为findColor的输入参数，以及在while循环中将myColorValues作为findColor的输入参数。</p>
<p>在findColor函数中，我们需要一个计数器来实际计数多少次，所以我们定义一个count变量，并且将其初值赋为0。在findColor的for循环中，每次进行圆的绘制时，count就进行加一操作。在绘制圆中，我们需要将原来预设的颜色值改为为myColorValues的值，将原来的(255, 0, 0)改为myColorValues[count]，这样每次都能得到需要检测颜色的BGR值。</p>
<p>运行程序，进行测试。<br>红色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173231.png" alt=""><br>蓝色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173257.png" alt=""><br>绿色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173319.png" alt=""></p>
<h2 id="5-4实现绘制路径设计"><a href="#5-4实现绘制路径设计" class="headerlink" title="5.4实现绘制路径设计"></a>5.4实现绘制路径设计</h2><p>我们现在得到正确的颜色和正确的值，我们需要做的是绘制这些点，以便绘制出运动的路线。我们将创建一个点列表，然后我们将每次都显示它，循环它，所以在顶部，首先创建一个列表，称为myPoints，第一个值应该为x，第二个应该为y，第三个应该为colorid。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">myPoints = []  <span class="comment">## [x , y , colorId ]</span></span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173400.png" alt="图17 创建myPoints列表"></p>
<p>我们需要创建一个函数，循环myPoints列表，检查x，y的值并绘制。<br>我们可以做的是创建一个名为drawOnCanvas的新函数，需要将myPoints和myColorValues作为传入的参数。<br>在for循环中，用point变量遍历myPoints列表，然后将findColor中写过的绘制圆圈语句放入这个for循环中，将原来的x用point[0]代替，将原来的y用point[1]代替，将count用point[2]代替即可。<br>我们需要在while循环中，将findColor的值进行新的赋值，赋值为newPoints。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    imgResult = img.copy()</span><br><span class="line">    newPoints = findColor(img, myColors, myColorValues)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, imgResult)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        Break</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173451.png" alt="图18 findColor函数进行赋值"></p>
<p>因此当我们检测到颜色时，我们需要在findColor函数中返回该点的值，如果没有检测到x，y的值，那么x，y不需要返回，只需要添加即可。<br>在count进行计数之前，我们可以加入一个判断语句，如果x和y不等于0，那么我们只需要使用append进行添加即可，这里我们需要一个新的列表变量newPoints，其中每个元素都有x，y和count三个值。每次当x和y都不等于0的时候，就进行添加每个识别出来的点，通过newPoints.append([x, y, count])实现，每个点连起来，就形成了一条线，但是这条线不是连续的，还会有一些空点，在下面还需要进行优化。同样的，我们这个缺少一个newPoints列表变量的初始化，所以在初始化count变量的时候，我同样对newPoints进行初始化，每次循环都会定义新点，因此每次点都会改变，所以初始化的时候，将newPoints列表定义为空的列表。<br>最后我们将newPoints列表值进行返回即可。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">findColor</span>(<span class="params">img, myColors, myColorValues</span>):  <span class="comment"># 查找颜色函数</span></span><br><span class="line">    imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    newPoints = []</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> myColors:</span><br><span class="line">        lower = np.array(color[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">        upper = np.array(color[<span class="number">3</span>:<span class="number">6</span>])</span><br><span class="line">        mask = cv2.inRange(imgHSV, lower, upper)</span><br><span class="line">        x, y = getContours(mask)</span><br><span class="line">        cv2.circle(imgResult, (x, y), <span class="number">8</span>, myColorValues[count], cv2.FILLED)</span><br><span class="line">        <span class="keyword">if</span> x != <span class="number">0</span> <span class="keyword">and</span> y != <span class="number">0</span>:</span><br><span class="line">            newPoints.append([x, y, count])</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="comment"># cv2.imshow(str(color[0]), mask)</span></span><br><span class="line">    <span class="keyword">return</span> newPoints</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173540.png" alt="图19 findColor函数细节优化代码"></p>
<p>因此每次加上这些点，一旦我们将这些新点发送到while循环的newPoints变量中时。我们可以检查newPoints是否真的存在。通过判断newPoints的长度是否等于0。<br>如果不等于0，我们就可以采用一个for循环，将其加入到newPoints连到一起。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    imgResult = img.copy()</span><br><span class="line">    newPoints = findColor(img, myColors, myColorValues)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(newPoints)!=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> newP <span class="keyword">in</span> newPoints:</span><br><span class="line">            myPoints.append(newP)</span><br><span class="line"></span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, imgResult)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        Break</span><br></pre></td></tr></table></figure>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173625.png" alt="图20 将点连续的代码"></p>
<p>在这里放上for循环的原因是，我们再findColor函数中返回的是一个列表变量，所以无法在列表中放置一个列表。获取到了列表，但是我需要的是点，而不是列表。我们需要将列表分解为点，所以需要在后面进行添加。<br>如果newPoints长度不为0，那么我们需要绘制它们，以便在画布上绘制。这里我们调用drawOnCanvas函数，进行调用，传入的两个参数分别为myPoints和myColorValues。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    success, img = cap.read()</span><br><span class="line">    imgResult = img.copy()</span><br><span class="line">    newPoints = findColor(img, myColors, myColorValues)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(newPoints) != <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> newP <span class="keyword">in</span> newPoints:</span><br><span class="line">            myPoints.append(newP)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(myPoints) != <span class="number">0</span>:</span><br><span class="line">        drawOnCanvas(myPoints, myColorValues)</span><br><span class="line"></span><br><span class="line">    cv2.imshow(<span class="string">&quot;Result&quot;</span>, imgResult)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        Break</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173721.png" alt="图21 将点连成线"></p>
<h1 id="6-系统的调试分析"><a href="#6-系统的调试分析" class="headerlink" title="6.系统的调试分析"></a>6.系统的调试分析</h1><p>在本报告中，摄像头读取图像框、获取颜色、基本单位圆点这两个模块的代码测试和分析在详细设计中一起进行了分类模块调试测试功能。目前实现绘制路径模块的编写完成，代表整个项目的编写成功，因此让我们来调试整个项目。<br>运行代码进行调试。当三种颜色出现在摄像头前时，应该会出现对应颜色的点，当物体进行移动时，对应的点会连成线，呈现出一条线，从而实现隔空画图。<br>单独测试<br>红色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173757.png" alt=""><br>蓝色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173821.png" alt=""><br>绿色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173843.png" alt=""><br>放在一起进行测试<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173912.png" alt=""></p>
<h2 id="6-1运行过程"><a href="#6-1运行过程" class="headerlink" title="6.1运行过程"></a>6.1运行过程</h2><p>我们使用Pycharm进行代码编写和调试，点击运行按钮，然后进行图像绘制。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824173947.png" alt=""></p>
<h2 id="6-2系统调试过程中遇到的问题"><a href="#6-2系统调试过程中遇到的问题" class="headerlink" title="6.2系统调试过程中遇到的问题"></a>6.2系统调试过程中遇到的问题</h2><p>(1)在进行轮廓绘制时，我们并没有将复制的新图像imgResult进行输出，而是将img进行输出，而img又因为我们将cv2.imshow(str(color[0]), mask)进行删除而无法显示。<br>需要在while循环中将img改为imgResult，然后再进行代码运行测试。结果显示如预期所示。<br>(2)在圆点绘制时，这里需要注意区分，因为我们输入的点是图像顶端的中心，所以当我们图像角度倾斜不大的时候，我们的圆点会在物体上，当发生倾斜时，圆点会在物体外部。<br>要解决这个点，目前来说比较棘手，所以我们不打算讨论过多细节，现在我么保持笔直即可。现在需要改变的是，我需要显示的圆点颜色不应该是我们自定义的颜色，而应该是物体本身地颜色。<br>(3)在上述的测试，以及最后的图像输出中，我们得到的图像全都是正向，与我们的动作运行方向相反，这样不利于用户进行隔空绘图。因此我们需要将最后生产的整个窗口进行镜像翻转。具体代码如下。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> success == <span class="literal">True</span>:  <span class="comment"># 用来实现输出的水平翻转</span></span><br><span class="line">        new_img = cv2.flip(imgResult, <span class="number">180</span>)</span><br></pre></td></tr></table></figure><br>在摄像头确认读取成功之后，将imgResult进行水平180度的翻转，然后将图像赋给一个新的值，名为new_img，最后imshow显示结果也用new_img进行输出。<br>在解决这个问题之后，我们同时又解决了另一个问题，那就是线的绘制不是非常连续，只是单纯点的集合。这和图像没有镜像有一定关系。在新图像进行镜像之后，线也变得连续起来。<br>以下为测试效果<br>红色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824174036.png" alt=""><br>蓝色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824174100.png" alt=""><br>绿色<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824174124.png" alt=""></p>
<h1 id="7-用户使用说明"><a href="#7-用户使用说明" class="headerlink" title="7.用户使用说明"></a>7.用户使用说明</h1><p>首先，我们需要在Pycharm中找到运行按钮，位置在右上方，为绿色三角形。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824174157.png" alt=""></p>
<p>点击绿色三角形，进行程序运行。等待一些时间，在下方会出现摄像头选框，点击选框在选框中进行绘制。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824174236.png" alt=""></p>
<p>根据镜像，可以直接进行绘画，用不同的颜色，分别绘制出RGB三个字形状。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824174302.png" alt=""><br>最后摁Q进行退出，如果是中文输入模式，请切换至英文模式进行退出。</p>
<h1 id="8-测试结果"><a href="#8-测试结果" class="headerlink" title="8.测试结果"></a>8.测试结果</h1><p>在测试中，我们发现，由于手的颜色比较接近橙色，所以在识别的时候，手部的颜色可能会被识别成红色，导致在不应该有的位置出现红色。这里的问题，需要在颜色识别模块，进行相应的优化。或者可以添加新的函数优化识别的精度。<br>此外，在运行过程中，一开始有颜色的物体进入窗口，会产生点点点，而不能立刻进行识别并且连成一条线，我们认为这一点也需要后续的优化。在本次报告中，进行简单的隔空画图实现即可。</p>
<h1 id="9-总结"><a href="#9-总结" class="headerlink" title="9.总结"></a>9.总结</h1><p>Python是一种面向对象、直译式计算机程序设计语言。我们觉得Python突出的地方是对字符串操作特别的灵活、采取缩进的方式简单明了，以及简单的语法。Python和C类似，是顺序进行的，不像visual c+是事件触发不同模块进行的。操作和mat lab相似，有编辑窗口，也有一个运行的窗口（交互式解释器），可以编写之后运行，也可以在命令行模式下一条条的完成。实验结束后，我学习Python基础，初步了解了Python的基本语法及知识点，也能编译出不错的运行模块。Python的实验让我对未来工作提升了信心，提高我们从事实际工作的能力。<br>对于Opencv的学习，我们认为，最好的方法永远是阅读官方文档，再进行许多开源代码的实验测试，从中学会某种函数或者某种算法的使用和原理，这对于初学者来说十分重要。我们通过官方文档的反复阅读，了解了需要采用的函数，以及该函数应该如何进行调用，再结合一些实例，进行代码的编写。过程中虽然遇到一些问题，一时半会无法解决，但是也通过积极找寻解决办法来将其解决，总体来说，本次课设带来的意义非凡。</p>
<h1 id="10-参考文献"><a href="#10-参考文献" class="headerlink" title="10.参考文献"></a>10.参考文献</h1><p>[1]<a href="http://python.jobbole.com/">http://python.jobbole.com/</a>  Python基础教程网站.</p>
<p>[2]<a href="https://www.w3cschool.cn/opencv/">https://www.w3cschool.cn/opencv/</a>   opencv官方文档.</p>
<p>[3]<a href="https://github.com/yuanxiaosc/DeepNude-an-Image-to-Image-technology">https://github.com/yuanxiaosc/DeepNude-an-Image-to-Image-technology</a> 图像处理实例算法开源项目.</p>
<p>[4]<a href="https://github.com/Asabeneh/30-Days-Of-Python">https://github.com/Asabeneh/30-Days-Of-Python</a>   Python开源学习项目.</p>
<p>[5]刘瑞祯，于仕琪.OpenCV教程—基础篇[M]北京：北京航空航天大学出版社.2007.</p>
<p>[6]G. Bradski，The OpenCV Library[M].ResearchGate:CiNii，2000.</p>
<p>[7]张基温.C++程序设计基础[M].北京：高等教育出版社.2003.</p>
<p>[8]侯俊杰，深入浅出MFC[M].武汉：华中科技大学出版社.2001.</p>
<p>[9]冈萨雷斯·数字图像处理（第二版）[M].北京：电子工业出版社.2005.</p>
<p>[10]于仕琪译，学习OpenCV（中文版）[M].北京：清华大学出版社.2009.</p>
]]></content>
      <categories>
        <category>CV学习笔记</category>
        <category>项目展示</category>
        <category>学术研究</category>
        <category>Python学习笔记</category>
      </categories>
      <tags>
        <tag>VSCode</tag>
        <tag>CV</tag>
        <tag>PyCharm</tag>
        <tag>BSD</tag>
        <tag>mask</tag>
        <tag>色相饱和</tag>
        <tag>Numpy</tag>
        <tag>蒙版</tag>
        <tag>图像处理</tag>
        <tag>数字图像</tag>
        <tag>MFC</tag>
      </tags>
  </entry>
  <entry>
    <title>个人博客设计</title>
    <url>/060-personal-blog-design/</url>
    <content><![CDATA[<h1 id="一、问题概述"><a href="#一、问题概述" class="headerlink" title="一、问题概述"></a>一、问题概述</h1><p>在Internet飞速发展的今天，互联网成为人们快速获取、发布和传递信息的重要渠道，它在人们政治、经济、生活等各个方面发挥着重要的作用。因此网站建设在Internet应用上的地位显而易见，它已成为政府、企事业单位信息化建设中的重要组成部分，从而倍受人们的重视。我们当代大学生更是离不开网络给我们带来的好处与便利，因此掌握网页设计能力以及成为了一门计算机专业学生必不可少的能力。这也与本课程的目的，即通过实践使同学们经历网页制作的全过程，通过设计达到掌握网页设计、制作的技巧不谋而合。<br>我们需要了解和熟悉网页设计的基础知识和实现技巧。给出网页设计方案，利用合适图文素材设计制作符合要求的网页设计作品。<br>Web设计也有利于我们熟练掌握Dreamweaver、HBuild、WebStorm等软件的的操作和应用。增强动手实践能力，进一步加强自身综合素质。学会独立思考和个人动手能力，逐渐培养做一个完整的项目。</p>
<h1 id="二、Web页面设计需求分析"><a href="#二、Web页面设计需求分析" class="headerlink" title="二、Web页面设计需求分析"></a>二、Web页面设计需求分析</h1><p>本次课程设计大作业的要求是制作一个电商购物网站，不过由于我的个人博客制作，在过去半年当中，已经利用闲暇时间，完成了一个相对较为成熟的个人博客项目，加上最近半个月几门课都开始进行课程设计，临时加了两门课的期中考试，导致制作时间紧张，所以决定以该项目作为本人课程设计提交作业。在整体页面布局，实现方式上，与电商购物网页相差不大，此外，在特效上加入了一些细节，还有一些额外添加的功能，例如音乐的添加，bing每日随机图片接口的调用等等，都为本项目增添了一丝新鲜感。<br>设计一个网站，首先要做的就是进行页面布局的设计，如何实现基本的功能，一个网站基本的几个页面设计，加上跳转的实现。其次是进行所需资源的查找获取，将获取的资源与设计好的大概页面进行整合调整；如何美化页面上的内容，使页面更加的一体化，最后呈现给访问的游客效果需要符合访问者的使用感受。最后是额外功能的添加，使网站能更加有特色且有趣。结合以上几点，我开始设计我的个人博客网站。</p>
<h1 id="三、Web页面设计概要分析"><a href="#三、Web页面设计概要分析" class="headerlink" title="三、Web页面设计概要分析"></a>三、Web页面设计概要分析</h1><h2 id="1-Web页面开发环境"><a href="#1-Web页面开发环境" class="headerlink" title="1.Web页面开发环境"></a>1.Web页面开发环境</h2><p>(1)所用设备：机械革命X6Ti版本<br>(2)开发所用OS：Windows 10 专业版<br>(3)电脑详细设置：<br>设备名称    DESKTOP-7S5VJR1<br>处理器    Intel(R) Core(TM) i7-6700HQ CPU @ 2.60GHz   2.60 GHz<br>机带 RAM    24.0 GB<br>设备 ID    6F1D308D-A466-4333-98B4-5D6B7C452A60<br>产品 ID    00331-10000-00001-AA926<br>系统类型    64 位操作系统, 基于 x64 的处理器<br>笔和触控    没有可用于此显示器的笔或触控输入<br>(4)开发软件：WebStorm 2020.1 x64<br>(5)项目部署平台：Github</p>
<h2 id="2-Web页面设计技术"><a href="#2-Web页面设计技术" class="headerlink" title="2.Web页面设计技术"></a>2.Web页面设计技术</h2><p>(1)标记符<code>&lt;html&gt;</code>，说明该文件是用超文本标记语言（本标签的中文全称）来描述的，它是文件的开头；而<code>&lt;/html&gt;</code>，则表示该文件的结尾，它们是超文本标记语言文件的开始标记和结尾标记。<br>超级文本标记语言文档制作不是很复杂，但功能强大，支持不同数据格式的文件镶入，这也是万维网（www）盛行的原因之一。</p>
<p>(2)CSS层叠样式表（英文全称：Cascading Style Sheets）是一种用来表现HTML（标准通用标记语言的一个应用）或XML（标准通用标记语言的一个子集）等文件样式的计算机语言。<br>CSS不仅可以静态地修饰网页，还可以配合各种脚本语言动态地对网页各元素进行格式化。<br>CSS能够对网页中元素位置的排版进行像素级精确控制，支持几乎所有的字体字号样式，拥有对网页对象和模型样式编辑的能力。<br>(3)Javascript是一种属于网络的脚本语言，已经被广泛用于Web应用开发，常用来为网页添加各式各样的动态功能，为用户提供更流畅美观的浏览效果。通常Javascript脚本是通过嵌入在HTML中来实现自身的功能的。<br>是一种解释性脚本语言（代码不进行预编译）。主要用来向HTML（标准通用标记语言下的一个应用）页面添加交互行为。可以直接嵌入HTML页面，但写成单独的js文件有利于结构和行为的分离。跨平台特性，在绝大多数浏览器的支持下，可以在多种平台下运行（如Windows、Linux、Mac.Android、iOS等）Javascript脚本语言同其他语言一样，有它自身的基本数据类型，表达式和算术运算符及程序的基本程序框架。Javascript提供了四种基本的数据类型和两种特殊数据类型用来处理数据和文字。而变量提供存放信息的地方，表达式则可以完成较复杂的信息处理。</p>
<h2 id="3-Web页面的总体结构设计"><a href="#3-Web页面的总体结构设计" class="headerlink" title="3.Web页面的总体结构设计"></a>3.Web页面的总体结构设计</h2><p>页面总体效果布局<br>页面由首页、文章、归档、标签、友链、关于、搜索、暗黑模式组成。每一个部分下又有其各自的组成部分，例如首页的内容比较丰富，最上方有bing每日一图，可以随着每次刷新，随机调用bing的图片；然后是头像，当鼠标移动到上面之后，会进行一次旋转；还有一些跳转链接，悬浮会有动态变化，并在上方跳出链接是指向什么网站平台；下方左边部分，每一个文章板块，都会带有文章标题、文章发布日期、标签、头像、发布人、阅读按钮和二维码分享选项；右边部分，有一言，bing接口的图像一样，可以随着页面的每次刷新，给出经典的一句话；再往下，分别有标签，这里标签采用了一些动态效果，标签会进行移动，当鼠标悬浮在上面时，标签会停止；音乐方面，调用了网易云网页的链接，点击即可进行播放；天气使用的是心知天气的AIP接口；下方还有合作邮箱和朋友链接。详细布局导图如下图所示。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902150443.png" alt="图3-1 页面总体布局"></p>
<p>代码总体布局，以主页面为例，其他页面和主页面代码相差不大<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902150509.png" alt="图3-2 代码总体布局"></p>
<p>主页面最终效果图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902150534.png" alt="图3-3 主页面最终效果图"></p>
<h1 id="四、Web页面详细设计"><a href="#四、Web页面详细设计" class="headerlink" title="四、Web页面详细设计"></a>四、Web页面详细设计</h1><h2 id="1-主页面"><a href="#1-主页面" class="headerlink" title="1.主页面"></a>1.主页面</h2><p>在整体布局上可分为 Header部分，Main部分以及Footer部分。<br>主页面的Header部分<br>主要分成两大部分，一个是PC端菜单(pc-menu)和移动端菜单(mobile-menu)<br>整体的页面样式通过id和class来控制，其中包括搜索框＋菜单栏，整体布局由<code>div --&gt; nav --&gt; ul --li</code><br>示例代码:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;pc-menu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-menu&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-title&quot;</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;menu-main&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-main&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/posts&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/archives&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io/tags&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/friends&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/post/about&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/search/index.html&quot;</span> <span class="attr">class</span>=<span class="string">&quot;searchform&quot;</span> <span class="attr">data-update</span>=<span class="string">&quot;1599741130898&quot;</span> <span class="attr">id</span>=<span class="string">&quot;gridea-search-form&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">autofocus</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search-input&quot;</span> <span class="attr">id</span>=<span class="string">&quot;s&quot;</span> <span class="attr">name</span>=<span class="string">&quot;q&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Search...&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">spellcheck</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mobile-menu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/search/index.html&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mobile-searchform&quot;</span> <span class="attr">data-update</span>=<span class="string">&quot;1599741130898&quot;</span> <span class="attr">id</span>=<span class="string">&quot;gridea-search-form&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">autofocus</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search-input&quot;</span> <span class="attr">id</span>=<span class="string">&quot;s&quot;</span> <span class="attr">name</span>=<span class="string">&quot;q&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Search...&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">spellcheck</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&quot;list-style: none;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/posts&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/archives&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io/tags&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/friends&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/post/about&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;theme-btn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;theme-btn&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;App.changeTheme()&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-moon&quot;</span> <span class="attr">id</span>=<span class="string">&quot;themeIcon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="主页面的Main部分"><a href="#主页面的Main部分" class="headerlink" title="主页面的Main部分"></a>主页面的Main部分</h3><p>整体分成三大部分，usercard部分、Main-part部分和sidebar部分。usercard部分也就是属于自我介绍的部分，居三大部分的上首，而main-part部分承担着显示文章列表的作用。sidebar部分也就是所谓的侧边栏，来显示一言、天气、友链、标签云、音乐和合作邮箱的显示。在Main部分的整体上，采用<code>&lt;li class=”lite-item”&gt;&lt;li&gt;</code>的方式添加一个卡片或者块的方式来显示内容，以此来达到，减少重复性代码，和便于后期维护代码<br>其中一言的api,调用的是<a href="https://v1.hitokoto.cn网站上的接口，具体实现方法如下">https://v1.hitokoto.cn网站上的接口，具体实现方法如下</a>:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getHitokoto</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();<span class="comment">//新建一个xhr对象</span></span><br><span class="line">            xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;https://v1.hitokoto.cn&#x27;</span>);<span class="comment">//打开https://v1.hitokoto.cn</span></span><br><span class="line">            xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="number">4</span>) &#123;   <span class="comment">//如果加载成功</span></span><br><span class="line">                    <span class="keyword">var</span> typed = <span class="keyword">new</span> <span class="title class_">Typed</span>(<span class="string">&quot;#hitokoto&quot;</span>, &#123;</span><br><span class="line">                        <span class="attr">strings</span>: [<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>).<span class="property">hitokoto</span>],  <span class="comment">//解析Json格式的数据</span></span><br><span class="line">                        <span class="attr">startDelay</span>: <span class="number">100</span>,</span><br><span class="line">                        <span class="attr">typeSpeed</span>: <span class="number">200</span>,</span><br><span class="line">                        <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">backSpeed</span>: <span class="number">100</span>,</span><br><span class="line">                        <span class="attr">showCursor</span>: <span class="literal">true</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            xhr.<span class="title function_">send</span>();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><br>天气功能的实现，调用的是心知天气的api，具体代码如下:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">//代码来源心知天气示例代码</span></span><br><span class="line">        (<span class="keyword">function</span> (<span class="params">a, h, g, f, e, d, c, b</span>) &#123;</span><br><span class="line">            b = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                d = h.<span class="title function_">createElement</span>(g);</span><br><span class="line">                c = h.<span class="title function_">getElementsByTagName</span>(g)[<span class="number">0</span>];</span><br><span class="line">                d.<span class="property">src</span> = e;</span><br><span class="line">                d.<span class="property">charset</span> = <span class="string">&quot;utf-8&quot;</span>;</span><br><span class="line">                d.<span class="property">async</span> = <span class="number">1</span>;</span><br><span class="line">                c.<span class="property">parentNode</span>.<span class="title function_">insertBefore</span>(d, c)</span><br><span class="line">            &#125;;</span><br><span class="line">            a[<span class="string">&quot;SeniverseWeatherWidgetObject&quot;</span>] = f;</span><br><span class="line">            a[f] || (a[f] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                (a[f].<span class="property">q</span> = a[f].<span class="property">q</span> || []).<span class="title function_">push</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">            &#125;);</span><br><span class="line">            a[f].<span class="property">l</span> = +<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">            <span class="keyword">if</span> (a.<span class="property">attachEvent</span>) &#123;</span><br><span class="line">                a.<span class="title function_">attachEvent</span>(<span class="string">&quot;onload&quot;</span>, b)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                a.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, b, <span class="literal">false</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;(<span class="variable language_">window</span>, <span class="variable language_">document</span>, <span class="string">&quot;script&quot;</span>, <span class="string">&quot;SeniverseWeatherWidget&quot;</span>, <span class="string">&quot;//cdn.sencdn.com/widget2/static/js/bundle.js?t=&quot;</span> + <span class="built_in">parseInt</span>((<span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>() / <span class="number">100000000</span>).<span class="title function_">toString</span>(), <span class="number">10</span>)));</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title class_">SeniverseWeatherWidget</span>(<span class="string">&#x27;show&#x27;</span>, &#123;</span><br><span class="line">            <span class="attr">flavor</span>: <span class="string">&quot;slim&quot;</span>,</span><br><span class="line">            <span class="attr">location</span>: <span class="string">&quot;WWEFQFPJZ7T8&quot;</span>,</span><br><span class="line">            <span class="attr">geolocation</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">language</span>: <span class="string">&quot;auto&quot;</span>,</span><br><span class="line">            <span class="attr">unit</span>: <span class="string">&quot;c&quot;</span>,</span><br><span class="line">            <span class="attr">theme</span>: <span class="string">&quot;auto&quot;</span>,</span><br><span class="line">            <span class="attr">token</span>: <span class="string">&quot;61bcc333-3305-4728-9465-6785274bb0a3&quot;</span>,/这里填写自己的 t o k e n </span><br><span class="line">            <span class="attr">hover</span>: <span class="string">&quot;enabled&quot;</span>,</span><br><span class="line">            <span class="attr">container</span>: <span class="string">&quot;tp-weather-widget&quot;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>友链部分的实现，具体代码如下:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">    &lt;li <span class="keyword">class</span>=<span class="string">&quot;lite-item&quot;</span>&gt;</span><br><span class="line">                    <span class="language-xml"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;lite-item-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;lite-item-title&quot;</span>&gt;</span><span class="symbol">&amp;#x1F468;</span><span class="symbol">&amp;#x200D;</span><span class="symbol">&amp;#x1F4BB;</span><span class="symbol">&amp;#x53CB;</span><span class="symbol">&amp;#x94FE;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line">                    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textwidget&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">p</span> <span class="attr">onclick</span>=<span class="string">&quot;javascript:top.location=&#x27;http://8.210.6.78/&#x27;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;link_a&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">alt</span>=<span class="string">&quot;TIM TIAN的个人博客 &quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://8.210.6.78/&quot;</span>&gt;</span>TIM TIAN的个人博客 -点滴之恩，涌泉相报<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">p</span> <span class="attr">onclick</span>=<span class="string">&quot;javascript:top.location=&#x27;https://libandhhh.github.io/&#x27;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;link_a&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">alt</span>=<span class="string">&quot;人生小谈 &quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://libandhhh.github.io/&quot;</span>&gt;</span>人生小谈 -人生小谈<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">标签云代码的实现，采用了<span class="title class_">JQuery</span>中的组件svg3dtagcloud。具体实现代码如下:</span><br><span class="line"><span class="string">``</span><span class="string">` JavaScript</span></span><br><span class="line"><span class="string">&lt;div class=&quot;textwidget&quot;&gt;</span></span><br><span class="line"><span class="string">                        &lt;div id=&#x27;tags&#x27; style=&quot;height: auto;width: 360;&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;script src=&quot;https://YuZhangWang.github.io/media/js/svg3dtagcloud.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">                        &lt;script&gt;</span></span><br><span class="line"><span class="string">                            $(document).ready(function () &#123;//在页面加载时执行</span></span><br><span class="line"><span class="string">            //新建一个实体</span></span><br><span class="line"><span class="string">                                var entries = ([</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/g2OThi30W/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/YkaIySj74c/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/cZAQUJL4K/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/Ru1gggYOwL/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/JC2eYnJ5u/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/yJTwqsoBr/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/dopWVAXWp/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/nVt_3FFtf/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/CtEU7_FnA/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;,</span></span><br><span class="line"><span class="string">                                    &#123;</span></span><br><span class="line"><span class="string">                                        label: &#x27;&#x27;,</span></span><br><span class="line"><span class="string">                                        url: &#x27;https://YuZhangWang.github.io/tag/zhgRe1hYZ/&#x27;,</span></span><br><span class="line"><span class="string">                                        target: &#x27;_button&#x27;</span></span><br><span class="line"><span class="string">                                    &#125;</span></span><br><span class="line"><span class="string">                                ]);</span></span><br><span class="line"><span class="string">                                var settings = &#123;</span></span><br><span class="line"><span class="string">                                    entries: entries, //数据</span></span><br><span class="line"><span class="string">                                    width: 300, //宽度</span></span><br><span class="line"><span class="string">                                    height: 300, //高度</span></span><br><span class="line"><span class="string">                                    radius: &#x27;50%&#x27;,</span></span><br><span class="line"><span class="string">                                    radiusMin: 50,</span></span><br><span class="line"><span class="string">                                    bgDraw: false, //是否显示背景</span></span><br><span class="line"><span class="string">                                    bgColor: &#x27;#fff&#x27;, //背景颜色</span></span><br><span class="line"><span class="string">                                    opacityOver: 1.00,</span></span><br><span class="line"><span class="string">                                    opacityOut: 0.05,</span></span><br><span class="line"><span class="string">                                    opacitySpeed: 6,</span></span><br><span class="line"><span class="string">                                    fov: 360,</span></span><br><span class="line"><span class="string">                                    speed: 0.3, //旋转的速度</span></span><br><span class="line"><span class="string">                                    fontFamily: &#x27;Oswald, Arial, sans-serif&#x27;,</span></span><br><span class="line"><span class="string">                                    fontSize: &#x27;18&#x27;, //默认字体大小</span></span><br><span class="line"><span class="string">                                    fontColor: &#x27;#666&#x27;, //默认字体颜色</span></span><br><span class="line"><span class="string">                                    fontWeight: &#x27;normal&#x27;, //bold</span></span><br><span class="line"><span class="string">                                    fontStyle: &#x27;normal&#x27;, // italic </span></span><br><span class="line"><span class="string">                                    fontStretch: &#x27;normal&#x27;, //wider, narrower, ultra-condensed, extra-condensed, condensed, semi-condensed, semi-expanded, expanded, extra-expanded, ultra-expanded</span></span><br><span class="line"><span class="string">                                    fontToUpperCase: true,</span></span><br><span class="line"><span class="string">                                    tooltipFontFamily: &#x27;Oswald, Arial, sans-serif&#x27;,</span></span><br><span class="line"><span class="string">                                    tooltipFontSize: &#x27;16&#x27;,</span></span><br><span class="line"><span class="string">                                    tooltipFontColor: &#x27;red&#x27;,</span></span><br><span class="line"><span class="string">                                    tooltipFontWeight: &#x27;normal&#x27;, //bold</span></span><br><span class="line"><span class="string">                                    tooltipFontStyle: &#x27;normal&#x27;, //italic </span></span><br><span class="line"><span class="string">                                    tooltipFontStretch: &#x27;normal&#x27;, //wider, narrower, ultra-condensed, extra-condensed, condensed, semi-condensed, semi-expanded, expanded, extra-expanded, ultra-expanded</span></span><br><span class="line"><span class="string">                                    tooltipFontToUpperCase: false,</span></span><br><span class="line"><span class="string">                                    tooltipTextAnchor: &#x27;left&#x27;,</span></span><br><span class="line"><span class="string">                                    tooltipDiffX: 0,</span></span><br><span class="line"><span class="string">                                    tooltipDiffY: 5</span></span><br><span class="line"><span class="string">                                &#125;;</span></span><br><span class="line"><span class="string">                                //var svg3DTagCloud = new SVG3DTagCloud( document.getElementById( &#x27;holder&#x27;  ), settings );</span></span><br><span class="line"><span class="string">                                $(&#x27;#tags&#x27;).svg3DTagCloud(settings);</span></span><br><span class="line"><span class="string">                            &#125;);</span></span><br><span class="line"><span class="string">                        &lt;/script&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br></pre></td></tr></table></figure><br>音乐部分的实现，采用了Aplayer Js的引用，根据官方文档的使用方法，最终代码如下:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://gcore.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/APlayer.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">                <span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://gcore.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;player&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;lite-item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;lite-item-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;lite-item-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                            <span class="symbol">&amp;#x1F3B5;</span><span class="symbol">&amp;#x97F3;</span><span class="symbol">&amp;#x4E50;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textwidget&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;playerbox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="keyword">function</span> <span class="title function_">LoadPlayer</span>(<span class="params"></span>) &#123;<span class="comment">//加载播放器函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="keyword">var</span> music_array = [];</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;高潔なる教皇&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=30482372.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;菅野祐悟&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p2.music.126.net/S3liZdT3hhoNjIyXdmYAxA==/7873602766692554.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;像我这样的人&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=569213220.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;毛不易&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p2.music.126.net/vmCcDvD1H04e9gm97xsCqg==/109951163350929740.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;红黑&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=1378992201.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;小星星Aurora&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p1.music.126.net/1ptq1PGigEuUf1fY8CNazA==/109951164225342779.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;没有理由&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=550138197.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;永彬Ryan.B/周延英（英子-effie）&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p1.music.126.net/VAux0wpbTJz6timFFHVgLQ==/109951163237307291.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;il vento d&amp;#39;oro（JOJO的奇妙冒险第五部黄金之风 主题处刑BGM）（翻自 菅野佑悟）&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=1311263606.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;Kyle Xian&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p1.music.126.net/ttrv98op6Mer9W1hydwKZw==/109951163558951996.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;下山&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=1404885266.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;要不要买菜&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p2.music.126.net/Aj4X1kpV-C2LLi-e_Xhgvg==/109951164499744148.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        music_array.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;Android&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=27949350.mp3&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">artist</span>: <span class="string">&#x27;Kraddy&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">cover</span>: <span class="string">&#x27;http://p2.music.126.net/7RF7JaeN7-CfMe2gosMehw==/109951163926995920.jpg?param=130y130&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="keyword">const</span> ap = <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;playerbox&#x27;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">audio</span>: music_array</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title class_">LoadPlayer</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>合作邮箱的实现,在前面已经说到，整体使用<code>&lt;li class=”lite-item”&gt;&lt;li&gt;</code>的方式添加显示块，因此，代码如下:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;li <span class="keyword">class</span>=<span class="string">&quot;lite-item&quot;</span>&gt;</span><br><span class="line">                   <span class="language-xml"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;lite-item-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;lite-item-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                           合作邮箱(快来联系我！！！)</span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line">                   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textwidget&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;textwidget-box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; height:auto;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                           YuZhangWang233@163.com</span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">               &lt;/li&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="主页面的footer部分"><a href="#主页面的footer部分" class="headerlink" title="主页面的footer部分"></a>主页面的footer部分</h3><p>在footer部分中，有三个部分构成：备案号，页面访问量及建站时间，版权信息显示，整体布局自上而下。因此实现代码简单，整体代码如下:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">div class=&quot;copyright&quot;&gt;</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:300px;margin:0 auto; padding:0px 0;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=没有号&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">style</span>=<span class="string">&quot;display:inline-block;text-decoration:none;height:20px;line-height:20px;&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://yanxuan.nosdn.127.net/b610ced5ac6a0e25cf6edf5606c69775.png&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:left;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;icpinfo&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px;&quot;</span>&gt;</span></span><br><span class="line">                    苏公网安备 没有号</span><br><span class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size:12px&quot;</span>&gt;</span></span><br><span class="line">            访问量:</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">data-hk-page</span>=<span class="string">&quot;current&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="symbol">&amp;nbsp;</span></span><br><span class="line">            已经建站 <span class="tag">&lt;<span class="name">b</span> <span class="attr">id</span>=<span class="string">&#x27;build_time&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://gcore.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io/CDN/js/time.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            buildTime = <span class="string">&#x27;2020-5-13&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setInterval</span>(show_date_time, <span class="number">1000</span>, buildTime);</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="symbol">&amp;#x7248;</span><span class="symbol">&amp;#x6743;</span><span class="symbol">&amp;#x6240;</span><span class="symbol">&amp;#x6709;</span> <span class="symbol">&amp;copy;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(); <span class="comment">// 新建一个Date()对象</span></span></span><br><span class="line"><span class="language-javascript">            data2 = <span class="keyword">new</span> <span class="title class_">Date</span>(buildTime.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>));<span class="comment">//将-替换成/ 的时间格式</span></span></span><br><span class="line"><span class="language-javascript">            nowYear = date.<span class="title function_">getFullYear</span>().<span class="title function_">toString</span>() <span class="comment">//获取今年年份</span></span></span><br><span class="line"><span class="language-javascript">            buildYear = data2.<span class="title function_">getFullYear</span>().<span class="title function_">toString</span>(); <span class="comment">//获取建立年份</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (buildYear == nowYear) &#123;   <span class="comment">// DOM操作</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;span class=&quot;my-face&quot;&gt;&#x27;</span> + nowYear + <span class="string">&#x27;&lt;/span&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">write</span>(buildYear + <span class="string">&#x27;-&lt;span class=&quot;my-face&quot;&gt;&#x27;</span> + nowYear + <span class="string">&#x27;&lt;/span&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span>|<span class="symbol">&amp;nbsp;</span>Powered by</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/YuZhangWang/YuZhangWang.github.io&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">            Github</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> back2TopText = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.back-to-top-text&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//增加个事件，监听滚动</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> percent = <span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">scrollTop</span> / (<span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">scrollHeight</span> - <span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">clientHeight</span>) * <span class="number">100</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (back2TopText) &#123;</span></span><br><span class="line"><span class="language-javascript">                back2TopText.<span class="property">textContent</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(percent).<span class="title function_">toString</span>() + <span class="string">&#x27;%&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//增加个事件监听，页面是否被选中</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;visibilitychange&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">hidden</span> ? (<span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;\uD83D\uDE25&quot;</span> + <span class="title class_">OriginTitile</span>, <span class="built_in">clearTimeout</span>(titleTime)) : (<span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;\uD83D\uDE1D&quot;</span> + <span class="title class_">OriginTitile</span>, titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span></span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">2E3</span>))</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">App</span>.<span class="title function_">hitokoto</span>();<span class="comment">// 执行一言函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">App</span>.<span class="title function_">clearLog</span>(); <span class="comment">//清空控制台输出</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">App</span>.<span class="title function_">outputlog</span>();<span class="comment">//输出B l o g 标识</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> logo = <span class="string">&#x27;%c\&#x27;%cBlog&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">info</span>(</span></span><br><span class="line"><span class="language-javascript">            logo,</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;color: #ffffff; background: #000000; padding:5px 10px 5px 10px;font-size:40px;border-radius:12px 0 0 12px;&#x27;</span>, <span class="string">&#x27;color: #000000; background: #FE9A00; padding:5px 10px;font-size:40px;border-radius:0 12px 12px 0;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-子页面"><a href="#2-子页面" class="headerlink" title="2.子页面"></a>2.子页面</h2><p>  选取其中一个特例，文章页面，其他的页面与这个页面显示的方式类同，均为一个模板。<br>文章页面：<br>通过最终效果得知，在整体布局上可分为 H e a d e r部分，M a i n部分以及F o o t e r部分。<br>文章页面的Header部分<br>主要分成两大部分，一个是P C端菜单(p c - m e n u)和移动端菜单(mobile-menu)<br>整体的页面样式通过i d和c l a s s来控制<br>其中包括搜索框＋菜单栏，整体布局由div —&gt; nav —&gt; ul —li<br>示例代码:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;pc-menu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-menu&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-title&quot;</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;menu-main&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-main&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/posts&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/archives&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io/tags&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/friends&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/post/about&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/search/index.html&quot;</span> <span class="attr">class</span>=<span class="string">&quot;searchform&quot;</span> <span class="attr">data-update</span>=<span class="string">&quot;1599741130898&quot;</span> <span class="attr">id</span>=<span class="string">&quot;gridea-search-form&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">autofocus</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search-input&quot;</span> <span class="attr">id</span>=<span class="string">&quot;s&quot;</span> <span class="attr">name</span>=<span class="string">&quot;q&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Search...&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">spellcheck</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mobile-menu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/search/index.html&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mobile-searchform&quot;</span> <span class="attr">data-update</span>=<span class="string">&quot;1599741130898&quot;</span> <span class="attr">id</span>=<span class="string">&quot;gridea-search-form&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">autofocus</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search-input&quot;</span> <span class="attr">id</span>=<span class="string">&quot;s&quot;</span> <span class="attr">name</span>=<span class="string">&quot;q&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Search...&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">spellcheck</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&quot;list-style: none;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/posts&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/archives&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io/tags&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/friends&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page_item page-item-2&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/post/about&quot;</span>&gt;</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;theme-btn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;theme-btn&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;App.changeTheme()&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-moon&quot;</span> <span class="attr">id</span>=<span class="string">&quot;themeIcon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="comment">&lt;!--将改变主题的函数change Theme() 赋值给 theme - btn 的onclick事件--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="文章页面的Main部分"><a href="#文章页面的Main部分" class="headerlink" title="文章页面的Main部分"></a>文章页面的Main部分</h3><p>如同主页面一样，类lite-item 从中构成显示文章的部分。布局的结构由<code>&lt;div id=”main”&gt; --&gt; &lt;div id=”main-part”&gt; --&gt;&lt;div class=”lite-item”&gt; --&gt; &lt;article&gt;</code>。其中在该部分，我们通过最终效果得知，已有三大部分构成，post-header,post-body，post-footer所构成。<br>Post-header部分<br>作者，发表日期，作者的头像，文章的标题，文章的标签，文章的阅读量，文章阅读的所需时间这几个部分构成。其中显示的图标svg，均来自阿里矢量图。<br>因此具体代码如下:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;post-type-header&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;thumbnail-link&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: transparent;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;thumbnail-shadow&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;post-title&quot;</span>&gt;</span></span><br><span class="line">                            在list中正序和倒序删除元素区别</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-info&quot;</span>&gt;</span></span><br><span class="line">                                                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-category&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-novel&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                                        </span><br><span class="line">                                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">onclick</span>=<span class="string">&quot;javascript:top.location=&#x27;https://YuZhangWang.github.io/tag/yJTwqsoBr/&#x27;&quot;</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                                </span><br><span class="line">                                                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-view&quot;</span>&gt;</span></span><br><span class="line">                                                    </span><br><span class="line">                                                        <span class="symbol">&amp;nbsp;</span>•<span class="symbol">&amp;nbsp;</span></span><br><span class="line">                                                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;leancloud_visitors&quot;</span></span></span><br><span class="line"><span class="tag">                                                          <span class="attr">data-flag-title</span>=<span class="string">&quot;在list中正序和倒序删除元素区别&quot;</span></span></span><br><span class="line"><span class="tag">                                                          <span class="attr">id</span>=<span class="string">&quot;/post/zai-list-zhong-zheng-xu-he-dao-xu-shan-chu-yuan-su-qu-bie/&quot;</span>&gt;</span></span><br><span class="line">                                                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-view&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="symbol">&amp;nbsp;</span>阅读量<span class="symbol">&amp;nbsp;</span></span><br><span class="line">                                                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;leancloud-visitors-count&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                                            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                                    </span><br><span class="line">                                                            <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="symbol">&amp;nbsp;</span>•<span class="symbol">&amp;nbsp;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-readtime&quot;</span>&gt;</span>阅读时间:</span><br><span class="line">                                            2.4分<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-edit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-relative&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar avatar-100 photo&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">height</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">src</span>=<span class="string">&quot;https://YuZhangWang.github.io/images/avatar.png?v=1599741130898&quot;</span> <span class="attr">srcset</span>=<span class="string">&quot;https://YuZhangWang.github.io/images/avatar.png?v=1599741130898&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-type-author&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;author&quot;</span></span></span><br><span class="line"><span class="tag">                                                          <span class="attr">title</span>=<span class="string">&quot;由&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span></span></span><br><span class="line"><span class="tag">                                <span class="attr">class</span>=<span class="string">&quot;Card Card-certify&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-publish&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">                                                      <span class="attr">class</span>=<span class="string">&quot;fa fa-calendar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="symbol">&amp;nbsp;</span>2020-05-16<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Post-body部分"><a href="#Post-body部分" class="headerlink" title="Post-body部分"></a>Post-body部分</h3><p>在该部分中，文章的内容为主体，以body部分的尾部添加个打赏功能的显示为辅，其中代码高亮通过prism.js来实现控制。<br>具体代码如下:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-main post-type-main&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-content&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-content-real&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>话说有下面这两段代码<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">strong</span>&gt;</span>代码一<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">&quot;language-java&quot;</span>&gt;</span>ArrayList list = new ArrayList();</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>aaa<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>bbb<span class="symbol">&amp;quot;</span>);</span><br><span class="line"></span><br><span class="line">        for(int i = list.size() - 1 ; i <span class="symbol">&amp;gt;</span>= 0 ; i--)&#123;</span><br><span class="line">            if(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>.equals(list.get(i)))&#123;</span><br><span class="line">                list.remove(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>代码二<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">&quot;language-java&quot;</span>&gt;</span>ArrayList list = new ArrayList();</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>aaa<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        list.add(<span class="symbol">&amp;quot;</span>bbb<span class="symbol">&amp;quot;</span>);</span><br><span class="line">        </span><br><span class="line">        for(int  i = 0 ; i <span class="symbol">&amp;lt;</span> list.size() ; i++)&#123;</span><br><span class="line">            if(<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>.equals(list.get(i)))&#123;</span><br><span class="line">                list.remove(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>请问哪一段代码可以将加入的“java”元素全部删除？<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>答案当然是代码一啦。什么？你不信？那就让我们从实际代码运行来看一下效果吧。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>代码一测试代码和运行结果如下<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span></span></span><br><span class="line"><span class="tag">                                     <span class="attr">src</span>=<span class="string">&quot;https://YuZhangWang.github.io/post-images/1589561613703.png&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span></span></span><br><span class="line"><span class="tag">                                     <span class="attr">src</span>=<span class="string">&quot;https://YuZhangWang.github.io/post-images/1589561618806.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>代码二测试代码和运行结果如下<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span></span></span><br><span class="line"><span class="tag">                                     <span class="attr">src</span>=<span class="string">&quot;https://YuZhangWang.github.io/post-images/1589561647440.png&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span></span></span><br><span class="line"><span class="tag">                                     <span class="attr">src</span>=<span class="string">&quot;https://YuZhangWang.github.io/post-images/1589561651052.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>究其原因，为什么看上去可以实现一样功能的数组会导致结果不同？其实是因为你忽略了一个点，list中对元素进行删除添加操作之后，<span class="tag">&lt;<span class="name">code</span>&gt;</span>list会产生动态变化<span class="tag">&lt;/<span class="name">code</span>&gt;</span>，删除一个元素，后面的元素会补全上面元素的位置。</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span>让我们来分析一下代码二，<span class="tag">&lt;<span class="name">strong</span>&gt;</span>代码二是正序删除<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                当第一个“java”被移除之后，“aaa”位于第一的位置，第二个<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>位于第二的位置，第三个<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>位于第三的位置，<span class="symbol">&amp;quot;</span>bbb<span class="symbol">&amp;quot;</span>位于第四的位置。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                然后下标+1，指向上一步操作排列好的第二个位置。于是，位于第二个位置的第二个“java”也能顺利删除，此时<span class="symbol">&amp;quot;</span>aaa<span class="symbol">&amp;quot;</span>仍旧在第一的位置，第三个<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>来到了第二的位置，<span class="symbol">&amp;quot;</span>bbb<span class="symbol">&amp;quot;</span>来到了第三的位置。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                                然后下标再+1，指向上一步操作排列好的第三个位置。但是注意此时，第三个位置是<span class="symbol">&amp;quot;</span>bbb<span class="symbol">&amp;quot;</span>，而我们本来想要继续删除的第三个<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>此时却在第二个位置。所以，代码二会导致漏删第三个<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>，致使程序块达不到想要的效果。</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>代码一是倒序删除<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>，每一个<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>删除之后，只对后面的元素产生影响，而后面的元素又都是经过删除操作，确保不存在<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>元素，因此，代码二的倒序删除法可以实现彻底删除所有<span class="symbol">&amp;quot;</span>java<span class="symbol">&amp;quot;</span>元素的操作。</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;reward &quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;reward-button &quot;</span>&gt;</span><span class="symbol">&amp;yen;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;reward-code &quot;</span>&gt;</span></span><br><span class="line">                                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;alipay-code &quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;support &quot;</span> <span class="attr">class</span>=<span class="string">&quot;alipay-img &quot;</span></span></span><br><span class="line"><span class="tag">                                                                             <span class="attr">src</span>=<span class="string">&quot;//yuzhangwang.github.io/支付宝.jpg&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Alipay<span class="tag">&lt;/<span class="name">b</span>&gt;</span>                                                            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;wechat-code &quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;support &quot;</span> <span class="attr">class</span>=<span class="string">&quot;wechat-img &quot;</span></span></span><br><span class="line"><span class="tag">                                                                         <span class="attr">src</span>=<span class="string">&quot;//yuzhangwang.github.io/微信.png&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Wechat<span class="tag">&lt;/<span class="name">b</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Post-footer部分"><a href="#Post-footer部分" class="headerlink" title="Post-footer部分"></a>Post-footer部分</h3><p>这里主要显示的是文章的版权声明以及所采取的MIT协议<br>具体代码如下：<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-footer&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-copyright&quot;</span>&gt;</span></span><br><span class="line">                        作者:</span><br><span class="line">                        <span class="tag">&lt;<span class="name">br</span>&gt;</span>永久链接:</span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io/post/zai-list-zhong-zheng-xu-he-dao-xu-shan-chu-yuan-su-qu-bie/&quot;</span></span></span><br><span class="line"><span class="tag">                           <span class="attr">title</span>=<span class="string">&quot;在list中正序和倒序删除元素区别&quot;</span>&gt;</span></span><br><span class="line">                            https://YuZhangWang.github.io/post/zai-list-zhong-zheng-xu-he-dao-xu-shan-chu-yuan-su-qu-bie/</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span> 协议: MIT License</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="文章页面的footer部分"><a href="#文章页面的footer部分" class="headerlink" title="文章页面的footer部分"></a>文章页面的footer部分</h3><p>  在footer部分中，有三个部分构成：备案号，页面访问量及建站时间，版权信息显示，整体布局自上而下。因此实现代码简单，整体代码如下:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">id</span>=<span class="string">&quot;foot&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;back-to-top&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;Card Card-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;back-to-top-text&quot;</span>&gt;</span>0%<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;copyright&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:300px;margin:0 auto; padding:0px 0;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=没有号&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">style</span>=<span class="string">&quot;display:inline-block;text-decoration:none;height:20px;line-height:20px;&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://yanxuan.nosdn.127.net/b610ced5ac6a0e25cf6edf5606c69775.png&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:left;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;icpinfo&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px;&quot;</span>&gt;</span></span><br><span class="line">                    苏公网安备 没有号</span><br><span class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size:12px&quot;</span>&gt;</span></span><br><span class="line">            访问量:</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">data-hk-page</span>=<span class="string">&quot;current&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="symbol">&amp;nbsp;</span></span><br><span class="line">            已经建站 <span class="tag">&lt;<span class="name">b</span> <span class="attr">id</span>=<span class="string">&#x27;build_time&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://gcore.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io/CDN/js/time.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            buildTime = <span class="string">&#x27;2020-5-13&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setInterval</span>(show_date_time, <span class="number">1000</span>, buildTime);</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="symbol">&amp;#x7248;</span><span class="symbol">&amp;#x6743;</span><span class="symbol">&amp;#x6240;</span><span class="symbol">&amp;#x6709;</span> <span class="symbol">&amp;copy;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();  <span class="comment">//获取一个日期对象</span></span></span><br><span class="line"><span class="language-javascript">            data2 = <span class="keyword">new</span> <span class="title class_">Date</span>(buildTime.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>));<span class="comment">//将建立日期的-替换成/ 并转换成时间对象，赋值给 d a t a 2。</span></span></span><br><span class="line"><span class="language-javascript">            nowYear = date.<span class="title function_">getFullYear</span>().<span class="title function_">toString</span>() <span class="comment">//将当前日期的完整年份转化为字符串格式，并赋值给now Year。</span></span></span><br><span class="line"><span class="language-javascript">            buildYear = data2.<span class="title function_">getFullYear</span>().<span class="title function_">toString</span>(); <span class="comment">//将建立日期的完整年份转化为字符串格式，并赋值给 b u i l d Y e a r .</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (buildYear == nowYear) &#123;<span class="comment">//判断建立日期和当前日期是否相等，若相等则输出当前日期 n o w Y e a r</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;span class=&quot;my-face&quot;&gt;&#x27;</span> + nowYear + <span class="string">&#x27;&lt;/span&gt;&#x27;</span>);<span class="comment">//操作dom，输出当前年份</span></span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">write</span>(buildYear + <span class="string">&#x27;-&lt;span class=&quot;my-face&quot;&gt;&#x27;</span> + nowYear + <span class="string">&#x27;&lt;/span&gt;&#x27;</span>);<span class="comment">//操作dom，输出xxxx - 2020 为格式的日期并带有心跳动画的字符串来显示</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://YuZhangWang.github.io&quot;</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span>|<span class="symbol">&amp;nbsp;</span>Powered by</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/YuZhangWang/YuZhangWang.github.io&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">            Github</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> back2TopText = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.back-to-top-text&#x27;</span>)<span class="comment">//搜索c l a s s类名为 back- to- top -text 并赋值给back2TopText</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//增加个滚动监听事件，用于显示back2TopText元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> percent = <span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">scrollTop</span> / (<span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">scrollHeight</span> - <span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">clientHeight</span>) * <span class="number">100</span>;<span class="comment">//通过一系列的运算，得到当前滚动的百分比。</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (back2TopText) &#123;</span></span><br><span class="line"><span class="language-javascript">                back2TopText.<span class="property">textContent</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(percent).<span class="title function_">toString</span>() + <span class="string">&#x27;%&#x27;</span>;<span class="comment">//给Back2TopText显示百分比</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//增加一个监听页面是否被选中的监听事件，以至于动态的改变页面标题，实现美化效果。</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;visibilitychange&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">hidden</span> ? (<span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;\uD83D\uDE25&quot;</span> + <span class="title class_">OriginTitile</span>, <span class="built_in">clearTimeout</span>(titleTime)) : (<span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;\uD83D\uDE1D&quot;</span> + <span class="title class_">OriginTitile</span>, titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span></span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">2E3</span>))</span></span><br><span class="line"><span class="language-javascript">        &#125;);<span class="comment">//通过一系列的判断来实现效果。</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">App</span>.<span class="title function_">hitokoto</span>();<span class="comment">//执行一言函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">App</span>.<span class="title function_">clearLog</span>();<span class="comment">//清空错误输出的函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">App</span>.<span class="title function_">outputlog</span>();<span class="comment">//输出带有B l o g 标识的log</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> logo = <span class="string">&#x27;%c\&#x27;%cBlog&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">info</span>(</span></span><br><span class="line"><span class="language-javascript">            logo,</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;color: #ffffff; background: #000000; padding:5px 10px 5px 10px;font-size:40px;border-radius:12px 0 0 12px;&#x27;</span>, <span class="string">&#x27;color: #000000; background: #FE9A00; padding:5px 10px;font-size:40px;border-radius:0 12px 12px 0;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        );<span class="comment">//输出格式</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-页面特效的添加"><a href="#3-页面特效的添加" class="headerlink" title="3.    页面特效的添加"></a>3.    页面特效的添加</h2><h3 id="（1）鼠标点击特效"><a href="#（1）鼠标点击特效" class="headerlink" title="（1）鼠标点击特效"></a>（1）鼠标点击特效</h3><p>点击显示特效的代码如下:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt; script &gt; //代码来自网络</span><br><span class="line">    ! function(e, t, a) &#123;</span><br><span class="line">        function n() &#123; c(&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;), i(), r() &#125;</span><br><span class="line"></span><br><span class="line">        function r() &#123;</span><br><span class="line">            for (var e = 0; e &lt; l.length; e++) l[e].alpha &lt;= 0 ? (t.body.removeChild(l[e].el), l.splice(e, 1)) : (l[e].y--, l[e].scale += .004, l[e].alpha -= .013, l[e].el.style.cssText = &quot;left:&quot; + l[e].x + &quot;px;top:&quot; + l[e].y + &quot;px;opacity:&quot; + l[e].alpha + &quot;;transform:scale(&quot; + l[e].scale + &quot;,&quot; + l[e].scale + &quot;) rotate(45deg);background:&quot; + l[e].color + &quot;;z-index:99999&quot;);</span><br><span class="line">            requestAnimationFrame(r)</span><br><span class="line">        &#125;</span><br><span class="line">        function i() &#123;</span><br><span class="line">            var t = &quot;function&quot; == typeof e.onclick &amp;&amp; e.onclick;</span><br><span class="line">            e.onclick = function(e) &#123; t &amp;&amp; t(), o(e) &#125;</span><br><span class="line">        </span><br><span class="line">        function o(e) &#123;</span><br><span class="line">            var a = t.createElement(&quot;div&quot;);</span><br><span class="line">            a.className = &quot;heart&quot;, l.push(&#123; el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: s() &#125;), t.body.appendChild(a)</span><br><span class="line">        &#125;</span><br><span class="line">        function c(e) &#123;</span><br><span class="line">            var a = t.createElement(&quot;style&quot;);</span><br><span class="line">            a.type = &quot;text/css&quot;;</span><br><span class="line">            try &#123; a.appendChild(t.createTextNode(e)) &#125; catch (t) &#123; a.styleSheet.cssText = e &#125;</span><br><span class="line">            t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a)</span><br><span class="line">        &#125;</span><br><span class="line">        function s() &#123; return &quot;rgb(255,0,0)&quot; &#125;</span><br><span class="line">        var l = [];</span><br><span class="line">        e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function(e) &#123; setTimeout(e, 1e3 / 60) &#125;, n()</span><br><span class="line">    &#125;(window, document); </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="（2）更改主题配色"><a href="#（2）更改主题配色" class="headerlink" title="（2）更改主题配色"></a>（2）更改主题配色</h3><p>实现的原理通过JQuery来控制元素的class的样式增减显示，而配色状态，则存储在localStorge，达到持久化显示该配色。而暗配色，通过css的滤镜来实现</p>
<p>具体css代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.theme-dark</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">invert</span>(<span class="number">100</span>) <span class="built_in">hue-rotate</span>(<span class="number">180deg</span>);</span><br><span class="line">    <span class="attribute">isolation</span>: isolate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>具体js代码：<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">//在加载时，读取LocalStorage中的主体值，来显示主题配色</span></span><br><span class="line">        $().<span class="title function_">ready</span>(</span><br><span class="line">            <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> themeIcon = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;themeIcon&quot;</span>);</span><br><span class="line">                <span class="keyword">var</span> currentTheme = <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;theme&#x27;</span>);<span class="comment">//获取localStorage中theme的值</span></span><br><span class="line">                <span class="keyword">if</span> (currentTheme == <span class="string">&#x27;dark&#x27;</span>) &#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;theme-dark&#x27;</span>);<span class="comment">//增加暗色主题的 c l a s s</span></span><br><span class="line">                    themeIcon.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;Card-moon&#x27;</span>);<span class="comment">//移除月亮的svg</span></span><br><span class="line">                    themeIcon.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;Card-sun&#x27;</span>);<span class="comment">//增加太阳的svg</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;theme-dark&#x27;</span>);<span class="comment">//移除暗色主题的c l a s s</span></span><br><span class="line">                    themeIcon.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;Card-sun&#x27;</span>);移除太阳的svg</span><br><span class="line">                    themeIcon.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;Card-moon&#x27;</span>);增加月亮的svg</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="（3）一言的打字特效"><a href="#（3）一言的打字特效" class="headerlink" title="（3）一言的打字特效"></a>（3）一言的打字特效</h3><p>使用了typed.js来实现打字效果，根据官方文档，最终实现代码如下：<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> typed = <span class="keyword">new</span> <span class="title class_">Typed</span>(<span class="string">&quot;#hitokoto&quot;</span>, &#123;</span><br><span class="line">                        <span class="attr">strings</span>: [<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>).<span class="property">hitokoto</span>],<span class="comment">//将json格式的数据解析成string</span></span><br><span class="line">                        <span class="attr">startDelay</span>: <span class="number">100</span>,<span class="comment">//设置开始延迟为100ms	</span></span><br><span class="line">                        <span class="attr">typeSpeed</span>: <span class="number">200</span>,<span class="comment">//设置打字延迟为200ms</span></span><br><span class="line">                        <span class="attr">loop</span>: <span class="literal">true</span>, <span class="comment">//设置循环打字为t r u e</span></span><br><span class="line">                        <span class="attr">backSpeed</span>: <span class="number">100</span>, <span class="comment">//设置删除速度为100ms</span></span><br><span class="line">                        <span class="attr">showCursor</span>: <span class="literal">true</span><span class="comment">//设置显示光标为t r u e</span></span><br><span class="line">                    &#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="（4）页面标题的自动变化"><a href="#（4）页面标题的自动变化" class="headerlink" title="（4）页面标题的自动变化"></a>（4）页面标题的自动变化</h3><p>当界面在浏览器是否被选中时，所带来的页面标题变化特效。<br>具体js实现代码如下:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line">    <span class="comment">//监听页面是否选中事件</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;visibilitychange&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">hidden</span> ? (<span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;\uD83D\uDE25&quot;</span> + <span class="title class_">OriginTitile</span>, <span class="built_in">clearTimeout</span>(titleTime)) : (<span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;\uD83D\uDE1D&quot;</span> + <span class="title class_">OriginTitile</span>, titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span></span><br><span class="line">            &#125;, <span class="number">2E3</span>))</span><br><span class="line">        &#125;);<span class="comment">//通过一系列的变换，判断页面是否被选中，然后动态变化。</span></span><br></pre></td></tr></table></figure></p>
<h1 id="4-评论功能添加"><a href="#4-评论功能添加" class="headerlink" title="4.评论功能添加"></a>4.评论功能添加</h1><p>评论采用开源项目Valine来实现评论功能，首先到leancloud 注册一个账号，并在Github找到开源项目Valine，并部署在leancloud上，获取所需的apikey，最后的具体代码如下:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;//unpkg.com/valine@latest/dist/Valine.min.js&quot;</span> type=<span class="string">&quot;application/javascript&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;vlaine-comment&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//代码来源Valine示例修改</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">new</span> <span class="title class_">Valine</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">el</span>: <span class="string">&#x27;#vlaine-comment&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">appId</span>: <span class="string">&#x27;64V23IDAGP79sI3LaxFHFUm0-gzGzoHsz&#x27;</span>,<span class="comment">//appid</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">appKey</span>: <span class="string">&#x27;lyveE15DB93we2NQW1Hq6Xm5&#x27;</span>,<span class="comment">//密钥</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">pageSize</span>: <span class="number">10</span>,<span class="comment">//显示页面长度</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">avatar</span>: <span class="string">&#x27;mp&#x27;</span>,<span class="comment">//显示头像格式</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">placeholder</span>: <span class="string">&#x27;来都来了，不妨评论一下&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">visitor</span>: <span class="literal">true</span>,<span class="comment">//是否支持匿名评论</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">highlight</span>: <span class="literal">true</span>,<span class="comment">//是否高亮</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">recordIP</span>: <span class="literal">true</span>,<span class="comment">//是否支持记录ip</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h1 id="五、Web页面的测试及调试"><a href="#五、Web页面的测试及调试" class="headerlink" title="五、Web页面的测试及调试"></a>五、Web页面的测试及调试</h1><h2 id="1-运行过程"><a href="#1-运行过程" class="headerlink" title="1.运行过程"></a>1.运行过程</h2><p>通过WebStorm的网页调试功能进入本地调试，然后点击各个跳转链接，以检查页面与页面之间的跳转是否完善，此外，对于特效部分，需要进行一定的测试，从而保证功能使用的良好。</p>
<h2 id="2-调试过程中遇到的问题"><a href="#2-调试过程中遇到的问题" class="headerlink" title="2.调试过程中遇到的问题"></a>2.调试过程中遇到的问题</h2><p>在测试过程中，发现页面加载慢，这个问题是因为本地资源庞大造成的，可以尝试将该项目部署至云端服务器并且进行加速的设置，通过将该静态文件部署到Github，再通过Jsdelivr的CDN方式来加载页面，于是提高了页面的响应速度，使得页面能够相对流畅运行。</p>
<h1 id="六、用户访问页面使用手册"><a href="#六、用户访问页面使用手册" class="headerlink" title="六、用户访问页面使用手册"></a>六、用户访问页面使用手册</h1><p>由于我们将该项目已经部署在了云端服务器上，所以我们自然而然就获得了一个域名。我们可以通过访问网址<a href="https://yuzhangwang.github.io/来进行访问，最先出现在访客面前的是主页，主页简单了介绍了一些文章，旁边再加上了小部件。">https://yuzhangwang.github.io/来进行访问，最先出现在访客面前的是主页，主页简单了介绍了一些文章，旁边再加上了小部件。</a><br>访客可以通过直接点击主页面上面的文章阅读选项进行博客文章的阅读，在阅读结束之后，可以选择进行下一篇文章或者上一篇文章的1阅读，还可以点击上方的分类，回到主页或者进入其他页面。例如跳转到关于页面，这里就会出现关于博客作者的相关介绍。<br>访客可以在右侧看到诸如每日一言、音乐、天气、友链等一系列选择，在访客浏览网页的时候，增添了一丝趣味。</p>
<h1 id="七、总结"><a href="#七、总结" class="headerlink" title="七、总结"></a>七、总结</h1><p>Web设计跟学习别的东西一样，也需要兴趣，所谓的兴趣也不是三分钟热度，是一种执著。<br>WEb设计需要耐心，如果没有耐心，就学不好，应为当你碰到一个问题时，如果不能立刻得到问题的答案，你可能需要很长时间去解决，我就碰到过一个问题，用了很长时间才解决。<br>学习需要坚持，坚持不断的学习，因为设计Web的软件在不断的更新，因此我们要不断的学习并且学习Web设计不要掉入技术的陷阱，如果你的网页设计技术一流，并且对软件的掌握程度已经达到一定水平，但是你设计的网页确不堪目睹，这是因为网页设计是介于平面设计和编程技术两者之间的”边缘科学.”不仅涉及到美学，心理学，平面构成，色彩搭配等平面设计的方面的知识，还涉及到html，javascript，css，asp，php等编程语言技术方面的知识.<br>只有综合运用多种知识，才能设计出视听特效，动感十足，富于个性的web页面，才能全面展现互联网这一新型媒体的独特魅力和多维空间的超强功能.<br>并且我认为网页设计应该注重实用性，因为它是让人浏览的，是用户可以抚摸，可以评论，可以交互的。因此我提倡简单的美。<br>对于Web课，老师上课讲解十分细致，在长达11周的教学中，我们逐渐掌握了Html、Css、Javascript等相关技术的使用过方法，并在一次次实验中得到了锻炼和进步。而最后一次的课设大作业，将我们所学到的知识进行了一次整合，我们也可以根据自身的要求，添加课外的内容，丰富我们制作的页面，在实践中不断锻炼自己，在学习中不断充实自己。希望可以在未来学习到更多类似的课程。</p>
<h1 id="八、参考文献"><a href="#八、参考文献" class="headerlink" title="八、参考文献"></a>八、参考文献</h1><p>[1]<a href="https://www.jsdelivr.com/">https://www.jsdelivr.com/</a> 开源特效获取网站<br>[2]胡秘.HTML从入门到精通[M].北京：中国青年出版社，2007.<br>[3]赵祖荫，王云翔，胡耀芳，网页设计与制作教程[M].北京：清华大学出版社，2008.<br>[4]刘智勇.JavaScript开发技术大全[M].北京：清华大学出版社，2009.<br>[5]赵祖荫，王云翔，胡耀芳，网页设计与制作教程[M].北京：清华大学出版社，2008.<br>[6]刘智勇.JavaScript开发技术大全[M].北京：清华大学出版社，2009.<br>[7]<a href="https://github.com/">https://github.com/</a> 开源代码托管平台</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>前端三剑客学习笔记</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>HTML</tag>
        <tag>CSS</tag>
        <tag>JavaScript</tag>
        <tag>WebStorm</tag>
      </tags>
  </entry>
  <entry>
    <title>基于区块链采用Python实现的银行供应链金融服务</title>
    <url>/094-blockchain/</url>
    <content><![CDATA[<h1 id="一、项目主要内容"><a href="#一、项目主要内容" class="headerlink" title="一、项目主要内容"></a>一、项目主要内容</h1><p>据新华社2020年10月25日晚消息，中共中央政治局2020年10月24日下午就区块链技术发展现状和趋势进行第十八次集体学习。中共中央总书记习近平在主持学习时强调，区块链技术的集成应用在新的技术革新和产业变革中起着重要作用。</p>
<p>随后“什么是区块链”、“区块链有什么用”、“怎么掌握区块链”这几个问题响不绝耳。这里尽量用通俗易懂的语句回答这些问题，期望即使是从没接触过区块链的人也能搞懂这项已经成为国家级现象的神奇技术。</p>
<h2 id="什么是区块链？"><a href="#什么是区块链？" class="headerlink" title="什么是区块链？"></a>什么是区块链？</h2><p>专业解释里，一般都会带上“分布式网络”、“密码学”、“共识算法”、“智能合约”这些有点晦涩的术语，这里打算举一个例子。</p>
<p>要理解区块链，首先要接受一个设定：有个账本，要记录的是一群人之间的公共账目（比如班费、物业费、公益捐款的收支），这个账本由大家一起来记账。选一个人，在账本的某一页，一行一行的记录明细，当一页记满后，大家都去核对账目，正确的话，大家签字认可这一页的所有账目。记满一页后，再选另一个人开始记接下来的一页。现在有意思的事情来了，新的一页首先要把上一页的一些摘要特征（比如页码、余额、人数、条数什么的…）抄写下来放在页首以供对照，免得前一页被改了或丢了还无据可查。然后，再一条条记账，记满一页后，核对、签名确认…依次反复。这样，账本的一页和一页之间就形成了“证据链”。</p>
<p>更重要的是，账本上已经签名确认的每一页，所有人都会一字不漏地复制一份，放到自己家里，以免少数人篡改、污损、丢失账目。这样，账本的每一页是一个“区块(Block)”，一页一页之间形成前后连贯的证据链，每个人之间构成了多点的网络，这就是“区块链”的概要原型了。这里面的关键点在于，这个账本一定是一群人的账，并不是一个人的账。如果是一个人的账，自己拿个小本本记就好了，为什么要整这么麻烦。就是因为这一群人互相之间并不完全信任，记账过程可能出纰漏，所以必须用这么繁琐的步骤，让大家平等参与，一起保证账目的准确和公允性，产生的结果大家保存，永远不会丢也不会错。</p>
<p>上面的举例看起来步骤繁琐，还要求每个人都一字不差地复刻和保存，那么就需要技术手段来帮助大家记账。这又回到技术环节，随着计算机科技的发展，无论是网络、密码学、数据结构、分布式算法等技术都趋于成熟，区块链领域把这些技术组合在一起，一揽子完成了从记账到分发到验证到保存的整个过程。运用技术服务整个群体，这就是神奇的区块链技术。</p>
<p>区块链有巨大的发展潜力，本身蕴含着极密集的技术含量，对技术有足够研究和把控，才能使自身发展不受外界影响和制约。区块链技术将会被用到与国计民生有关的广泛场景里，牵涉到许多人的财务和个人信息，甚至是金融行业、政务民生等关键领域的重要信息，重视技术和运作的安全可控，才能保护财务安全、信息安全，乃至社会安全。所以，当下国家给我们提出了明确的要求：“注意区块链技术发展现状和趋势，提高运用和管理区块链技术能力”，这样才能更好地建设网络强国、发展数字经济、助力经济社会发展。</p>
<p>我国产业界在区块链领域投入很早、力度很大，诸多大型金融企业、互联网公司、科技公司都在进行区块链研究，在过去几年中，已经逐步解决或接近解决了区块链领域的一系列核心问题，如性能、安全、易用性、合规等，在这个过程中也积累了大量的知识产权和专利。</p>
<p>我们重点发展的区块链领域是“联盟链”，联盟链和匿名的、有虚拟代币的“公有链”（诸如比特币、以太坊等）有极大不同，联盟链不发币不挖矿，摈弃了野蛮运作的弊端，能更规范、合法的运作，可有效服务于实体经济。</p>
<p>由微众银行、深圳市金融科技协会等国内机构共同发起成立的区块链联盟——金链盟，掌握多项核心技术，于2017年开源发布了以FISCO BCOS为代表的区块链底层平台和系列解决方案。这一系列开源项目都安全可控、性能优异、免费且易用，致力于服务实体经济，在大量关系国计民生的产业中已广泛落地，技术和模式得到了大量实际案例的验证。</p>
<p>另外值得一提的是，FISCO BCOS采用技术开源的路径加速行业发展，孵化拓展了国内最大和最活跃的行业生态社区，在推进中重视人才培养，在高校、社会、产业机构中培养了大量的区块链专业人才，帮助区块链技术和产业发展加速人才方面的突破。</p>
<p>区块链已经触达当下，更将影响未来，和一个具备无限潜力的趋势共同成长，现在，就是最好的时节。</p>
<h2 id="区块链原理"><a href="#区块链原理" class="headerlink" title="区块链原理"></a>区块链原理</h2><p>说到原理,需要解释以下几个概念:<strong>区块</strong>,<strong>哈希算法</strong>,<strong>公钥与私钥</strong>,<strong>时间戳</strong>,<strong>Merkle树</strong>。</p>
<p>首先,区块作为区块链的基本结构单元,由包含元数据的区块头和包含交易数据的区块主体构成。<br>区块头含三组数据,第一组用于链接前面的区块,索引来自父区块的哈希值数据。第二组与挖矿难度;用于工作量证明(PoW)的计数器,其名为Nonce;最后一组是Merkle数根数据,用来快速归纳校验区块中所有交易数据。</p>
<p>其二,哈希算法。这源于一个密码学的数学函数—-哈希函数。输入值为任意大小的字符串,输出值为固定大小的数,一般是十六进制的。长度为N的字符串,其复杂度为N的高阶无穷小。加密根据特定的字典(即哈希表)。而这里主要得力于加密的哈希函数,作为比特币交易的哈希函数一般要求以下三点:碰撞阻力(collision resistance),隐秘性(hiding),谜题友好(puzzle friendliness)。接着,大体地介绍这三个概念:</p>
<p>碰撞阻力:有哈希函数H,如果无法找到两个值x和y(即不存在两个值x,y),且x与y不等,使得H(x)=H(y),则称哈希函数H具有碰撞阻力。</p>
<p>隐秘性:已知哈希函数H(x)的输出值y,不可通过严密的逆推得到输入值x,这种特性称为隐秘性。这种加密也称不对称加密。</p>
<p>谜题友好:哈希函数H,其任意输入值x的位数记为n,假定k选自高阶最小熵分布,如果无法找到一个可行的方法,在比2^n小很多时间内找到x,保证(k||x)=y成立,那么称哈希函数H为谜题友好。</p>
<p>最后一点,(the last but not the least)Merk构。这个树结构以发明者拉尔夫 (Ralph Merkle)的名字命名。以下是这个树结构的示例图:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908142635.png" alt=""></p>
<p>如图所示,假设我们有很多这些数据区块两两分组,然后为每一组建立一个有两个哈希指针的数据结构,每个指针对应一个区块,这些数据结构就成了树的下一个层次。我们轮流将这些区块组成两两分组,为每一组建立一个包含每个区块组哈希指针的新的数据结构。以此类推,直到我们得到一个单一区块,即树根节点。最前面的哈希指针指向的值即为私钥,用户必须切记。</p>
<h2 id="一些区块有关的问题："><a href="#一些区块有关的问题：" class="headerlink" title="一些区块有关的问题："></a>一些区块有关的问题：</h2><p>这些问题,一部分是中本聪在创立区块链之前就注意到并且加以解决的,还有的是后人发现的。</p>
<h3 id="1-两类军问题"><a href="#1-两类军问题" class="headerlink" title="(1)两类军问题"></a>(1)两类军问题</h3><p>也被称为两军悖论,或者协同攻击问题。两个军队分隔很远,传递消息的信差可能在途中阵亡,或因军队距离不能在得到消息后及时回复,发送方也无法确认消息确实丢失的情形,导致不可能达到一致性。在分布式算法上,试图在异步系统和不可靠的通道上达成一致情形是可能的。因此对一致性的研究一般假设信道是可靠的,或非异步系统上系统上同步。总而言之,它是用来阐述在一个不可靠的通信链路上试图通过通信以达成一致是存在缺陷的和困难的悖论。</p>
<h3 id="2）拜占庭将军问题"><a href="#2）拜占庭将军问题" class="headerlink" title="(2）拜占庭将军问题"></a>(2）拜占庭将军问题</h3><p>问题的起源是这样的,拜占庭罗马帝国国土辽阔,为了防御敌人每个军队分隔很远,将军与将军之间只能靠信差传递消息。但军队中的叛徒和谋反者会影响信息传递,如何在不受叛徒影响下传递信息的问题就是拜占庭将军问题。举例, A为发布消息的总司令,B,C,D则为三个将军,其中有叛变者。 </p>
<p>如图:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908142727.png" alt=""></p>
<p>可以将数据列表,如下:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908142801.png" alt=""></p>
<p>可以看出,B就是叛徒</p>
<h3 id="3-女巫攻击"><a href="#3-女巫攻击" class="headerlink" title="(3)女巫攻击"></a>(3)女巫攻击</h3><p>大规模的p2p系统面临着有问题的和敌对的节点的威胁，为了应付这种威胁，很多系统采用了冗余。然而，如果一个有恶意的实体模仿了多个身份，他就可以控制系统的很大一部分，破坏了系统的冗余策略。我们把这种模仿多个身份的攻击定义为女巫攻击。</p>
<p>验证技术可用于防止Sybil攻击和消除伪装敌方实体。 本地实体可以基于中央权威来接受远程身份，其确保身份和实体之间的一对一对应，并且甚至可以提供反向查找。 身份可以直接或间接地验证。 在直接验证中，本地实体查询中央授权机构以验证远程标识。 在间接验证中，本地实体依赖于已经接受的身份，继而保证所讨论的远程身份的有效性。</p>
<p>基于身份的验证技术通常以匿名为代价提供问责制 ，这可能是一个不可取的折衷，特别是在希望允许无检查的信息交换和公开讨论敏感话题的在线论坛。 验证机构可以通过拒绝执行反向查找来尝试保持用户的匿名性，但是这种方法使验证机构成为攻击的主要目标。 或者，权威机构可以使用除了用户的真实身份的知识之外的一些机制 - 诸如验证未识别的人在特定地点和时间的物理存在 - 来实施在线身份和真实世界用户之间的一一对应。 </p>
<h2 id="去中心化的经济革命与区块链的前景："><a href="#去中心化的经济革命与区块链的前景：" class="headerlink" title="去中心化的经济革命与区块链的前景："></a>去中心化的经济革命与区块链的前景：</h2><h3 id="经济去中心化"><a href="#经济去中心化" class="headerlink" title="经济去中心化"></a>经济去中心化</h3><p>经济革命,它的核心就是去中心化。而区块链的发展前景必然联系与经济。</p>
<p>什么是去中心化?在一个分布有众多节点的系统中,每个节点都具有高度自治的特征。节点之间彼此可以自由连接,形成新的连接单元。任何一个节点都有可能成为阶段性的中心,但不具备强制性的控制功能节点与节点之间的影响,会通过网络形成非线性因果关系。这种开放式,扁平化,平等性的系统现象或结构,称之为去中心化。</p>
<p>中心化的意义在于控制,尤其是工业时代,人们将生产和工作都集中在一起,从而达到完全控制的目的。中心能够控制所有过程,保证准确无误。与此同时,也是它的致命缺点。</p>
<p>决断的权威,权力的垄断,必然导致腐败的滋生,小小的错误决断也会因此被放大,产生不可预计的结果。去中心化使得权威存在的必要越来越弱,正如中本聪所言”每个人都是中本聪”。</p>
<h3 id="赋予机器思考的力量"><a href="#赋予机器思考的力量" class="headerlink" title="赋予机器思考的力量"></a>赋予机器思考的力量</h3><p>2018年GTC上所展现的人工智能的应用也许在不久的将来就会完全实现(因为其中不少已经实现了)。</p>
<p>“AI并不是天方夜谭,它确实可以实现而许多已经呈现在我们眼前.” ———-黄仁勋。</p>
<p>将数据传入中心服务器有极大可能引起黑客攻击,数据窃取,和服务器瘫痪。但分布式的区块链技术可以完美解决,在拜占庭容错机制下,各个区块权力相当,黑客攻击难度大大提高,使得信息安全得到保障。</p>
<p>区块链前景———撕不毁的智能合约。</p>
<p>这样完全解决了法庭上”你认为,我认为”的争论,严格按照智能合约执行。但是智能合约的制定倒是需要各方面的专家一同讨论制定。</p>
<h2 id="国内国外区块链技术研究存在的问题与未来研究方向与方式"><a href="#国内国外区块链技术研究存在的问题与未来研究方向与方式" class="headerlink" title="国内国外区块链技术研究存在的问题与未来研究方向与方式"></a>国内国外区块链技术研究存在的问题与未来研究方向与方式</h2><h3 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h3><p>(1)理论研究落后于实际发展</p>
<p>(2)大多数研究都集中在比特币环境</p>
<p>(3)一些重要议题尚未涉及,缺少对处理性能,拓展性,集成性等主题的研究</p>
<h3 id="方向"><a href="#方向" class="headerlink" title="方向:"></a>方向:</h3><p>(1)可以拓展区块链研究的范围,尤其是空白领域如技术监管,漏洞检测,和应急反应,遭到攻击后的后果与责任负责,还有侧链,影子链,私有链等,都有待深入研究。</p>
<p>(2)可以加大关注在区块链技术在经济,社会生活中的应用前景。</p>
<h2 id="项目基于情况"><a href="#项目基于情况" class="headerlink" title="项目基于情况"></a>项目基于情况</h2><p>现有三家公司A、B和C,情况如下：</p>
<p>公司A规模大，信用良好，实力丰厚，有很大的风险承担的能力，拥有直接从银行等金融机构获得大笔融资的资格。</p>
<p>公司B、C规模相对较小，不能直接从银行金融机构获得大笔资金。</p>
<p>现有以下交易场景：</p>
<p>公司A向公司B订购一批货物；公司B生产这批货物，需要向公司C订购一批材料。</p>
<p>公司A现在资金短缺，向公司B签订一份一定数额的单据，承诺会给付公司B货款。这时，公司B可以用这份跟公司A签订的单据向银行贷款，凭借的是公司A的信用。并且，公司B有了公司A授权的信用，公司B能以同样的方式向公司C签订单据，公司C也可以凭借单据向银行贷款。</p>
<p>传统方法下，这样的流程需要非常复杂的授权、验证过程。</p>
<p>本项目基于腾讯微众银行开源的FISCOBCOS区块链平台，使用区块链技术高效地实现这样的信用传递过程，实现了基于区块链的供应链金融平台。</p>
<h1 id="二、项目实施情况总结"><a href="#二、项目实施情况总结" class="headerlink" title="二、项目实施情况总结"></a>二、项目实施情况总结</h1><h2 id="1-项目实施情况"><a href="#1-项目实施情况" class="headerlink" title="1.项目实施情况"></a>1.项目实施情况</h2><p>(1)本项目采用了链端作为后端的支持维护，容器为Ubuntu18.04 .5，区块链采用的是腾讯微众银行开源的FISCOBCOS区块链平台。此外，还用到了FISCO BCOS Python SDK，Flask 1.1和Python 3.6.3+来组成一个完善的后端，在项目的初期计划中，我们着重与理论研究，在代码实现上完成后端的搭建编写，链端逻辑算法的编写即可，在后期，采用了OC语言，实现了一个简易的iOSAPP完成前端数据的展现。</p>
<p>(2)实现了该区块链的供应链金融平台。控制台仲裁机构进行以下操作：</p>
<p>有银行bank1,受信公司A,公司B、C;</p>
<p>bank_1向受信公司A提供1000信用资产；</p>
<p>公司A向公司B转移500信用资产；</p>
<p>公司B用250信用资产向银行获取真实资金；</p>
<p>此时进行查询操作。</p>
<p>(3)后端API示例（使用Python SDK、Flask框架实现）:</p>
<p>后端每次收到请求时，都会先检查链上内容的更新，确保返回的是最新信息。</p>
<p>公司信息查询，根据公司名称获取相应信息：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131639.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131701.png" alt=""></p>
<p>单据查询，根据公司名称获取所有该公司参与的交易的单据：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131720.png" alt=""></p>
<p>欠款查询，根据银行名称和受信公司名称，获取该银行向该受信公司授权的信用资产数额：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131739.png" alt=""></p>
<h2 id="2-项目研究内容及方法的创新"><a href="#2-项目研究内容及方法的创新" class="headerlink" title="2.项目研究内容及方法的创新"></a>2.项目研究内容及方法的创新</h2><h3 id="项目研究内容"><a href="#项目研究内容" class="headerlink" title="项目研究内容"></a>项目研究内容</h3><p>从功能视角、系统视角、用户视角和开发视角，分别从逻辑层面、运行层面、使用层面和开发层面厘清代码架构和关键算法。</p>
<h4 id="1-功能视角"><a href="#1-功能视角" class="headerlink" title="(1)功能视角"></a>(1)功能视角</h4><p>在深入一份区块链底层代码之前，首先要通过其官网、技术文档、github wiki等渠道获取项目设计文档，了解其基本功能设计。</p>
<p>一般每个项目都会提供核心功能列表、总体架构图、功能模块图等介绍文档，通过这些介绍可以掌握项目基本功能。即使你真的找不到也不打紧，大部分区块链底层项目在功能设计层面的差异较小，核心功能模块也大致相同。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131819.png" alt=""></p>
<p>以FISCO BCOS为例，基础层代码如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131837.png" alt=""></p>
<p>核心层核心代码如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131900.png" alt=""><br>接口层核心代码如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908131917.png" alt=""></p>
<h4 id="2-系统视角"><a href="#2-系统视角" class="headerlink" title="(2)系统视角"></a>(2)系统视角</h4><p>系统视角从整个区块链网络运行角度，关注区块链节点全生命周期所参与的系统行为。</p>
<p>关注点包括从敲下启动节点的命令开始，节点经历了哪些初始化环节，之后又是如何与其他节点建立点对点网络，以及完成分布式协作的。</p>
<p>由于不同区块链在部署架构上略有差异，系统运行方式也有所不同，但万变不离其宗，系统视角来看，每个区块链系统都要经历节点初始化、建立点对点网络、完成分布式交互的过程。</p>
<p>从系统视角看区块链，首先要关注初始化工作。以FISCO BCOS为例，区块链节点启动从main函数入口进入，通过libinitializer模块初始化并启动各模块，启动顺序如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132010.png" alt=""></p>
<p>通过启动顺序可以知道FISCO BCOS的一个重要特性——支持多群组账本，每个群组是一个独立的Ledger模块，每个Ledger具有独立的存储、同步、共识处理功能。</p>
<p>完成初始化工作同时，系统将会启动若干线程（或者进程、协程，原理类似），这些线程包括网络监听、共识、消息同步等，可以结合代码分析与系统命令查看运行节点配合确定有哪些关键线程，搞清楚关键线程的工作机制就可以基本掌握区块链系统运行机制。</p>
<p>以FISCO BCOS为例，节点启动之后的关键线程以及他们之间的关系如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132028.png" alt=""></p>
<p>初始化完成之后，网络模块的Host线程将根据配置列表，主动与其他节点建立连接，并且持续监听来自其他节点的连接；Sync线程开始相互发送区块高度，发现高度低于其他节点则开启下载逻辑；RPC与Channel线程等待客户端发送请求，将收到的交易塞入txpool；Sealer线程从txpool获取交易，Consensus线程则开始处理共识消息包。</p>
<p>如此，整个区块链系统有条不紊地运转，完成客户端请求与分布式协作。</p>
<h4 id="3-用户视角"><a href="#3-用户视角" class="headerlink" title="(3)用户视角"></a>(3)用户视角</h4><p>用户视角关注操作接口和交易生命周期，关注访问区块链的接口和协议设计、编解码方式、核心数据结构、错误码规范等，还会关注如何发送一笔交易到链上，交易在链上又经历了哪些处理流程，直到达成全网共识。</p>
<p>一般区块链底层项目都会给出交互协议的说明文档，通常实现包括JsonRPC、gRPC、Restful等不同类型的交互协议。</p>
<p>不同项目的交互接口会有所不同，但大都会包含发送交易、部署合约、调用合约、查看区块、查看交易以及回执、查看区块链状态等接口。不同项目的数据编码也会有所不同，有些采用Json，有些采用protobuf等。</p>
<p>当从技术文档中了解清楚交互协议、接口、编解码和错误码等设计细节之后，接下来最重要的是通过发送交易、部署合约、调用合约这些关键接口，对代码进行抽丝剥茧，贯穿交易整个生命周期，从而搞清楚区块链底层最核心的逻辑。</p>
<p>以FISCO BCOS为例，通过多个模块相互协作，完成交易整个生命周期的处理：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132045.png" alt=""></p>
<h4 id="4-开发视角"><a href="#4-开发视角" class="headerlink" title="(4)开发视角"></a>(4)开发视角</h4><p>开发视角关注的是整个代码工程，包括第三方依赖，源码模块之间的相互关系，单元测试框架和测试用例，编译和构建方式，持续集成和benchmark，以及如何参与社区源码贡献等等。</p>
<p>不同语言都有相应推荐的编译构建方式以及单测框架，通常在区块链项目源码目录可以快速定位到第三方依赖库，比如以cmake构建的C++项目有CmakeLists.txt文件，go项目有go.mod文件，rust项目有cargo.toml文件等。</p>
<p>以FISCO BCOS为例，从CmakeLists.txt可以看到依赖库包括：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132115.png" alt=""></p>
<p>项目核心源码包括fisco-bcos程序入口代码，以及libxxx的各模块代码，根据模块的名字可以快速识别其对应功能，这里也体现了一个项目源码质量的高低，高质量的代码应该是“代码即注释”。</p>
<p>单元测试代码在test目录，采用boost的单元测试框架，子目录unittests中单测代码与源码目录一一对应，非常容易找到源码对应的单元测试代码。</p>
<p>构建和持续集成工具代码在tools目录，子目录ci中维护了多个不同场景的持续集成用例，在github提交的每一个pr（pull request）都会触发这些持续集成用例，当且仅当每个用例成功通过方可允许合入pr。</p>
<p>具体实现方法如下:</p>
<h4 id="5-Python-API的安装"><a href="#5-Python-API的安装" class="headerlink" title="(5)Python API的安装"></a>(5)Python API的安装</h4><p>由于我们使用的是ubuntu，所以需要进行依赖软件问题的解决，这里先进行软件的安装，安装命令如下所示。<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install -y zlib1g-dev libffi6 libffi-dev wget git</span><br></pre></td></tr></table></figure><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132245.png" alt=""></p>
<h4 id="6-API的安装"><a href="#6-API的安装" class="headerlink" title="(6)API的安装"></a>(6)API的安装</h4><p>我们使用git clone <a href="https://gitee.com/FISCO-BCOS/python-sdk命令从Gitee上下载源码进行编译。">https://gitee.com/FISCO-BCOS/python-sdk命令从Gitee上下载源码进行编译。</a></p>
<h4 id="7-进入源码并且创建虚拟环境"><a href="#7-进入源码并且创建虚拟环境" class="headerlink" title="(7)进入源码并且创建虚拟环境"></a>(7)进入源码并且创建虚拟环境</h4><p>便于接下来用python实现调用链端并且实现交易，运行命令为<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd python-sdk &amp;&amp; bash init_env.sh -p</span><br><span class="line">source ~/.bashrc &amp;&amp; pyenv activate python-sdk &amp;&amp; pip install --upgrade pip</span><br></pre></td></tr></table></figure><br>激活虚拟环境成功如下图所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132340.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132351.png" alt=""></p>
<h4 id="8-区块链网络搭建"><a href="#8-区块链网络搭建" class="headerlink" title="(8)区块链网络搭建"></a>(8)区块链网络搭建</h4><p>在API接口部署完毕之后，我们就可以进行区块链网络的搭建，在这里我们在一个容器中部署四个节点的FISCO BCOS联盟。<br>首先用<code>sudo apt install -y openssl curl</code>命令解决ubuntu的依赖问题，便于接下来的操作。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132430.png" alt=""></p>
<h4 id="9-生成搭建工作"><a href="#9-生成搭建工作" class="headerlink" title="(9)生成搭建工作"></a>(9)生成搭建工作</h4><p>使用<code>cd ~ &amp;&amp; mkdir -p fisco &amp;&amp; cd fisco</code>进行目录创建步骤存放我们所需的源码，并使用命令下载节点的生成脚本以便于接下来的生成搭建工作，<code>curl-#LO https://github.com/FISCO-BCOS/FISCO-BCOS/releases/download/v2.7.2/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</code></p>
<h4 id="10-生成FISCO链"><a href="#10-生成FISCO链" class="headerlink" title="(10)生成FISCO链"></a>(10)生成FISCO链</h4><p>在fisco目录下执行下面的指令，生成一条单群组4节点的FISCO链。 请确保机器的30300~30303，20200~20203，8545~8548端口没有被占用。<code>bash build_chain.sh -l 127.0.0.1:4 -p 30300,20200,8545</code><br>需要注意的是，其中-p选项指定起始端口，分别是p2p_port,channel_port,jsonrpc_port<br>出于安全性和易用性考虑，v2.3.0版本最新配置将listen_ip拆分成jsonrpc_listen_ip和channel_listen_ip，但仍保留对listen_ip的解析功能，为便于开发和体验，channel_listen_ip参考配置是 0.0.0.0 ，出于安全考虑，请根据实际业务网络情况，修改为安全的监听地址，如：内网IP或特定的外网IP。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132847.png" alt=""></p>
<h4 id="11-启动"><a href="#11-启动" class="headerlink" title="(11)启动"></a>(11)启动</h4><p>节点部署完毕之后，可以使用<code>bash nodes/127.0.0.1/start_all.sh</code>启动四个节点<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908132924.png" alt=""><br>在终端中，出现了以下的信息，说明四个节点部署成功并且启动成功</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">try to start node0</span><br><span class="line">try to start node1</span><br><span class="line">try to start node2</span><br><span class="line">try to start node3</span><br><span class="line">node1 start successfully</span><br><span class="line">node2 start successfully</span><br><span class="line">node0 start successfully</span><br><span class="line">node3 start successfully</span><br></pre></td></tr></table></figure>
<h4 id="12-进程检查"><a href="#12-进程检查" class="headerlink" title="(12)进程检查"></a>(12)进程检查</h4><p>然后执行ps -ef | grep -v grep | grep fisco-bcos进行进程检查<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133025.png" alt=""><br>我们可以看到，这路是四个进程在运行，说明四个阶段各自占用了端口并且没有被占用。</p>
<h4 id="13-节点实时运行状态检查"><a href="#13-节点实时运行状态检查" class="headerlink" title="(13)节点实时运行状态检查"></a>(13)节点实时运行状态检查</h4><p>之后执行tail -f nodes/127.0.0.1/node0/log/log*  | grep connected检查日志输出，在此命令中，以node0节点为例，检查该节点实时运行状态。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133108.png" alt=""><br>在这里我们可以看到该节点的状态信息源源不断输出，并且可以看出，该节点正在和其他三个节点相连。</p>
<h4 id="14-控制台部署"><a href="#14-控制台部署" class="headerlink" title="(14)控制台部署"></a>(14)控制台部署</h4><p>接下来是进行控制台的部署工作，在控制台链接FISCO BCOS节点，实现查询区块链状态、部署调用合约等功能，能够快速获取到所需要的信息。</p>
<p>首先我们需要解决依赖问题，也就是JDK的安装以及环境声明，因为FISCBCOS节点启动成功需要安装JDK8以上的版本，所以在这里我们使用JDK11，首先访问Oracle官网，下载JDK11源码压缩包，然后进行解压。我们选择/opt文件夹作为JDK11的储存位置。然后使用vim在/etc/profile文件中进行Java_Home等路径环境声明。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133139.png" alt=""><br>编写完成之后，我们使用<code>source /etc/profile</code>进行全局声明。使java环境部署成功，然后我们使用<code>java -version</code>来检测环境部署是否成功。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133219.png" alt=""></p>
<h4 id="15-配置控制台信息"><a href="#15-配置控制台信息" class="headerlink" title="(15)配置控制台信息"></a>(15)配置控制台信息</h4><p>使用<code>cp -r nodes/127.0.0.1/sdk/* console/conf/</code>来配置控制台信息，配置完成之后，就可以启动控制台。</p>
<h4 id="16-启动控制台"><a href="#16-启动控制台" class="headerlink" title="(16)启动控制台"></a>(16)启动控制台</h4><p>使用<code>cd ~/fisco/console &amp;&amp; bash start.sh</code>来启动控制台，可以看到控制台启动成功<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133322.png" alt=""></p>
<h4 id="17-WEBASE-Front节点的搭建"><a href="#17-WEBASE-Front节点的搭建" class="headerlink" title="(17)WEBASE-Front节点的搭建"></a>(17)WEBASE-Front节点的搭建</h4><p>然后进行WEBASE-Front节点的搭建，步骤和FISCO搭建类似，不进行过多的描述，启动成功之后如下图所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133522.png" alt=""></p>
<h4 id="18-检查节点进程"><a href="#18-检查节点进程" class="headerlink" title="(18)检查节点进程"></a>(18)检查节点进程</h4><p>使用<code>ps -ef | grep node</code>命令来检查节点的进程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133556.png" alt=""></p>
<h4 id="19-检查端口进程"><a href="#19-检查端口进程" class="headerlink" title="(19)检查端口进程"></a>(19)检查端口进程</h4><p>使用<code>netstat -anlp | grep 20200</code> 来检查端口进程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133625.png" alt=""></p>
<h4 id="20-查看运行日志"><a href="#20-查看运行日志" class="headerlink" title="(20)查看运行日志"></a>(20)查看运行日志</h4><p>使用<code>grep -B 3 &quot;main run success&quot; log/WeBASE-Front.log</code>来查看运行日志<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133706.png" alt=""></p>
<h4 id="21-图形化控制台"><a href="#21-图形化控制台" class="headerlink" title="(21)图形化控制台"></a>(21)图形化控制台</h4><p>最后我们可以通过访问<code>http://localhost:5002/WeBASE-Front</code><br>访问这个网站之后，我们可以看到一个图形化控制台<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133751.png" alt=""><br> 我们可以看到这里的四个节点都正常在运行，并且随机赋予了每个节点不同的节点ID。<br> <img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133812.png" alt=""><br> 在合约IDE界面，我们可以编写合约的算法逻辑，来实现公司交易的算法逻辑，我们将以及编写好的Loan.sol<br> <img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133842.png" alt=""><br> 在上传成功之后，我们可以进行编译合约，然后进行合约的调用。<br> <img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133904.png" alt=""><br> 这里我们可以看到，在这里，合约调用成功，并且成功返回了一个交易回执。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133918.png" alt=""></p>
<h4 id="22-监控查看"><a href="#22-监控查看" class="headerlink" title="(22)监控查看"></a>(22)监控查看</h4><p>此外我们可以进行数据的监控查看<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133943.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908133954.png" alt=""></p>
<h4 id="23-实现数据的交互"><a href="#23-实现数据的交互" class="headerlink" title="(23)实现数据的交互"></a>(23)实现数据的交互</h4><p>然后在python-sdk中，我们需要编写，调用该虚拟环境的函数，借此实现数据的交互。在此处，我们需要将Loan.sol注入到<code>python-sdk/contracts</code>文件夹中，以及将编写的函数注入到python-sdk函数当中，并且将生成的随机地址，写入到编写的函数当中。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134030.png" alt=""></p>
<p>在运行之后，我们可以的到合约的URL，将该URL注入到iOSAPP中，就可以在iOS中实现公司交易查询等一系列操作</p>
<p>获取名称为A的公司的信息</p>
<p><code>GET: &#123;http://172.16.207.150 &#125;:8383/get_company_inf/?cpName=A</code></p>
<p>获取所有公司A参与交易的单据</p>
<p><code>GET: &#123;http://172.16.207.150&#125;:8383/get_receipt/?cpName=A</code></p>
<p>获取银行bank_1向公司A提供的信用资产的数额</p>
<p><code>GET: &#123;http://172.16.207.150&#125;:8383/get_AmountOfCreditAsset_bank_GiveTo_TrustedCompany/?bName=bank_1&amp;cpName=A</code><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134107.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134123.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134133.png" alt=""></p>
<h4 id="24-新建用户，部署合约"><a href="#24-新建用户，部署合约" class="headerlink" title="(24)新建用户，部署合约"></a>(24)新建用户，部署合约</h4><p>值得注意的是：Solidity不支持返回变长变量，所以查询结构体时，无法看到其中的变长数组和mapping映射。<br>在WeBASE-Front控制台中选择私钥管理选项，点击新增用户按钮，输入新用户名创建新用户。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134154.png" alt=""></p>
<p>点击部署按钮，使用Administrator用户的私钥，输入仲裁机构的名称来初始化合约。部署成功会有弹窗反馈。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134210.png" alt=""></p>
<h4 id="25-添加公司"><a href="#25-添加公司" class="headerlink" title="(25)添加公司"></a>(25)添加公司</h4><p>点击合约调用按钮，选择addCompany方法，用Administrator的私钥创建受信公司A。并用相同的方法创建普通公司B和C。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134228.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134240.png" alt=""></p>
<h4 id="26-添加银行"><a href="#26-添加银行" class="headerlink" title="(26)添加银行"></a>(26)添加银行</h4><p>使用addBank方法创建银行bank_1<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134301.png" alt=""></p>
<h4 id="27-行向受信公司授权信用资产"><a href="#27-行向受信公司授权信用资产" class="headerlink" title="(27)行向受信公司授权信用资产"></a>(27)行向受信公司授权信用资产</h4><p>调用<code>bank_giveCreditAssetTo_trustedCompany</code>方法，令银行</p>
<p>bank_1授权信用资产给公司A，数值为1000；完成后查看receipts[0]，确认交易单据上链；并查看companies[0]公司A的情况，确认其信用资产已正确增加。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134331.png" alt=""></p>
<p>receipts[0]：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134346.png" alt=""></p>
<p>companies[0]：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134402.png" alt=""></p>
<h4 id="28-公司A向公司B转移信用资产："><a href="#28-公司A向公司B转移信用资产：" class="headerlink" title="(28)公司A向公司B转移信用资产："></a>(28)公司A向公司B转移信用资产：</h4><p>调用<code>companyA_giveCreditAssetTo_companyB</code>方法，令公司A转移信用资产给公司B，数值为500；完成后查看receipts[1]，确认交易单据上链；并查看companies[0]公司A和companies[1]公司B的情况，确认信用资产已正确转移。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134426.png" alt=""></p>
<p>receipts[1]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134440.png" alt=""></p>
<p>companies[0]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134502.png" alt=""></p>
<p>companies[1]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134518.png" alt=""></p>
<h4 id="29-银行给予公司真实资金"><a href="#29-银行给予公司真实资金" class="headerlink" title="(29)银行给予公司真实资金"></a>(29)银行给予公司真实资金</h4><p>调用<code>bank_giveRealMoneyTo_company</code>方法，令银行给予公司B 真实资金，数值为500；完成后查看receipts[2]，确认交易单据上链；并查看companies[1]公司B的情况，确认真实资金正确转移。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134541.png" alt=""></p>
<p>receipts[2]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134557.png" alt=""></p>
<p>companies[1]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134611.png" alt=""></p>
<h4 id="30-受信公司向银行还款"><a href="#30-受信公司向银行还款" class="headerlink" title="(30)受信公司向银行还款"></a>(30)受信公司向银行还款</h4><p>调用<code>trustedCompany_repaidTo_bank</code>方法，令受信公司A归还款项给银行，数值为500；完成后查看receipts[3]，确认交易单据上链。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134653.png" alt=""></p>
<p>receipts[3]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134710.png" alt=""></p>
<h4 id="31-受信公司向银行确认完成本次事务"><a href="#31-受信公司向银行确认完成本次事务" class="headerlink" title="(31)受信公司向银行确认完成本次事务"></a>(31)受信公司向银行确认完成本次事务</h4><p>调用<code>trustedCompany_FinishWith_Bank</code>方法，令受信公司A向银行bank_1确认完成本次事务；完成后查看companies[0]公司A，确认已正确归零，以及trustedCompanyHasFinishedWithBank值，确认已置为true。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134730.png" alt=""></p>
<p>companies[0]:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134746.png" alt=""></p>
<p>rustedCompanyHasFinishedWithBank:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134802.png" alt=""></p>
<h3 id="方法创新"><a href="#方法创新" class="headerlink" title="方法创新"></a>方法创新</h3><h4 id="1-存储设计"><a href="#1-存储设计" class="headerlink" title="(1)存储设计"></a>(1)存储设计</h4><p>使用storage数据位置储存需要上链的变量，这样数据将永远存在于区块链上。</p>
<p>项目背景中所述的供应链金融平台，需要仲裁机构、金融机构(银行）和公司这几方角色，以及记录交易的单据。在智能合约中，使用结构体实现这些角色、储存每个角色的信息。下面结合代码对角色功能及需要储存的角色信息进行说明。</p>
<h5 id="仲裁机构："><a href="#仲裁机构：" class="headerlink" title="仲裁机构："></a>仲裁机构：</h5><p>只有仲裁机构有权限添加银行实例和公司实例。</p>
<p>仲裁机构结构体包含：</p>
<p>字符串ArbitralName,机构名称；</p>
<p>address变量ArbitrallnstitutionAddres,仲裁机构的账户地址。</p>
<p>储存地址是为了在之后的操作中进行地址对比，判断操作者是否是仲裁机构。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908134952.png" alt=""></p>
<h5 id="银行："><a href="#银行：" class="headerlink" title="银行："></a>银行：</h5><p>银行可以向受信公司发放信用资产，接收受信公司的还款。并且公司能够消耗信用资产，从银行获得等额的真实资金。</p>
<p>银行结构体包含：</p>
<p>字符串bankName,银行名称；</p>
<p>无符号整型数组ReceiptIndex_loanMoneyToCompany,储存向公司提供资金的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；</p>
<p>无符号整型数组ReceiptIndex_authorizeCreditAssetToCompany,储存银行向受信公司授权信用资产的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；</p>
<p>无符号整型数组</p>
<p>ReceiptIndex_getRepaidMoneyFromTrustedCompany,储存受信公司向银行归还资金的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；</p>
<p>字符串到无符号整型的映射companyDebtAmount,储存受信公司应向银行归还的资金数额。映射形式：公司名称-&gt;资金数额<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135010.png" alt=""></p>
<h5 id="公司："><a href="#公司：" class="headerlink" title="公司："></a>公司：</h5><p>公司可以分为受信公司（布尔值isTrusted为true)和普通公司(isTrusted为false)。银行只会向受信公司授权信用资产，并且由受信公司负责向银行归还资金。信用资产可以在任何公司间流通，每个公司都可以用信用资产向银行换取真实资金。在本合约中，一次需要信用传递的交易生产过程里有且只有一个受信公司。</p>
<p>公司结构体包含：</p>
<p>字符串companyName,公司名称；</p>
<p>字符串companyType,公司类型；</p>
<p>布尔值isTrusted,是否为受信公司，true表示是受信公司；</p>
<p>无符号整型creditAsset,当前信用资产数额；</p>
<p>无符号整型数组</p>
<p>ReceiptIndex_getCreditAssetFromCompanyOrBank,储存其他公司或银行给予自身信用资产的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；</p>
<p>无符号整型数组ReceiptIndex_giveCreditAssetToCompany,储存自身给予其他公司信用资产的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；</p>
<p>无符号整型realMoney,当前真实资金数额；</p>
<p>无符号整型数组ReceiptIndex_getRealMoneyFromBank,储存银行给予自身真实资金的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；</p>
<p>无符号整型数组ReceiptIndex_repayRealMoneyToBank,储存自身归还银行真实资金的交易单据的索引值。使用该索引值可以在合约的receipts数组中访问对应单据；<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135205.png" alt=""></p>
<h5 id="单据："><a href="#单据：" class="headerlink" title="单据："></a>单据：</h5><p>单据可以记录所有交易和资产转移。单据的记录形式永远是实体,A向实体B提供某种资产。</p>
<p>单据结构体包含：</p>
<p>字符串Name_A,交易中实体A名称；</p>
<p>字符串Name_B,交易中实体B名称；</p>
<p>布尔值bankParticipation,此次交易是否有银行参与；</p>
<p>布尔值isRealMoney,此次交易是否是真实资金的转移；</p>
<p>无符号整型amount,交易资产的数额；<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135332.png" alt=""></p>
<h5 id="合约中其他数据结构："><a href="#合约中其他数据结构：" class="headerlink" title="合约中其他数据结构："></a>合约中其他数据结构：</h5><p>仲裁机构结构体arbitrallnstitution,储存仲裁机构实例；</p>
<p>公司结构体数组companies,储存所有公司实例；</p>
<p>银行结构体数组banks,储存所有银行实例；</p>
<p>单据结构体数组receipts,储存所有单据实例；</p>
<p>布尔值trustedCompanyHasFinishedWithBank,表示受信公司是否已经向银行还清资金并确认本次事务完成，若为true表示完成。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135356.png" alt=""></p>
<h4 id="2-数据流图"><a href="#2-数据流图" class="headerlink" title="(2)数据流图"></a>(2)数据流图</h4><p>合约涉及的主要机制：信用资产流通机制、真实资金流通机制。</p>
<p>这里先给出这两套机制所确定的整个系统的性质：</p>
<p>只有受信公司能获得银行的信用资产授权；公司的信用资产只能向银行兑换真实资金；最终由受信公司向银行还款；所有公司从银行</p>
<p>获得的真实资金数额不会超过银行授权给受信公司的信用资产数额。即永远不会出现信用超支的情况。</p>
<h5 id="信用资产creditAsset的流通机制："><a href="#信用资产creditAsset的流通机制：" class="headerlink" title="信用资产creditAsset的流通机制："></a>信用资产creditAsset的流通机制：</h5><p>-初始时，只有受信公司A能得到银行授权，拥有信用资产</p>
<p>-信用资产可以在公司之间流通</p>
<p>-信用资产的产生和转移情况都会上链<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135425.png" alt=""></p>
<h5 id="真实资金realMoney的流通机制："><a href="#真实资金realMoney的流通机制：" class="headerlink" title="真实资金realMoney的流通机制："></a>真实资金realMoney的流通机制：</h5><p>-公司向银行获取真实资金要消耗自身等额的信用资产</p>
<p>-由受信公司向银行还款</p>
<p>-真实资金的转移情况上链<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135503.png" alt=""></p>
<h4 id="3-核心创新功能"><a href="#3-核心创新功能" class="headerlink" title="(3)核心创新功能"></a>(3)核心创新功能</h4><h5 id="合约初始化："><a href="#合约初始化：" class="headerlink" title="合约初始化："></a>合约初始化：</h5><p>根据传入的仲裁机构名称，才合约中创建一个仲裁机构实例，并将其中储存的用户地址设为创建本合约的用户地址。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135602.png" alt=""></p>
<h5 id="添加公司："><a href="#添加公司：" class="headerlink" title="添加公司："></a>添加公司：</h5><p>若当前msg.sender为仲裁机构地址，且传入的公司类型cpType不为“bank”，且传入的公司名称cpName没有与已有的任何公司和银行的名称重复，那么根据传入的公司名称cpName、公司类型cpType和是否为受信公司whetherTrusted来创建一个新的公司实例，初始信用资产和真实资金均为0,收据索引数组均为空。并将这个新创建的公司实例添加到合约的companies数组中。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135629.png" alt=""></p>
<h5 id="添加银行："><a href="#添加银行：" class="headerlink" title="添加银行："></a>添加银行：</h5><p>若当前msg.sender为仲裁机构地址，且传入的银行名称bName没有与已有的任何公司和银行的名称重复，那么根据传入的bName创建一个新的银行实例，收据索引数组均为空。并将这个新创建的银行实例添加到合约的banks数组中。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135654.png" alt=""></p>
<h5 id="创建新单据（内部方法）"><a href="#创建新单据（内部方法）" class="headerlink" title="创建新单据（内部方法）:"></a>创建新单据（内部方法）:</h5><p>根据传入的实体A名称nameA、实体B名称B、转移资产的数量amt、是否有银行参与bankParticipates和是否是真实资金的转移realMoney,创建一个记录资产从实体A转移到实体B的单据，并将此新创建的单据添加到合约的receipts数组中。该方法会在后续的一些方法中被调用。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135713.png" alt=""></p>
<h5 id="银行向受信公司授权信用资产："><a href="#银行向受信公司授权信用资产：" class="headerlink" title="银行向受信公司授权信用资产："></a>银行向受信公司授权信用资产：</h5><p>若传入的授权信用资产数量amt为正，且传入的银行名称bName和公司名称cpName合法，且cpName对应的公司是受信公司，那么根据传入的银行名称bName、公司名称cpName和授权信用资产数量amt,调用newReceipt方法创建银行向公司授权信用资产的新单据。<br>新单据在receipts数组中的索引存入银行与该公司相应的单据索引储存数组中。银行中储存的该受信公司应向银行归还的资金数额增加amt。该受信公司的信用资产增加amt。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135735.png" alt=""></p>
<h5 id="公司A向公司B转移信用资产："><a href="#公司A向公司B转移信用资产：" class="headerlink" title="公司A向公司B转移信用资产："></a>公司A向公司B转移信用资产：</h5><p>若传入的信用资产转移数量amt为正，且传入的公司A名称companyName_A和公司B名称companyName_B合法，且公司A当前拥有的信用资产数值大于amt,那么根据传入的信用资产转移数量amt、公司A名称companyName_A和公司B名称companyName_B,调用newReceipt方法创建公司A向公司B转移信用资产的新单据。</p>
<p>新单据在receipts数组中的索引存入双方相应的单据索引储存数组中。公司A的信用资产减少amt;公司B的信用资产增加amt。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135757.png" alt=""></p>
<h5 id="银行给予公司真实资金："><a href="#银行给予公司真实资金：" class="headerlink" title="银行给予公司真实资金："></a>银行给予公司真实资金：</h5><p>若传入的资金转移数量amt为正，且传入的银行名称bName和公司名称cpName合法，那么根据传入的银行名称bName、公司名称cpName和转移资金数量amt,调用newReceipt方法创建银行向公司转移资金的新单据。</p>
<p>新单据在receipts数组中的索引存入银行与该公司相应的单据索引储存数组中。该公司的信用资产减少amt,真实资金增加amt。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135829.png" alt=""></p>
<h5 id="受信公司向银行还款："><a href="#受信公司向银行还款：" class="headerlink" title="受信公司向银行还款："></a>受信公司向银行还款：</h5><p>若传入的还款数额amt为正，且传入的公司名称cpName和银行名称bName合法，且cpName对应的公司是受信公司，且还款数额amt合法，即amt小于等于银行记录的授权给该受信公司的信用资产数值减去该公司当前剩余的信用资产数值，那么根据传入的受信公司名称cpName、银行名称bName和还款数额amt,调用newReceipt方法创建受信公司向银行归还资金的新单据。</p>
<p>新单据在receipts数组中的索引存入银行与该公司相应的单据索引储存数组中。银行记录的授权给该受信公司的信用资产数值减少Amt。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135854.png" alt=""></p>
<h5 id="受信公司向银行确认完成本次事务："><a href="#受信公司向银行确认完成本次事务：" class="headerlink" title="受信公司向银行确认完成本次事务："></a>受信公司向银行确认完成本次事务：</h5><p>若传入的传入的公司名称cpName和银行名称bName合法，且cpName对应的公司是受信公司，且受信公司当前信用资产数值等于银行记录的授权给该受信公司的信用资产数值，即受信公司没有未还款项，那么可以确认完成本次事务。受信公司信用资产数值归零；银行记录的授权给该受信公司的信用资产数值归零；合约中变量trustedCompanyHasFinishedWithBank变为true。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140207.png" alt=""></p>
<h5 id="一些查询链上信息的方法："><a href="#一些查询链上信息的方法：" class="headerlink" title="一些查询链上信息的方法："></a>一些查询链上信息的方法：</h5><p>根据公司名称查询公司信息<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140235.png" alt=""><br>根据银行名称查询银行信息<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140506.png" alt=""><br>根据银行名称和受信公司名称查询受信公司应向银行归还的资金数额<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140553.png" alt=""><br>获得现有公司、银行、单据实例的个数<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140609.png" alt=""></p>
<h2 id="3-项目成果的学术价值"><a href="#3-项目成果的学术价值" class="headerlink" title="3.项目成果的学术价值"></a>3.项目成果的学术价值</h2><h3 id="1-共识算法"><a href="#1-共识算法" class="headerlink" title="(1)共识算法"></a>(1)共识算法</h3><p>区块链系统通过共识算法保障系统一致性。 理论上，共识是对某个提案(proposal)达成一致意见的过程，分布式系统中提案的含义十分宽泛，包括事件发生顺序、谁是leader等。区块链系统中，共识是各个共识节点对交易执行结果达成一致的过程。</p>
<p>共识算法分类<br>根据是否容忍 拜占庭错误 ，共识算法可分为容错(Crash Fault Tolerance, CFT)类算法和拜占庭容错(Byzantine Fault Tolerance, BFT)类算法：</p>
<p>CFT类算法 ：普通容错类算法，当系统出现网络、磁盘故障，服务器宕机等普通故障时，仍能针对某个提议达成共识，经典的算法包括Paxos、Raft等，这类算法性能较好、处理速度较快、可以容忍不超过一半的故障节点；</p>
<p>BFT类算法 ：拜占庭容错类算法，除了容忍系统共识过程中出现的普通故障外，还可容忍部分节点故意欺骗(如伪造交易执行结果)等拜占庭错误，经典算法包括PBFT等，这类算法性能较差，能容忍不超过三分之一的故障节点。</p>
<p>FISCO BCOS共识算法</p>
<p>FISCO BCOS基于多群组架构实现了插件化的共识算法，不同群组可运行不同的共识算法，组与组之间的共识过程互不影响，FISCO BCOS目前支持PBFT(Practical Byzantine Fault Tolerance)和Raft(Replication and Fault Tolerant)两种共识算法：</p>
<p>PBFT共识算法: BFT类算法，可容忍不超过三分之一的故障节点和作恶节点，可达到最终一致性；</p>
<p>Raft共识算法: CFT类算法, 可容忍一半故障节点，不能防止节点作恶，可达到一致性。</p>
<h3 id="2-智能合约"><a href="#2-智能合约" class="headerlink" title="(2)智能合约"></a>(2)智能合约</h3><p>交易的执行是区块链节点上的一个重要的功能。交易的执行，是把交易中的智能合约二进制代码取出来，用执行器（Executor）执行。共识模块（Consensus）把交易从交易池(TxPool)中取出，打包成区块，并调用执行器去执行区块中的交易。在交易的执行过程中，会对区块链的状态（State）进行修改，形成新区块的状态储存下来（Storage）。执行器在这个过程中，类似于一个黑盒，输入是智能合约代码，输出是状态的改变。</p>
<p>随着技术的发展，人们开始关注执行器的性能和易用性。一方面，人们希望智能合约在区块链上能有更快的执行速度，满足大规模交易的需求。另一方面，人们希望能用更熟悉更好用的语言进行开发。进而出现了一些替代传统的执行器（EVM）的方案，如：JIT、 WASM_甚至JVM。然而，传统的EVM是耦合在节点代码中的。首先要做的，是将执行器的接口抽象出来，兼容各种虚拟机的实现。因此，EVMC被设计出来。</p>
<p>EVMC (Ethereum Client-VM Connector API)，是以太坊抽象出来的执行器的接口，旨在能够对接各种类型的执行器。FISCO BCOS目前采用了以太坊的智能合约语言Solidity，因此也沿用了以太坊对执行器接口的抽象。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140743.png" alt=""></p>
<p>在节点上，共识模块会调用EVMC，将打包好的交易交由执行器执行。执行器执行时，对状态进行的读写，会通过EVMC的回调反过来操作节点上的状态数据。</p>
<p>经过EVMC一层的抽象，FISCO BCOS能够对接今后出现的更高效、易用性更强的执行器。目前，FISCO BCOS采用的是传统的EVM根据EVMC抽象出来的执行器—Interpreter。因此能够支持基于Solidity语言的智能合约。目前其他类型的执行器发展尚未成熟，后续将持续跟进。</p>
<h3 id="3-对等网络"><a href="#3-对等网络" class="headerlink" title="(3)对等网络"></a>(3)对等网络</h3><p>设计目标<br>FISCO BCOS P2P模块提供高效、通用和安全的网络通信基础功能，支持区块链消息的单播、组播和广播，支持区块链节点状态同步，支持多种协议。</p>
<p>P2P主要功能<br>区块链节点标识<br>通过区块链节点标识唯一标识一个区块链节点，在区块链网络上通过区块链节点标识对区块链节点进行寻址</p>
<p>管理网络连接<br>维持区块链网络上区块链节点间的TCP长连接，自动断开异常连接，自动发起重连</p>
<p>消息收发<br>在区块链网络的区块链节点间，进行消息的单播、组播或广播</p>
<p>状态同步<br>在区块链节点间同步状态</p>
<p>区块链节点标识<br>区块链节点标识由ECC算法的公钥生成，每个区块链节点必须有唯一的ECC密钥对，区块链节点标识在区块链网络中唯一标识一个区块链节点</p>
<p>通常情况下，一个节点要加入区块链网络，至少要准备三个文件：</p>
<p>node.key 节点密钥，ECC格式</p>
<p>node.crt 节点证书，由CA颁发</p>
<p>ca.crt CA证书，CA机构提供</p>
<p>区块链节点除了有唯一区块链节点标识，还能关注Topic，供寻址使用</p>
<p>区块链节点寻址：</p>
<p>区块链节点标识寻址<br>通过区块链节点标识，在区块链网络中定位唯一的区块链节点</p>
<p>Topic寻址<br>通过Topic，在区块链网络中定位一组关注该Topic的节点</p>
<p>管理网络连接<br>区块链节点间，会自动发起和维持TCP长连接，在系统故障、网络异常时，主动发起重连<br>区块链节点间建立连接时，会使用CA证书进行认证</p>
<p>连接建立流程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140829.png" alt=""></p>
<p>消息收发<br>区块链节点间消息支持单播、组播和广播</p>
<p>单播，单个区块链节点向单个区块链节点发送消息，通过区块链节点标识寻址<br>组播，单个区块链节点向一组区块链节点发送消息，通过Topic寻址<br>广播，单个区块链节点向所有区块链节点发送消息</p>
<p>单播流程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140852.png" alt=""></p>
<p>组播流程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140906.png" alt=""></p>
<p>广播流程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140921.png" alt=""></p>
<p>状态同步</p>
<p>每个节点会维护自身的状态，并将状态的Seq在全网定时广播，与其它节点同步<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908140940.png" alt=""></p>
<p>AMOP 消息转发流程<br>单播时序图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141038.png" alt=""><br>多播时序图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141055.png" alt=""><br>带身份验证的单播时序图<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141115.png" alt=""><br>通信协议使用的数据结构:</p>
<p>0x37 消息类型中 content 数据结构：</p>
<p><code>&#123;&quot;nodeId&quot;:&quot;2bb4562f4f4b69e2c5156510da4beddfca548403eb7cea49bd56daed46de31e4d78a44fdfa051170c64f0233dbc0fd75b5b4e8bc2df50a3c9ade833794128623&quot;,&quot;topic&quot;:&quot;#!$TopicNeedVerify_hello&quot;,&quot;topicForCert&quot;:&quot;#!$VerifyChannel_#!$TopicNeedVerify_hello_92be6ce4dbd311eaae5a983b8fda4e0e&quot;&#125;</code></p>
<p>随机数单播中的 content 数据结构：<br><code>&#123;&quot;randValue&quot;:&quot;14131f50ef730219d48e1f9c441db871c&quot;,&quot;topic&quot;:&quot;hello&quot;&#125;</code></p>
<p>随机数签名回包中 content 数据结构：<br><code>&#123;&quot;signature&quot;:&quot;vU/Vzqn4MiP0nO1xN+M5TOk/YcyFtY/TLrgU38jFdooN66r3TzNVKEBpkNId8gCuAeNpNPCo8vmTV3dcs/Xj1AE=&quot;&#125;</code></p>
<p>0x38 消息类型中 content 数据结构：<br><code>&#123;&quot;checkResult&quot;:0,&quot;nodeId&quot;:&quot;2bb4562f4f4b69e2c5156510da4beddfca548403eb7cea49bd56daed46de31e4d78a44fdfa051170c64f0233dbc0fd75b5b4e8bc2df50a3c9ade833794128623&quot;,&quot;topic&quot;:&quot;#!$TopicNeedVerify_hello&quot;&#125;</code></p>
<h3 id="4-交易并行"><a href="#4-交易并行" class="headerlink" title="(4)交易并行"></a>(4)交易并行</h3><p>DAG</p>
<p>一个无环的有向图称做有向无环图（Directed Acyclic Graph），简称DAG图。在一批交易中，可以通过一定方法识别出每笔交易需要占用的互斥资源，再根据交易在Block中的顺序及互斥资源的占用关系构造出一个交易依赖DAG图，如下图所示，凡是入度为0（无被依赖的前序任务）的交易均可以并行执行。如下图所示，基于左图的原始交易列表的顺序进行拓扑排序后，可以得到右图的交易DAG。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141343.png" alt=""></p>
<p>模块架构<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141406.png" alt=""></p>
<p>其中主要流程包括：</p>
<p>用户直接或间接通过SDK发起交易。交易可以是能够并行执行的交易和不能并行执行的交易；</p>
<p>交易进入节点的交易池中，等待打包；</p>
<p>交易被Sealer打包为区块，经过共识后，发送至BlockVerifier进行验证；</p>
<p>BlockVerifier根据区块中的交易列表生成交易DAG；</p>
<p>BlockVerifier构造执行上下文，并行执行交易DAG；</p>
<p>区块验证通过后，区块上链。</p>
<p>DAG数据结构<br>方案中所用到的DAG数据结构如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141434.png" alt=""><br>其中：<br>顶点（Vertex）<br>inDegree用于存储顶点当前的入度;<br>outEdge用于保存该顶点的出边信息，具体为所有出边所连顶点的ID列表。<br>DAG：<br>vtxs是用于存储DAG中所有节点的列表；<br>topLevel是一个并发队列，用于存储当前入度为0的节点ID，执行时供多个线程并发访问；<br>totalVtxs：顶点总数<br>totalConsume：已经执行过的顶点总数；<br>void init(uint32_t _maxSize)：初始化一个最大顶点数为maxSize的DAG；<br>void addEdge(ID from, ID to)：在顶点from和to之间建立一条有向边；<br>void generate()：根据已有的边和顶点构造出一个DAG结构；<br>ID waitPop(bool needWait)：等待从topLevel中取出一个入度为0的节点；<br>void clear()：清除DAG中所有的节点与边信息。<br>TxDAG:<br>dag：DAG实例<br>exeCnt：已经执行过的交易计数；<br>totalParaTxs：并行交易总数；<br>txs：并行交易列表<br>bool hasFinished()：若整个DAG已经执行完毕，返回true，否则返回false;<br>void executeUnit()：取出一个没有上层依赖的交易并执行；</p>
<p>交易DAG构造流程<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141523.png" alt=""><br>1.从打包好的区块从取出区块中的所有交易；<br>2.将交易数量作为最大顶点数量初始化一个DAG实例；<br>3.按序读出所有交易，如果一笔交易是可并行交易，则解析其冲突域，并检查是否有之前的交易与该交易冲突，如果有，则在相应交易间构造依赖边；若该交易不可并行，则认为其必须在前序的所有交易都执行完后才能执行，因此在该交易与其所有前序交易间建立一条依赖边。</p>
<p>DAG执行流程<br>流程如下：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141545.png" alt=""><br>主线程会首先根据硬件核数初始化一个相应大小的线程组，若获取硬件核数失败，则不创建其他线程；<br>当DAG尚未执行完毕时，线程循环等待从DAG中pop出入度为0的交易。若成功取出待执行的交易，则执行该交易，执行完后将后续的依赖任务的入度减1，若有交易入度被减至0，则将该交易加入topLevel中；若失败，则表示DAG已经执行完毕，线程退出。</p>
<h2 id="4-项目成果的社会效益和经济效益，尚需深入研究的问题等"><a href="#4-项目成果的社会效益和经济效益，尚需深入研究的问题等" class="headerlink" title="4.项目成果的社会效益和经济效益，尚需深入研究的问题等"></a>4.项目成果的社会效益和经济效益，尚需深入研究的问题等</h2><h3 id="社会效益"><a href="#社会效益" class="headerlink" title="社会效益"></a>社会效益</h3><h4 id="1-打造全场景透明管理，建信筑和联手FISCO-BCOS助力建造业数字化"><a href="#1-打造全场景透明管理，建信筑和联手FISCO-BCOS助力建造业数字化" class="headerlink" title="(1)打造全场景透明管理，建信筑和联手FISCO BCOS助力建造业数字化"></a>(1)打造全场景透明管理，建信筑和联手FISCO BCOS助力建造业数字化</h4><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141634.png" alt=""><br>随着工业4.0时代持续推进，区块链逐渐挥别纯粹的技术自赏和金融标签，渗透进各类实体产业。</p>
<p>在传统建造场景下，行业信息不透明、管理协同性差、信息化水平不高等“痼疾”，使得建造项目的推进过程存在管理难、追责难、监管难、信任难的问题。“区块链+建造”的结合，利用区块链技术，瞄准这些行业痛点，提出了应用层面的切实解决方案。</p>
<p>深圳市建信筑和科技有限公司（以下简称：建信筑和）基于FISCO BCOS区块链平台开发的“伊OS透明建造解决方案”，正是区块链技术在建造行业场景化应用的典型代表。</p>
<p>该方案凭借全场景管理模式的领先优势，入选区块链服务网络BSN首批官方指定应用，并在工信部中国电子技术标准化研究院主办的2020年第四届中国区块链开发大赛上，斩获桂冠。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141649.png" alt=""></p>
<p>信息不对称+管理难协同，建造业痛点待破局<br>在传统建造业中，“信息不对称+管理难协同”是制约行业发展的重要因素。建造业上下游链条很长，如果产业链上每个环节的参与者之间信息不透明，无形中提高了工作协同的沟通、管理成本。诸如施工方和设计方对于设计方案的扯皮、各主体间款项账期的节点把控模糊等问题层出不穷，拖慢整体工程进度。同时，信息不透明也使甲方难以实现全流程式管理穿透，管理不及时、不到位为项目埋下了违规风险，进一步推高信任成本，反过来又加重了工作协同难度。</p>
<p>在传统行业中，建造业信息化程度一直处于较低水平，建设过程中涉及业主投资方、监管方、代建方、咨询方、设计方、施工方、监理方、运营方等众多单位，同时随着当前各类工程项目投资规模的不断扩大，项目管理和资金监管方面压力大，这些问题制约着建造业生态的健康成长。因此，传统建造业的破局路径之一，就是尽快打破现状，利用信息化手段推动建造业实现项目管理“全场景、全主体、全流程透明协同”，而区块链，则是加速技术化进程的独特手段。</p>
<p>在此背景下，建信筑和加入FISCO BCOS区块链开源生态，基于FISCO BCOS区块链技术打造了面向建造行业的全生命周期管理系统——“伊OS透明建造解决方案”，以推进建造行业实现“全场景透明化管理”。该解决方案运用区块链分布式存储/共享、智能合约等技术，与建造行业已有成熟的IT工具如设计软件、造价系统、智慧工地、BIM系统等进行整合，同时结合大数据和人工智能等先进技术，有效破除了行业痛点，构建了一个具有管理穿透、公开透明、信息共享、信用评价的全过程透明建设平台。</p>
<p>区块链技术助力，建造实现全场景穿透管理<br>“伊OS透明建造解决方案”采取了场景式存证、数字签名、加密算法、智能合约等区块链技术，打破了原有单线任务框架，实现了去中心化的任务协同和数据流转。将原有项目链条（产业链条）上的参与者，例如项目方、设计、施工、勘察、总包、分包、监理、班组等，置于同一任务场景中，不再具有严格的上下游流程关系，原来极易形成彼此掣肘的“物流、资金流、信息流”也能做到有机协同。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141723.png" alt=""></p>
<p>同时由于智能合约触发机制的存在，工程资金流向有了明确的监管方向，资金流转的每一步都可透明，这将进一步确保资金使用的合理、合规、合法。同时，工程资金透明也使得工程质量和安全更有保障，形成建造产业良性循环。</p>
<p>“伊OS透明建造解决方案”不仅能够实现单项目多标段管理，还可以实现多项目管理，目前已被广泛运用在建造行业，有效提升项目运行效率。截止2020年5月底，伊OS平台上运行项目超300个，参建单位达400多家。在某集团在建的100+个管网项目中，伊OS系统协助项目负责人全面的管理现场施工的过程、进度、质量、安全进行，通过奖惩机制成功落地执行，让项目问题解决率从60%提升到80%。</p>
<p>建信筑和CTO房少君表示，区块链技术遇见建造行业，不仅可以对项目全过程实施文件共享、资金监管、工程量申报、质量安全、绩效考核等全场景“俯瞰”，而且能有效点亮原先项目管理、工程结算及资金监管上的“盲区”，“事前任务分布-事中实时监督-事后责任追溯”自此形成了高效协同的有机闭环。</p>
<p>万字报告选定FISCO BCOS，携手重塑建造信用生态<br>为了有效地打造“伊OS透明建造解决方案”，建信筑和选择了FISCO BCOS。“为了甄选区块链底层平台，我们团队专门做了一份过万字的研究报告，最终选定FISCO BCOS，主要是因为它拥有不可多得的语言优势，生态组件、节点部署和技术支持等都非常丰富、易用和高效。”房少君介绍，在FISCO BCOS技术底层上，建信筑和有效地完成了五大业务场景的系统化构建：场景式存证、工程量申报、资金监管、数据交易确权和票据流转。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908141809.png" alt=""><br>基于FISCO BCOS区块链技术的“伊OS透明建造解决方案”能够确保项目实施过程中物流流转和信息流转一一对应、资金流向透明监管、物流全程可追溯和资金到账的高度匹配，不仅是区块链在建造行业中的项目管理流程再造，更是新型“全场景”式管理模式下的信用生态重塑。</p>
<h3 id="2-“人民版权”存证原创新闻超200万篇-FISCO-BCOS应用案例"><a href="#2-“人民版权”存证原创新闻超200万篇-FISCO-BCOS应用案例" class="headerlink" title="(2)“人民版权”存证原创新闻超200万篇 | FISCO BCOS应用案例"></a>(2)“人民版权”存证原创新闻超200万篇 | FISCO BCOS应用案例</h3><p>2019年7月，基于FISCO BCOS区块链底层技术研发的一站式版权管理平台“人民版权”正式上线。至2020年第一季度，该平台在版权原创存证、侵权监测、司法维权方面取得一系列成果：<br>“人民版权”已为超过200万篇新闻稿件进行版权存证；可自动识别的新闻数超过1亿条，相当于3年的新闻总量；全网监测数据量日均近300万条, 全年总监测量超过10亿条。</p>
<p>目前，“人民版权”已经通过国家网信办境内区块链信息服务备案。未来，平台将持续通过区块链、人工智能等创新技术与知识产权保护深度融合，对抗侵权问题，助力构建版权保护新生态。</p>
<p>区块链助力版权保护 存证新闻报道200万篇</p>
<p>近年来，近六成原创媒体作者遭遇过内容侵权，原创稿件被侵权频次高达每篇作品3.64次。网络的虚拟性使得侵权行为难以被及时发现和识别；网络的即时性和裂变传播，令侵权的发展更为迅速，为版权溯源、取证维权也带来了困难。</p>
<p>“人民版权”利用区块链技术的完整性、可追溯性、不可篡改性等特点，综合应用基于区块链的分布式身份解决方案WeIdentity，实现了数字作品链上信息追溯和全网数据监测在内的版权保护全流程管理。</p>
<p>自上线以来，“人民版权”已为2,030,890篇原创新闻报道进行了版权存证保护。全网实时对比监测稿件量达日均2,871,903篇，全年总监测量超过10亿条。识别采集媒体总量达9,988,781家，覆盖了将近全部的电子报刊、网络媒体以及主流客户端。海量信息的实时监测，为快速识别侵权转载并取证上链提供了前提。</p>
<p>首创梯度化司法服务 低成本完成侵权诉讼</p>
<p>“人民版权”首创“梯度化司法综合服务”。面向数字版权维权需求，“人民版权”提供了一套创新司法服务，形成了包含互联网法院、公证、司法鉴定、律师、仲裁为一体的权威司法梯度化服务体系，为版权保护在数权时代的司法维权奠定坚实基础。</p>
<p>此外，与传统的维权模式相比，“人民版权”采用电子证据管理、线上调解、互联网法院诉讼等新模式，以智能电子化代替传统人工模式降低成本，用传统版权服务1/2的价格便可完成确权、维权全流程，帮助用户以最小成本、最高效率维权，提升版权维权的司法效率。</p>
<p>今年初，“人民版权”还正式接入了北京互联网法院“天平链”电子证据平台，成为首个实现版权存证、侵权监测、线上版权交易、司法维权全链条打通的媒体版权平台。</p>
<p>媒体年交易额可达百万 打造线上最大版权交易平台</p>
<p>“人民版权”平台将版权交易环节引入线上。版权交易中心利用区块链技术对内容生产传播全流程的记录，能够进一步帮助媒体实现在信息分发链条上的价值再分配。据悉，线上引入交易环节，媒体单位版权交易年均收益额预估可达七百万元，市场效益可观。</p>
<p>目前，“人民版权”平台已经完成北京歌华有线电视网络股份有限公司、山东数字出版传媒有限公司、微众银行等五大一级节点接入。2019年10月，“北京云·融媒体”成为第一家接入“人民版权”的省级融媒体平台。同时，人民在线/人民网舆情数据中心发起的“人民版权联盟”已有100多家党媒正在对接中。</p>
<p>“人民版权”运用区块链、大数据与AI 识别等创新技术，即将实现视频版权保护功能。目前，“人民版权”正在与西部国家版权交易中心、北方国家版权交易中心、中广电传媒有限公司等进行视频版权方面的合作，携手共促视频版权生态的良性发展。</p>
<p>经济效益<br>FISCO BCOS助力深圳破解网贷良性退出难题<br>虽然区块链技术热度方兴，而深圳已经成功应用于网贷机构良性退出工作中。记者昨日从深圳地方金融监管局获悉，今年上半年，深圳率先全国推出以区块链技术为核心的P2P网贷机构良性退出统一投票表决系统，至今已在全市20家网贷机构投入应用，导入出借人8万余人，待收本金102亿余元。</p>
<p>投票系统让万千出借人有了“表决权”</p>
<p>面对网贷机构退出的兑付方案，普通出借人如何表达自己的意见和诉求？今年上半年，在深圳市、区两级地方金融监管部门的指导和推动下，深圳率先全国推出P2P网贷机构良性退出统一投票表决系统（下称“投票系统”）。</p>
<p>该系统是《深圳市网络借贷信息中介机构良性退出指引》（下称《良性退出指引》）的配套技术支持平台，旨在有效解决平台良性退出过程中涉众决策难的问题，为网贷良性退出工作打响了“开山炮”。</p>
<p>“P2P网贷机构良性退出面临的首要难题是涉众决策难。”深圳市互联网金融协会秘书长曾光介绍，网贷机构管理的资产权属属于出借人，但出借人数量庞大，分布在全国各地，结构复杂诉求不一，平台与出借人沟通成本高、出借人对平台不信任。</p>
<p>为提供涉众决策统一规则，深圳市互联网金融协会率先推出《良性退出指引》，创新设置出借人监督委员会、“三分之二加双过半”的表决规则等一系列良性退出规则要求。</p>
<p>在《良性退出指引》基础上，再度推出“网贷机构投票系统”，使涉及出借人重大利益事项的投票表决成为可能。“在以前的出借人表决实际操作中，往往通过微信群、QQ群、社交网站的投票软件，少数代表的现场会等形式进行投票，其合法性和公正性倍受质疑，执行过程也常有反复。”曾光介绍，在此情况下，新的投票系统为出借人提供投票表决服务，致力于实现公平、公开、透明的投票表决环境。出借人监督委员会负责对相关事项进行审核监督，网贷机构授权协会提供信息披露及投票表决服务。</p>
<p>记者了解到，目前深圳市已经有20家网贷机构使用投票系统。曾光介绍，“使用投票系统的大部分网贷机构都按照《退出指引》要求，积极推动了第一次重大事项投票表决，确认退出流程，选举监委会成员并对清退组和监委会授权。”另外部分平台已通过投票系统完成第二轮投票表决事项，各平台的良性退出工作进展有序。</p>
<h3 id="尚需深入研究的问题"><a href="#尚需深入研究的问题" class="headerlink" title="尚需深入研究的问题"></a>尚需深入研究的问题</h3><p>在区块链系统和业务设计时，不信任什么。</p>
<p>先讲结论： 几乎什么都不能信！建立Don’t Trust,Just Verify的理念，才是通往区块链世界的正确态度。</p>
<p>不信任其他节点<br>区块链节点和其他节点会建立P2P通信，共同组成网络，传递区块、交易、共识信令等各种信息。其他节点可能是由不同的机构、不同的人持有，持有节点的人可能是善意，也可能是恶意。即使在善意假设时，节点运行存活的健康度也会受运维水平和资源影响，比如处于一个不稳定的网络里，会偶尔挂掉，会抽风乱发消息，或者硬盘满等原因导致数据存储失败，以及出现其他可能的故障。在恶意假设时，要预设其他节点可能会骗自己或伤害自己，比如传递过来错误的协议包，或者用诡异的指令寻找漏洞进行攻击，或者发起高频垃圾请求，频繁连接然后断开，又或者海量连接占用资源等。</p>
<p>所以节点应该是把自己看成在黑暗丛林里孤身求生存的猎人，必须有“独立自主”、“自给自足”的态度，摆出“不相信其他任何节点”的姿势保护自己。在节点准入时，需要采用证书技术来认证节点身份；在连接控制上，拒绝有异常的连接；采用频率控制对连接次数、请求量等做限制；在协议包格式和指令正确性等方面做验证。自己发出去的信息，不应暴露自己的私有信息，也不期望其他节点一定会给出立刻和正确的响应，必须采用异步处理和校验容错的设计。</p>
<p>节点和客户端互相不信任<br>客户端，指在区块链网络外，向区块链发起请求的模块，如业务使用的java sdk、钱包客户端等。客户端和节点通过网络端口通信。如果客户端掌握在不受控的人手里，有可能会向节点发起大量的请求，或发送一堆垃圾信息，使节点疲于应对，甚至巧妙地构建漏洞攻击信息，试图越权访问，窃取信息或使节点出错。</p>
<p>同时，从客户端的角度看，节点有可能不响应或响应缓慢，或者返回错误的数据，包括格式错误、状态错误、表示收妥但其实不处理等，甚至别有用心的人会设置一个“假”节点和客户端通信，欺骗客户端。节点做出这些与期望不符的反应，可能使客户端运行出错，功能受损。</p>
<p>为提升节点和客户端的互信，可以为双方分配数字证书，必须通过证书进行双向握手，客户端经过私钥签名才能对节点发起交易类请求，节点应对客户端进行权限控制，拒绝高危的接口调用，不要轻易开放节点管理接口、系统配置接口等。双方对每次通信的数据格式、数据有效性都进行严密校验。双方在交互时也应该进行频率控制，异步处理，对每一个交互进行结果校验，不能预设对方正确处理，必须获取交易回执和处理结果进行确认。</p>
<p>当认为只和一个节点通信并不能保证安全时，客户端可以采用“f+1查询”的思路，尽可能多地和几个节点通信。如果当前链的共识安全模型是“3f+1”，那么，如果从f+1个节点读到的信息是一致的，结果是可以确认的。</p>
<p>不信任区块高度<br>区块高度是一个非常关键的信息，代表整个链当前的状态。向区块链发送交易、节点间进行共识、对区块和状态的校验等操作都会依赖区块高度。</p>
<p>某个节点在断网或处理速度缓慢时，其区块高度有可能落后于整个链，又或者某个节点恶意伪造数据时，其高度又可能超过整个链。在链出现分叉时，如某一个分叉上的区块高度被另一个分叉超越，落后的分叉就会变得毫无意义。即使在正常的情况下，节点依旧有可能间歇性地落后于整个链一到几个区块，然后在一定时间内才可能追上最新高度。</p>
<p>如在PBFT共识模型里，总数2/3以上节点在同一个高度时，全链就有机会达成共识继续出块。余下的1/3的节点有可能和参与共识的节点高度不同，这时意味着从这个节点读取到的数据，并不是全网最新的数据，只能代表链在该高度时的一个快照。</p>
<p>业务逻辑可以把区块高度做为一个参考值，基于高度做一些判定逻辑，在确定性共识（如PBFT）的链上，采用f+1查询等方法确认链的最新高度，在可能分叉的链上，需要参考“6个区块确认”的逻辑，审慎选取可信的区块高度。</p>
<p>不信任交易数据<br>交易（Transaction）代表一方向另一方发起了一个事务请求，交易可能导致资产的转移、改变帐户状态或系统配置，区块链系统通过共识后确认交易，使相关的事务生效。交易必须带上发送者的数字签名，交易里所有数据字段都必须包含在签名里，未经签名的字段存在被伪造的可能，不予采信。交易数据在网络上广播时，可以被其他人读取，如交易数据里包含隐私数据，发送者则必须对数据进行脱敏或加密保护。交易可能因为网络原因被重发，或者被其他人保存下来刻意再次发送，造成交易的“重放”，所以区块链系统必须对交易进行防重，避免出现“双花”。</p>
<p>不信任状态数据<br>区块链的状态（State）数据是由智能合约运行后生成的，理想情况下，每个节点的合约引擎一致、输入一致、规则一致，那么输出的状态就应该一致。但不同的节点可能安装了不同的软件版本，或者合约引擎的沙盒机制不够严密引入了不确定性因素，甚至被侵入、篡改，或者存在其他莫名其妙的bug，都可能导致合约运行输出结果不一致，那么一致性和事务性就无法得到保障。</p>
<p>状态的校验是成本很高的事情，典型的校验方法是使用MPT（Merkle Patricia Tree）树，把所有状态都塞到树里管理起来。MPT树可以把所有的状态归结为一个Merkleroot Hash，节点之间在共识过程中确认交易运行后生成的状态树Merkleroot，确保状态一致。</p>
<p>这棵树结构复杂，数据量大，消耗不少的计算和存储资源，很容易就成为了性能瓶颈。所以对状态的校验需要有更快、更简单，且又稳妥的方案，如结合版本验证、增量Hash验证等算法，辅以数据缓存，可减少重复计算和优化IO次数，能在保证一致性、正确性的同时，有效地提升验证效率。</p>
<p>不信任私钥持有者<br>采用私钥对交易以及其他关键操作进行签名，再使用公钥验签，是区块链上最基础的验证逻辑。只要私钥被正确使用，这个逻辑是安全的。</p>
<p>但私钥仅仅是一段数据，只依赖私钥则用户是匿名的。在联盟链面对的场景里，需要使用许可型的身份，首先通过KYC、尽调、权威认证等现实世界的验证方式确认身份，然后将身份和公钥绑定并公示，或者结合PKI体系的数字证书发放公私钥，这样私钥对应的身份是可知、可信、可控的。</p>
<p>私钥可能会因丢失、泄漏而被他人盗用，或者因被遗忘导致资产损失。所以在私钥的保存上，需要考虑采用周全的保护方案，如加密存储、TEE环境、密码卡、USBkey、软硬加密机等方案。在私钥的管理上，则需要考虑密钥丢失后如何安全的重置、找回。</p>
<p>加强版的私钥使用思路有几个，比如使用多签、门限签名等方式，每次交易时必须用多个私钥进行签名，私钥可以保管在不同的地方，安全性高，但技术方案和使用体验复杂。</p>
<p>还有一种是交易私钥和管理私钥分离。交易私钥用于管理资产，管理私钥用于管理个人资料，交易私钥可以被管理私钥重置，管理私钥本身则通过门限、分片等算法，分开存储保管，以备重置或找回。</p>
<p>不信任其他链<br>在跨链的场景里，每条链有自己的资产、共识，链之间的安全模型变得非常复杂，比如一条链上的记账者串通造假，或者链出现了分叉、区块高度回滚，这时如果链外的其他模块和链有不够严谨的交互，都会造成数据不一致或资产损失。如果不同的链采用的还是不一样的平台架构，那么在工程上会更加复杂。</p>
<p>跨链、侧链目前依旧是业界在研究和逐步实现的课题，主要目的是解决链和链之间的通信，进行资产锁定和资产交换，保证整个过程的全局一致性、交易事务性，以及抗欺诈。从A链往B链转移一个资产，必须要确保A链上的资产被锁定或销毁，且B链上一定能增加对应的一笔资产，在双方可能分别出现分叉、回滚的时间窗里，要有机制确保双向的资产安全。</p>
<p>在现有跨链的方案里，存在中继、链间HUB等方式，这些系统的设计本身也要达到高度可信可靠的标准，安全等级应不低于甚至高于所对接的链，同样也应采用多中心、群体共识的体系设计，整体复杂度可算是链的N次方了。</p>
<p>不信任网络层<br>区块链节点需要和其他节点发生通信，所以必须在网络上暴露自己的通信端口，如果通过公网通信，那么相当于在公网上暴露了自己，很容易遭到类似渗透、DDOS这样的网络攻击。节点必须在网络层保护自己，包括在网关上设置IP黑白名单、设置端口策略、进行DDOS流量防护，且对网络流量、网络状态进行监测，如果突发网络流量或连接数暴增，说不定，就是被人当肉鸡或者正在脱库进行时了。非必要端口，切忌对公网开放，如用于做管理监控的RPC端口，只能对机构内部开放，在进行网络策略设定之前，一定要慎之又慎。</p>
<p>不信任代码<br>“Code is law”确实是一句响亮的口号，但是在程序员头发掉光之前，他写的代码都可能有bug，只是看写bug快还是修bug快而已。</p>
<p>无论是底层的代码还是智能合约代码，都可能存在技术性或逻辑性的坑，但凡代码产生的数据和指令行为，都需要另一段代码对其进行严格地校验，代码本身也需要进行静态和动态扫描，包括采用形式化证明等技术进行全面地审核验证，以检测可能的逻辑错误、安全漏洞或是否有信息泄露。前段时间有一份公布到github上的某酒店系统的代码，居然包括了mysql的连接用户名密码，且数据库端口居然是向公网开放的，这种坑简直不可想象。</p>
<p>开放出去的开源代码，固然可以被人审查、反馈以提升安全性，也可能被人翻找漏洞、随意修改，甚至恶意埋雷。但总的来说，开源还是利大于弊。在开源社区中，开发者会向项目提交PR（Pull Request）。审核PR是很关键也很繁重的工作，值得安排专家并分配大量时间去做审核。有开源项目的老司机透露，其项目核心模块的PR的审核时间长达经年，否则“加了个功能引入两个bug”那真是得不偿失，更别说如果被植入漏洞埋雷了。</p>
<p>不信任记账者<br>共识的流程大致可以抽象为，选出记账者，记账者发布区块，其他节点校验和确认。公链里记账可以用“挖矿”的方式进行（如比特币），矿工用大量的算力代价为它自己的诚信背书，又或者是用大量的资产权益抵押获得记账权（Pos和DPos等共识）。在联盟链常用的PBFT/Raft等算法里，记账者列表可以是随机或轮换产生，记账者给出提案，其他投票人多步提交，收集投票。按少数服从多数的原则，一般是2/3以上共识节点同意，共识才能达成。</p>
<p>从系统可用性角度看，记账者有可能出错、崩溃，或者运行缓慢，影响整个链的出块。又或者记账者可以只收录手续费高的交易，抛弃一些交易，导致有些交易总是不能达成。有的记账者还可以凭借算力或暗箱运作，进行“预挖”或者“扣块攻击”，破坏博弈关系……</p>
<p>记账者故障或作恶，超越了共识的安全阈值的话，将直接伤害整条链的价值基础。根据不同的记账模式，记账者需要设计不同的容错、校验、抗欺诈算法，执行激励和惩罚机制，在运行过程中定期检查记账者的健康度，对于无力记账或者作恶的记账节点，全网不接受他们的记账结果，并对其进行惩戒，甚至是踢出网络。</p>
<p>罗列起来还有很多，包括合约、证书、同步等等，每一个模块都有自己的功用和风险点，简直罄竹难书。总之，区块链做为分布式的多方协作的体系，接入了形形色色参与者，整个体系绝不是单个开发者或运营者所能单点把控，“善意推测”在这个领域已经不尽适用，整个世界步步惊心，处处冷箭，只能通过周密的算法和繁杂的流程维系共识和安全，简而言之，没有经过验证的信息，一个字节都不能相信。</p>
<p>比起单一环境里的软件设计，区块链领域的设计思路确实存在颠覆性，开发者要从“做功能，只容错，不防骗”的思维模式里跳出来，带着“怀疑一切”的态度进行设计。</p>
<p>开发者在面向区块链领域时，不能只是思考怎么实现一个功能，而更要去思考整个流程会不会有出错，会不会被人篡改数据、发掘漏洞、攻击系统、欺诈其他参与者。要换位思考自己所实现的功能，会被别人用什么方式使用，在不同的环境会有什么表现，可能造成什么后果。任何收到的信息，任何流程输入、输出，都必须经过严格地校验才能采信，开发者能做到这一点，才算是打开了区块链新世界的大门，才能在连续剧里至少活到第二集。</p>
<p>分布式算法、对称非对称加密、HASH、证书、安全和隐私等技术在区块链领域大行其道，都是为了在保护信息的同时，给信息加上一层又一层的证明和可验证因子，这使得整个系统变得复杂、繁琐，但这是值得的，因为这样才能共同验证，构建“安全”和“信任”。</p>
]]></content>
      <categories>
        <category>项目展示</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>黑苹果</tag>
        <tag>Ubuntu</tag>
        <tag>区块链</tag>
        <tag>创新</tag>
      </tags>
  </entry>
  <entry>
    <title>来自Guuuuuu老师的CV岗、OCR、目检检测、多模态方向面试经验分享</title>
    <url>/112-cv-interview/</url>
    <content><![CDATA[<p>该面经来自<a href="https://t.bilibili.com/637006992262561816?tab=2">Guuuuuu老师儿</a>,浙江大学软件学院研究生，在人工智能上十分优秀，Gu老师的CRNN和CTPN教程对我十分有帮助</p>
<h1 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h1><p>略</p>
<h1 id="项目问题"><a href="#项目问题" class="headerlink" title="项目问题"></a>项目问题</h1><p>简历项目</p>
<h1 id="面试问题"><a href="#面试问题" class="headerlink" title="面试问题"></a>面试问题</h1><h2 id="问过的基础问题"><a href="#问过的基础问题" class="headerlink" title="问过的基础问题"></a>问过的基础问题</h2><ul>
<li><p>DBNet的都用了哪些loss<br>BinaryCrossEntropy（prob map, binary map） L1 (threshold map)，但是代码实现中有对binary map采用Dice loss，即对预测map和gt map计算该公式 ，这里其实是借鉴了PSENet中的做法，他认为文字只在图片中占很小的区域，因此正负样本不均衡，相当于负样本多，使用BCE loss容易让网络偏向预测非文字区域，而Dice loss恰好对正负样本不均衡的场景有比较不错的性能，训练过程中更侧重对前景区域的挖掘（缺点是对反向传播不利，训练loss不稳定，尤其是小目标)</p>
</li>
<li><p>DBNet为什么做shrink操作<br>shrink为了更好区分实例，直接分割可能紧密的文字会被检测成一个连通区域，分割方法比较敏感，借鉴自PSENet</p>
</li>
<li><p>Hard Negative Mining<br>先划分正负样本1：3训练，训练好的模型预测剩余的负样本，把预测成正样本概率大于某一阈值的负样本挑出来加入训练集有利于模型的训练，相当于加入错的比较厉害的样本让网络学习，RCNN方法中常用。例如厨房预测蜘蛛的例子，含有蜘蛛的图片可能很少，但是厨房可能有很多东西长得像蜘蛛，拿这些负样本训练有利于模型学习更好的特征</p>
</li>
<li><p>Attention都有哪些方式<br>本质上就是加权求和，主要就是计算权重</p>
</li>
</ul>
<p><em>Encoder-Decoder机制角度</em><br>解决长序列仅依靠一个context解码，所以加入attention</p>
<ol>
<li><p>朴素attention: decoder每次输入上一个时间步的预测输出，得到hidden vector作为q，encoder的每个time step的hidden vector作为k，v，计算权重相似性相关性（点积，cosin相似性，MLP加点可学习参数预测），计算权重（softmax），加权求和得到当前time step decoder的一个context然后和hidden vector concat预测当前时间的输出</p>
</li>
<li><p>self attention: 序列的每个token embedding线性映射得到QKV，然后每个Q对所有的K计算相关性权重，然后对V加权求和得到当前位置的这个attention特征</p>
</li>
<li>多头self attention: 与其说做单个的注意力，不如把每个QKV投影到低维投影多次，每个embedding得到多个QKV，最后得到的attention 特征并在一起在做一个投影回到原来的尺寸。为什么做多头，比如Transformer里面，可能计算相似度的时候直接使用点积没什么可学习的参数，有时候为了识别不一样的模式，其实这里多次投影就是学到不一样投影的方法，使得在投影进去的那个空间里面可以度量不同的模式（from 李沐 Transformer论文精读）</li>
</ol>
<p><em>特征图角度的Attention机制</em><br>也是做加权求和，主要是求权重</p>
<ol>
<li>特征图：以CBAM为例，我一个特征图可以保持channel维度不变把WH维 度pooling成1,然后经过MLP求一个权然后做Channel维度的attention，然后可以保持WH维度不变，对Channel维度pooling然后经过几层卷积得到WH维度的权重，然后对WH上做空间attention</li>
<li>多尺度：给FPN不同尺度上加自适应的权重，去学习，相当于做不同阶段feature map的attention</li>
</ol>
<ul>
<li>Transformer中做self attention时，求softmax的公式为什么要给logits除 ，d是维度</li>
</ul>
<script type="math/tex; mode=display">Attention(Q,K,V)=softmax(\frac {QK^T} {\sqrt  {d_k}})V</script><p>简单来说为了稳定梯度。因为做self attention求相关度的时候要做点积，而当d比较大时，有时可能使得值会非常大，当值变大时，和其他值的相对差距也就会变大，使得softmax做出来会非常接近1，其他值就会接近于0，当出现这种情况时，算梯度会很小，因此除一个根号d是个不错的选择，实验可以发现，对于d比较大时，scale后的softmax求梯度可以比较稳定，而不带scale的softmax很容易梯度消失。<br>具体的一些数学解释可以看：<a href="https://www.zhihu.com/question/339723385">https://www.zhihu.com/question/339723385</a></p>
<ul>
<li><p>Focal loss如何解决正负样本不均衡的<br>CE loss前面加权重 $(1-p_y)^\gamma$，当预测正确是$1-p_t$这个权重接近0，降低loss权重，而预测错误时， $1-p_t$接近于1，相当于原始的CE loss。 相当于对于样本难易程度的控制，即怎么算难样本怎么算易样本。外面再套一个balance参数，正样本a负样本1-a（a可以用类别频率的倒数或当成可调超参数，进一步给不均衡的正负样本做加权）</p>
</li>
<li><p>SVM<br>详细讲解视频B站《机器学习白板推导》<a href="https://www.bilibili.com/video/BV1aE411o7qd?p=28">https://www.bilibili.com/video/BV1aE411o7qd?p=28</a><br>svm有三宝：间隔，对偶，核技巧<br>分类：硬间隔svm，软间隔svm，核svm</p>
</li>
</ul>
<ol>
<li>硬间隔svm：（最大间隔分类器）对线性可分问题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140207211.png" alt=""></li>
</ol>
<p>可以分隔两类的超平面很多，但是要找到一个超平面使得它到样本点的距离都足够大<br>margin定义为点到超平面距离，最小的那个<img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140211466.png" alt=""><br>借助<strong>拉格朗日乘子</strong>将带约束问题变成无约束问题</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140211775.png" alt=""></p>
<p>然后求其对偶问题<br>对偶问题的关系（下面是弱对偶关系）<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140212482.png" alt=""></p>
<p>相等时强对偶关系，而这里的问题本身是强对偶关系，所以直接求其对偶问题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140212716.png" alt=""></p>
<p>KKT条件<br>原问题和对偶问题是强对偶关系的充要条件是KKT条件</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140213077.png" alt=""></p>
<p>只在支持向量（两条虚线）上lambda才有值，其他都是零，解其实可以看成是数据的线性组合</p>
<ol>
<li>软间隔svm：<br>硬间隔认为数据理想线性可分，实际情况复杂软间隔的思想就是允许有一点点错误，引入hinge loss<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140214692.png" alt=""></li>
</ol>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140214092.png" alt=""></p>
<ol>
<li>核svm（针对严格非线性问题）：<br>$\phi(x)$+hard margin<br>高维比低维更易线性可分<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140215819.png" alt=""></li>
</ol>
<p>但是求核方法（从思维角度）的值再求内积计算量大，希望有一个函数直接代替求出 内积（核函数，从计算角度）</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140215639.png" alt=""></p>
<ul>
<li>Hinge Loss<script type="math/tex; mode=display">J_{hinge}=\sum_{i=1}^{N} {max(0,1-sgn(y_i)\hat{y_i})}</script></li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140219757.png" alt=""></p>
<ul>
<li>c树模型<br>内容比较多，建议系统学习</li>
<li>带有warmup的cosin学习率更新</li>
<li>yolo系列模型（v1-v5 + X）<br>建议看看论文，详细学习一下</li>
<li>Batch Normalization（重要☆☆☆☆☆）<br>BN解决的问题是对于深层神经网络，隐藏层出现internal covariate shift，即随着隐层参数不断更新，每一层的输入分布会不断变化，导致收敛变慢而且不稳定，本质是因为分布会逐向<br>非线性激活函数上下限两端靠近，比如sigmoid，会偏向大的正值或负值，这样导致反向传播时底层神经网络梯度消失。<br>而BN首先就是将每一隐藏层输入的分布拉回到均值0方差1的标准正态分布，但是这样严格限制了网络的表达能力，因此加入beta和gamma两个可学习的参数让数据分布的自由度更高。</li>
</ul>
<ol>
<li>$M \times L$维度的1D数据，M为batch size，L为特征维度<br>以普通的一维数据为例，每个样本有L个特征，共M个样本，那么它的BN公式表示如下:<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140223649.png" alt=""></li>
</ol>
<p>对第i个特征，计算所有样本的均值和方差，然后对每个样本的i号特征计算BN如下所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140224401.png" alt=""></p>
<p>可以看到$\gamma$ 和$\beta$ 如果恰好等于批量的方差和均值时，则等价于没有</p>
<p>BN预测阶段，因为$\gamma$ 和$\beta$ 都是可学习的参数，因此到预测阶段就固定了所以直接拿来用</p>
<p>重点是均值和方差怎么办，因为预测时样本数为1不能计算均值方差，因此需要在训<br>练阶段计算均值方差的滑动平均值<br>即使用一个动量参数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">running_mean = momentum * running_mean + (<span class="number">1</span> - momentum) * x_mean </span><br><span class="line">running_var = momentum * running_var + (<span class="number">1</span> - momentum) * x_var</span><br></pre></td></tr></table></figure>
<p>完整代码如下:<br>注意，这里的代码求mean和var的部分只适用于 $M \times L$的数据，M为batch size，L为特征维度</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Batchnorm_simple_for_train</span>(<span class="params">x, gamma, beta, bn_param</span>): <span class="number">2</span>	</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">	param:x	: 输入数据，设shape(B,L)</span></span><br><span class="line"><span class="string">	param:gama : 缩放因子	γ</span></span><br><span class="line"><span class="string">	param:beta : 平移因子	β</span></span><br><span class="line"><span class="string">	param:bn_param	: batchnorm所需要的一些参数</span></span><br><span class="line"><span class="string">	eps	: 接近0的数，防止分母出现0</span></span><br><span class="line"><span class="string">	momentum : 动量参数，一般为0.9， 0.99， 0.999</span></span><br><span class="line"><span class="string">	running_mean ：滑动平均的方式计算新的均值，训练时计算，为测试数据做准备</span></span><br><span class="line"><span class="string">	running_var	: 滑动平均的方式计算新的方差，训练时计算，为测试数据做准备</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">	running_mean = bn_param[<span class="string">&#x27;running_mean&#x27;</span>]	<span class="comment">#shape = [B]</span></span><br><span class="line">	running_var = bn_param[<span class="string">&#x27;running_var&#x27;</span>]	<span class="comment">#shape = [B]</span></span><br><span class="line">	momentun = bn_param[<span class="string">&#x27;momentun&#x27;</span>]	<span class="comment">#shape = [B]</span></span><br><span class="line">	results = <span class="number">0.</span> <span class="comment"># 建立一个新的变量</span></span><br><span class="line"></span><br><span class="line">	x_mean=x.mean(axis=<span class="number">0</span>)	<span class="comment"># 计算x的均值	这里axis=0只适用于N X L维度的数据，即1dbatch norm</span></span><br><span class="line">	x_var=x.var(axis=<span class="number">0</span>)	<span class="comment"># 计算方差</span></span><br><span class="line"></span><br><span class="line">	running_mean = momentum * running_mean + (<span class="number">1</span> - momentum) * x_mean</span><br><span class="line">	running_var = momentum * running_var + (<span class="number">1</span> - momentum) * x_var</span><br><span class="line"></span><br><span class="line">	x_normalized=(x - running_mean)/np.sqrt(running_var + eps)	<span class="comment"># 归一化</span></span><br><span class="line">	results = gamma * x_normalized + beta	<span class="comment"># 缩放平移</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">#记录新的值</span></span><br><span class="line">	bn_param[<span class="string">&#x27;running_mean&#x27;</span>] = running_mean</span><br><span class="line">	bn_param[<span class="string">&#x27;running_var&#x27;</span>] = running_var <span class="number">29</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> results , bn_param</span><br></pre></td></tr></table></figure>
<p>对于 $M \times L$ 的数据，计算mean和var的核心代码如下：<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 一维数据 N X L N为batch size L为特征数 </span></span><br><span class="line"><span class="comment"># pytorch 版本 </span></span><br><span class="line">a = torch.randn((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(a) </span><br><span class="line">mean = a.mean(<span class="number">0</span>) <span class="comment"># 按照N维度，对每个特征竖着求mean和var </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mean:&#x27;</span>, mean) </span><br><span class="line">var = a.var(<span class="number">0</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;var:&#x27;</span>, var) </span><br><span class="line">norm = (a - mean) / (torch.sqrt(var) + <span class="number">1e-7</span>) <span class="comment"># 这里其实运用了 广播机制 </span></span><br><span class="line"><span class="built_in">print</span>(norm) </span><br><span class="line"></span><br><span class="line"><span class="comment"># numpy 版本 </span></span><br><span class="line">b = np.random.random((<span class="number">3</span>, <span class="number">4</span>)) </span><br><span class="line"><span class="built_in">print</span>(b) </span><br><span class="line">mean = b.mean(<span class="number">0</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mean:&#x27;</span>, mean) </span><br><span class="line">var = b.var(<span class="number">0</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;var:&#x27;</span>, var) </span><br><span class="line">norm = (b - mean) / (np.sqrt(var) + <span class="number">1e-7</span>) <span class="comment"># 这里其实运用了广播机制</span></span><br><span class="line"><span class="built_in">print</span>(norm)</span><br></pre></td></tr></table></figure></p>
<ol>
<li>$N \times C \times L$ 的数据<br>这种情况其实可以想象成对序列数据做BN，比如NLP中以句子作为输入，C就是每个word embedding的特征维度，L是长度，N是batch size</li>
</ol>
<p>这里我们假设batch里每个样本即每个句子长度一样，则如下图，其实还是对每个特征做norm，即在C的维度上做norm</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140233848.png" alt=""></p>
<p>核心求mean和var的代码</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 对 N X C X L 的数据	对C做norm</span></span><br><span class="line"><span class="comment"># pytorch 版本</span></span><br><span class="line">a = torch.randn((<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">mean = a.mean((<span class="number">0</span>, <span class="number">2</span>))	<span class="comment"># 对哪些维度求和就填哪些维度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mean:&#x27;</span>, mean)</span><br><span class="line"></span><br><span class="line">var = a.var((<span class="number">0</span>, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;var:&#x27;</span>, var)</span><br><span class="line">norm = (a - mean[<span class="literal">None</span>, :, <span class="literal">None</span>]) / (torch.sqrt(var[<span class="literal">None</span>, :, <span class="literal">None</span>]) + <span class="number">1e-7</span>)	<span class="comment"># 扩展维度，channel维度为:其他为None</span></span><br><span class="line"><span class="built_in">print</span>(norm) </span><br><span class="line"></span><br><span class="line"><span class="comment"># numpy 版本</span></span><br><span class="line">b = np.random.random((<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)) <span class="built_in">print</span>(b)</span><br><span class="line">mean = b.mean((<span class="number">0</span>, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mean:&#x27;</span>, mean)</span><br><span class="line">var = b.var((<span class="number">0</span>, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;var:&#x27;</span>, var)</span><br><span class="line">norm = (b - mean[<span class="literal">None</span>, :, <span class="literal">None</span>]) / (np.sqrt(var[<span class="literal">None</span>, :, <span class="literal">None</span>]) + <span class="number">1e-7</span>)</span><br><span class="line"><span class="built_in">print</span>(norm)</span><br></pre></td></tr></table></figure>
<ol>
<li>$N \times C \times H \times W$维度的数据<br>这里主要是BN在CNN上的应用</li>
</ol>
<p>仍然按照C的维度，对逐个channel计算BN，即有多少个channel就会有多少组可学<br>习的$\gamma$ ,$\beta$</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140236036.png" alt=""></p>
<p>对每个channel计算均值即全部加起来，除以$N \times W \times H$</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140237039.png" alt=""></p>
<p>为什么按照channel维度逐个channel计算BN<br>其实本质上是对每个feature map做BN，每层有多少个卷积核，就会对应多少的channel，因此对应了多少feature map，就学习几个 ，意味着对每一个卷积kernel得到的batch_size张feature map做一次BN。 求mean和var的核心代码如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 对 N X C X H X W 的数据	对C做norm</span></span><br><span class="line"><span class="comment"># pytorch 版本</span></span><br><span class="line">	a = torch.randn((<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">mean = a.mean((<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>))	<span class="comment"># 对哪些维度求和就填哪些维度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mean:&#x27;</span>, mean) <span class="number">7</span>	var = a.var((<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;var:&#x27;</span>, var)</span><br><span class="line">norm = (a - mean[<span class="literal">None</span>, :, <span class="literal">None</span>, <span class="literal">None</span>]) / (torch.sqrt(var[<span class="literal">None</span>, :, <span class="literal">None</span>, <span class="literal">None</span>]) + <span class="number">1e-7</span>)	<span class="comment"># 扩展维度， channel维度为:其他为None</span></span><br><span class="line"><span class="built_in">print</span>(norm) </span><br><span class="line"></span><br><span class="line"><span class="comment"># numpy 版本 </span></span><br><span class="line">b = np.random.random((<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>)) </span><br><span class="line"><span class="built_in">print</span>(b) </span><br><span class="line">mean = b.mean((<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>)) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;mean:&#x27;</span>, mean) </span><br><span class="line">var = b.var((<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>)) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;var:&#x27;</span>, var) </span><br><span class="line">norm = (b - mean[<span class="literal">None</span>, :, <span class="literal">None</span>, <span class="literal">None</span>]) / (np.sqrt(var[<span class="literal">None</span>, :, <span class="literal">None</span>, <span class="literal">None</span>]) + <span class="number">1e-7</span>) </span><br><span class="line"><span class="built_in">print</span>(norm)</span><br></pre></td></tr></table></figure>
<ul>
<li>BN的优点：</li>
</ul>
<ol>
<li>可以使用更大的学习率，训练过程更加稳定，极大提高了训练速度。</li>
<li>可以将bias置为0，因为Batch Normalization的Standardization过程会移除直流分量，所以不再需要bias。 3. 对权重初始化不再敏感</li>
<li>深层网络可以使用sigmoid和tanh了，理由同上，BN抑制了梯度消失。</li>
<li>Batch Normalization具有某种正则作用，不需要太依赖dropout，减少过拟合。</li>
</ol>
<p>BN的缺点：<br>batch normalization依赖于batch的大小，当batch值很小时，计算的均值和方差不稳定，因为基于小样本计算的均值方差不能反映全局的统计分布信息，不适用在</p>
<ul>
<li>LayerNorm（考Transformer的时候会和BN作对比）<br>BN存在两个问题</li>
</ul>
<ol>
<li>BN与batch size<br>当样本数小时不适用，因8为少样本计算的均值方差不能反映全局统计分布信息，方差均值会不稳定。</li>
<li>BN与RNN：<br>对于输入是时序序列时，每个样本长度不同，得到的特征可能是如下图所示<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140240688.png" alt=""></li>
</ol>
<p>如果我们把这个东西填充成立方体，即其余部分用0填充，batch norm做的事情是下<br>图这个样子，在这个维度上求均值方差做BN</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140240877.png" alt=""></p>
<p>LN是对每个样本做<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140240302.png" alt=""></p>
<p>这样做的好处是相比于BN，因为每个样本长短不同，因此计算出来的均值方差会有<br>较大抖动，此外因为BN需要通过滑动平均计算全局的均值方差用于预测，当预测时<br>有一个非常长的序列，长过所有训练样本，此时计算的全局的均值方差可能就不太适<br>用<br>而LN每次是对一个样本计算均值方差就不存在这个问题</p>
<p>下面是李沐在讲解transformer时对比BN LN的图</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140241256.png" alt=""></p>
<p>下面是另一个对比图<br>BN如右侧所示，它是取不同样本的同一个通道的特征做归一化；LN则是如左侧所示，它取的是同一个样本的不同通道做归一化。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140241873.png" alt=""></p>
<ul>
<li>二分类为什么不能用MSE Loss<br>主要原因在于MSE Loss（mean-squared loss）当与Sigmoid搭配使用时，loss的偏导数的变化趋势和预测值及真实值之间的差值的变化趋势不一致。梯度弥散（即在接近负无穷和正无穷时梯度接近于0）</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140242596.png" alt=""></p>
<p>使用Cross Entropy 的梯度信息大于MSE 即收敛速度快</p>
<ul>
<li>深度学习常见回归Loss对比总结（L1, L2, Smooth L1） </li>
</ul>
<ol>
<li>L1 Loss 平均绝对误差（MAE）<script type="math/tex; mode=display">J_{MAE}= \frac{1}{N} \sum_{i=1}^{N} |y_i - \hat{y_i}|</script></li>
</ol>
<p>其导数为±1，如下图</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140246682.png" alt=""></p>
<p>优点：鲁棒性和抗干扰能力更强，对异常点不太敏感，导数稳定不会导致梯度爆炸<br>缺点：导数恒为常数，收敛慢，很难收敛到高精度</p>
<p>一般用于简单模型<br>L1 Loss在不可导处如何处理？</p>
<p>坐标轴下降法：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140246793.png" alt=""></p>
<p>坐标轴下降法进行参数更新时，每次总是固定另外m-1个值，求另外一个的局部最优值</p>
<ol>
<li>L2 Loss 均方误差（MSE）</li>
</ol>
<script type="math/tex; mode=display">J_{MSE}= \frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y_i})^2</script><p>导数为</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140248803.png" alt=""></p>
<p>优点：收敛速度比L1 Loss快，稳定性更好<br>缺点：对异常点敏感，平方会放大误差，输入值较中心值较远时可能导致梯度爆炸一般用于复杂神经网络如CNN</p>
<ol>
<li>Smooth L1 Loss<br>是L1 Loss和L2 Loss的结合体<script type="math/tex; mode=display">SmoothL_{1}(x)=
 \begin{cases}
     0.5x  & \text{if|x|<1} \\
     |x|-0.5        & \text{otherwise} \\
 \end{cases}</script></li>
</ol>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140253795.png" alt=""></p>
<p>当预测值和ground truth差别较小的时候（绝对值差小于1），其实使用的是L2Loss，当绝对值差小于1时，由于L2会对误差进行平方，因此会得到更小的损失，有利于模型收敛。而当差别大的时候，是L1 Loss的平移，因此相比于L2损失函数，其对离群点（指的是距离中心较远的点）、异常值（outlier）不敏感，可控制梯度的量级使训练时不容易跑飞。在Faster R-CNN以及SSD中对边框的回归使用的损失函数都是Smooth L1 作为损失函数</p>
<p>Smooth L1能从两个方面限制梯度：</p>
<ol>
<li>当预测框与 ground truth 差别过大时，梯度值不至于过大；</li>
<li>当预测框与 ground truth 差别很小时，梯度值足够小。</li>
</ol>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140254076.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140254711.png" alt=""></p>
<p>Smooth L1通用形式：</p>
<script type="math/tex; mode=display">l_{n}=
    \begin{cases}
        0.5(x_n-y_n) ^2/beta , & {if|x_n-y_n|<beta} \\
        |x_n-y_n|-0.5*beta ,      & \text{otherwise} \\
    \end{cases}</script><p>另外，现在主流的实现方式，参考<a href="https://github.com/facebookresearch/maskrcnn-benchmark">https://github.com/facebookresearch/maskrcnn-benchmark</a></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140300005.png" alt=""></p>
<ul>
<li>Cross Entropy Loss</li>
</ul>
<ol>
<li>二分类<script type="math/tex; mode=display">NLL(x,y)=J_{CE}=-\sum_{i=1}^{N}y_ilog(\hat{y_i})+(1-y_i)log(1-\hat{y_i})</script></li>
</ol>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140303955.png" alt=""></p>
<p>二分类时Cross Entropy Loss就是Logistics Loss，通常会使用sigmoid架构模型的输<br>出压缩到(0, 1)之间</p>
<p>sigmoid公式</p>
<script type="math/tex; mode=display">S(x)= \frac {1}{1+e^{-x}}</script><p>其导数为$S(x)(1-S(x))$</p>
<ol>
<li>多分类<br>会把sigmoid函数换成Softmax函数，因此多分类时的Cross Entropy也被称为Softmax Loss</li>
</ol>
<p>softmax公式</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140310565.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140310070.png" alt=""></p>
<ul>
<li><p>二分类中，使用CE loss和BCE loss模型结构的设计上有什么不同<br>BCE loss使用sigmoid激活，最终的输出只有一个输出值（一个神经元），CE loss使用softmax需要两个输出值（两个神经元）</p>
</li>
<li><p>分类问题为什么使用交叉熵<br>假设对所有样本    存在最优分布 真实的表示各个样本属于每个类别的概率，那么我们就希望模型输出的 逼近这个分布<br>然后就用KL散度衡量两个分布的相似性<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140311020.png" alt=""></p>
</li>
</ul>
<p>第一项为分布p的信息熵，第二项为分布p和q的交叉熵，将实际的最优分布   和输出分布带入得到：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140311545.png" alt=""></p>
<p>因为前一项和最优分布本身有关，所有变成优化后面一项，形式上就是交叉熵的计算公式</p>
<ul>
<li><p>多分类下为什么使用softmax而不是使用其他归一化方法<br>1.希望特征对概率的影响是乘性的<br>2.与cross entropy结合反向传播求导形式简洁</p>
</li>
<li><p>如何解决softmax的指数上溢下溢问题<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140312409.png" alt=""></p>
</li>
</ul>
<ul>
<li>RoI Pooling和RoI Align<br>RoI Pooling<br>roi pooling先映射到feature map上得到一个区域，如果输入2x2，首先进行section划分得2x2的区域，然后对每个section取max pooling，具体操作就是行列数/section的行列数得到每个区域几个格子</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140315856.png" alt=""></p>
<p>RoI Align<br>roi pooling映射roi和划分区域的时候取整了这样使得roi和proposal无法对齐，roi align就是要保留浮点数边界，划分的时候也是保留浮点边界，均匀等分。对每个划分完的小区（bin） 域再划分采样点，4个效果比较好，每个采样点通过双线性插值的方法获得，最后对采样点取max pooling</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140316069.png" alt=""></p>
<ul>
<li>Anchor生成<br>在图像左上角创建一组anchor base，首先确定中心点坐标，比如，如果base_size设置为16，我们让中心点为(8,8)</li>
</ul>
<p>然后创建好数组，大小为ratio长度乘scales长度</p>
<p>两个for循环遍历ratio和scales，然后计算每个ratio和scale下的宽高，宽高计算公式为<code>base_size * scale * sqrt(ratio)</code>和<code>base_size * scale * sqrt(1/ratio)</code><br>根号的目的是保证宽高比不被平方<br>然后根据计算出来的宽高和中心点坐标计算每个anchor左上角和右下角坐标<br>然后根据feat stride生成在原始图片上的xy坐标偏移量加到anchor base上得到全图的anchor xy坐标偏移量一般是先单独生成一维的x和y的偏移，然后组合成二维网格的偏移，最后xy各重复两遍构成4个元素的元组作为xmin ymin xmax ymax的偏移加上去（具体看源代码）</p>
<ul>
<li>Max Pooling如何梯度回传</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140320362.png" alt=""></p>
<ul>
<li><p>Pooling的作用<br>（1）下采样，提高感受野<br>（2）减少参数量，减少过拟合，降低计算成本<br>（3）可以多尺度融合<br>最大池化保留了纹理特征,平均池化保留整体的数据特征</p>
</li>
<li><p>YOLOv2中anchor聚类的过程<br><a href="https://zhuanlan.zhihu.com/p/109968578?utm_source=wechat_session">https://zhuanlan.zhihu.com/p/109968578?utm_source=wechat_session</a></p>
</li>
<li><p>Triplet loss<br>Triplet loss最初是在FaceNet的论文中提出，可以较好地学到人脸的embedding，相似的图像在embedding空间里是相近的，可以判断是否是同一个人脸</p>
</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140321631.png" alt=""></p>
<p>为什么不用<code>softmax</code> 函数呢，<code>softmax</code> 最终的类别数是确定的，而<code>Triplet loss</code> 学到的是一个好的<code>embedding</code> ，相似的图像在<code>embedding</code> 空间里是相近的，可以判断是否是同一个人脸</p>
<p>输入是一个三元组<code>&lt;a,p,n&gt;</code></p>
<ul>
<li>a： anchor</li>
<li>p： positive , 与a是同一类别的样本</li>
<li>n： negative , 与a是不同类别的样本</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140324951.png" alt=""></p>
<p>最小化L，则d(a,p)-&gt;0，d(a,n)-&gt;margin</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140324101.png" alt=""></p>
<p>三元组分为以下三个类别：</p>
<ul>
<li>easy triplets：可以使loss为0的三元组，即容易分辨的三元组。</li>
<li>hard triplets：d(a,n)&lt;d(a,p)，即一定会误识别的三元组。</li>
<li>semi-hard triplets：d(a,p)&lt;d(a,n)&lt;d(a,p)+margin，即处在模糊区域的三元组。</li>
</ul>
<p><strong>semi-hard triplets对我们训练非常重要。</strong></p>
<p>训练方法<br>1.offline<br>训练集所有数据经过计算得到对应的embedding，可以得到多个三元组，然后计算triplet loss。<br>效率不高，因为一次要过一遍所有的数据。<br>2.online<br>只计算batch中的triplets，实际中采用这种方法，又分为两种策略，假设<code>B=P*K</code>，P指P个人，每个人有K张图片。</p>
<p>Batch All：计算batch_size中所有valid的hard triplet和semi-hard triplet，然后去平均得到loss。可以产生PK(K-1)(PK-K)个三元组。</p>
<p>Batch Hard：对于每一个anchor，选择距离最大的正样本和距离最小的负样本，共有PK个三元组。</p>
<p>Triplet loss通常是在个体级别的细粒度识别上应用，传统的分类是花鸟狗的大类别的识别，但是有些需求要精确到个体级别，比如精确到哪一个人的人脸识别，所以triplet loss的最主要应用也就是face identification、person re-identification、vehicle re-identification的各种identification问题上。</p>
<ul>
<li><p>L1正则化和L2正则化<br>L1正则化容易使得参数更新时变成0，得到稀疏化的权重，降低模型复杂度，L1正则化有助于选择重要的特征，并将其余特征变为零<br>L2正则化容易使得参数更新时值变得很小，得到一个相对平滑的权重，降低模型结构风险防止过拟合</p>
</li>
<li><p>方差和偏差<br>和optimal (base) error相比，比如一般按人类的准确率<br>偏差 high bias -&gt; underfitting -&gt;Trainset error<br>方差 high variance -&gt; overfitting -&gt; Dev set error</p>
</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140327124.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140328965.png" alt=""></p>
<ul>
<li>SGD和Adam的优劣：（总结优化器发展）<br>SGD -&gt; SGDM -&gt; NAG -&gt;AdaGrad -&gt; AdaDelta -&gt; Adam -&gt; Nadam</li>
</ul>
<p>优化器框架：<br>步骤3、4对于各个算法都是一致的，主要的差别就体现在1和2上<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140328328.png" alt=""></p>
<p>1.SGD<br>先来看SGD。SGD没有动量的概念，也就是说：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140329633.png" alt=""><br>代入步骤3，可以看到下降梯度就是最简单的<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140329931.png" alt=""></p>
<p>SGD最大的缺点是下降速度慢，而且可能会在沟壑的两边持续震荡，停留在一个局部最优点，梯度为0而无法下降。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140329917.png" alt=""></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># SGD伪代码</span><br><span class="line">while True:</span><br><span class="line">	dx = gradient(x)</span><br><span class="line">	x += learning_rate * dx</span><br></pre></td></tr></table></figure>
<p>2.SGD with Momentum<br>为了抑制SGD的震荡，SGDM认为梯度下降过程可以加入惯性。下坡的时候，如果发现是陡坡，那就利用惯性跑的快一些。SGDM全称是SGD with momentum，在SGD 基础上引入了一阶动量：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140400409.png" alt=""></p>
<p>一阶动量是各个时刻梯度方向的指数移动平均值，也就是说，t时刻的下降方向，不 仅由当前点的梯度方向决定，而且由此前累积的下降方向决定，β1的经验值为0.9或0.99，这就意味着下降方向主要是此前累积的下降方向，并略微偏向当前时刻的下降方向。这样可以更快收敛，在鞍点即使梯度为0，仍然可以下降。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SGDM伪代码2	</span></span><br><span class="line">vx = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">	dx = gradient(x)</span><br><span class="line">	vx = beta * vx + (<span class="number">1</span> - beta) * dx	<span class="comment"># beta表示“惯性”的作用，通常为0.9或0.99</span></span><br><span class="line">	x += learning_rate * vx</span><br></pre></td></tr></table></figure>
<p>3.SGD with Nesterov Acceleration<br>SGD还有一个问题是困在局部最优的沟壑里面震荡。想象一下你走到一个盆地，四周都是略高的小山，你觉得没有下坡的方向，那就只能待在这里了。可是如果你爬上 高地，就会发现外面的世界还很广阔。因此，我们不能停留在当前位置去观察未来的 方向，而要向前一步、多看一步、看远一些。</p>
<p>NAG全称Nesterov  Accelerated  Gradient，是在SGD、SGD-M的基础上的进一步改进，改进点在于步骤1。我们知道在时刻t的主要下降方向是由累积动量决定的，自己的梯度方向说了也不算，那与其看当前梯度方向，不如先看看如果跟着累积动量走了 一步，那个时候再怎么走，因此，NAG在步骤1，不计算当前位置的梯度方向，而是计算如果按照累积动量走了一步，那个时候的下降方向：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140402348.png" alt=""></p>
<p>然后用下一个点的梯度方向，与历史累积动量相结合，计算步骤2中当前时刻的累积动量。</p>
<p>4.AdaGrad<br>以上的几种优化方法都只用到了一阶动量。但是没有考虑到的是，对于经常更新的参数，我们希望学习率低一些，对于不经常更新的参数，我们希望学习率大一些，为此 引入了自适应学习率的优化算法。</p>
<p>二阶动量的出现，才意味着“自适应学习率”优化算法时代的到来,那就是二阶动量—— 该维度上，迄今为止所有梯度值的平方和：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140402280.png" alt=""><br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140402817.png" alt=""></p>
<p>AdaGrad优化算法记录梯度的累积值，梯度累积越大，学习率越小。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># AdaGrad伪代码</span></span><br><span class="line">grad_squared = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">	dx = gradient(x)</span><br><span class="line">	grad_squared += dx * dx</span><br><span class="line">	<span class="comment"># 累积变化越大时，学习率越小</span></span><br><span class="line">	x -= learning_rate * dx / (np.sqrt(grad_squared + <span class="number">1e-7</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>缺点：因为AdaGrad的学习率是单调递增的，会使得学习率逐渐趋向于0，可能会使得训练过程提前结束，即便后续还有数据也无法学到必要的知识。</p>
<p>5.AdaDelta/RMSProp<br>由于AdaGrad单调递减的学习率变化过于激进，我们考虑一个改变二阶动量计算方法的策略：不累积全部历史梯度，而只关注过去一段时间窗口的下降梯度。<br>修改的思路很简单。前面我们讲到，指数移动平均值大约就是过去一段时间的平均 值，因此我们用这一方法来计算二阶累积动量：<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140404752.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># RMSProp伪代码</span></span><br><span class="line">grad_squared = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">	dx = gradient(x)</span><br><span class="line">	grad_squared = decay_rate * grad_squared + (<span class="number">1</span> - decay_rate)* dx * dx    <span class="comment"># decay_rate通常取0.9或0.99</span></span><br><span class="line">	x -= learning_rate * dx / (np.sqrt(grad_squared + <span class="number">1e-7</span>))</span><br></pre></td></tr></table></figure>
<p>6.Adam<br>谈到这里，Adam和Nadam的出现就很自然而然了——它们是前述方法的集大成者。我们看到，SGD-M在SGD基础上增加了一阶动量，AdaGrad和AdaDelta在SGD 基础上增加了二阶动量。把一阶动量和二阶动量都用起来，就是Adam了</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203142333184.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203142333807.png" alt=""></p>
<p>$\beta1 \beta2$两个超参数控制一阶动量和二阶动量<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Adam伪代码</span></span><br><span class="line">first_moment = <span class="number">0</span></span><br><span class="line">second_moment = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(num_iterations):</span><br><span class="line">	dx = gradient(x)</span><br><span class="line">	first_moment = beta1 * first_moment + (<span class="number">1</span> - beta1) * dx</span><br><span class="line">	second_moment = beta2 * second_moment + (<span class="number">1</span> - beta2) * dx</span><br><span class="line">* dx</span><br><span class="line">	first_unbias = first_moment / (<span class="number">1</span> - beta1 ^ t)</span><br><span class="line">	second_unbias = second_moment / (<span class="number">1</span> - beta2 ^ t)	<span class="comment"># 防止刚开始训练时second_moment很小产生很大的学习率。</span></span><br><span class="line">	x -= learning_rate * first_unbias / (np.sqrt(second_unbias + <span class="number">1e-7</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>Adam优化算法一般取beta1=0.9，beta2=0.999，learning_rate=1e-3或5e-4。</p>
<p>7.Nadam<br>最后是Nadam。我们说Adam是集大成者，但它遗漏了Nesterov，按照NAG的步骤<br>1：<img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203142335135.png" alt=""></p>
<p>这就是Nesterov + Adam = Nadam了。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203142336523.png" alt=""></p>
<p>Adam两宗罪：<br>1.可能不收敛<br>SGD没有用到二阶动量，因此学习率是恒定的（实际使用过程中会采用学习率衰减 策略，因此学习率递减）。AdaGrad的二阶动量不断累积，单调递增，因此学习率是单调递减的。因此，这两类算法会使得学习率不断递减，最终收敛到0，模型也得以收敛。<br>但AdaDelta和Adam则不然。二阶动量是固定时间窗口内的累积，随着时间窗口的变化，遇到的数据可能发生巨变，使得$V_t$可能会时大时小，不是单调变化。这就可能  在训练后期引起学习率的震荡，导致模型无法收敛。<br>由于Adam中的学习率主要是由二阶动量控制的，为了保证算法的收敛，可以对二阶动量的变化进行控制，避免上下波动。<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203142341142.png" alt=""></p>
<p>保证$||V<em>t||\geq||V</em>{t-1}||$从而使得学习率单减<br>2.可能错过全局最优</p>
<p>数据更重要，不同数据下可能有不同适合的优化算法<br>优化算法的选择与使用策略：<br>主流的观点认为：Adam等自适应学习率算法对于稀疏数据具有优势，且收敛速度很快；但精调参数的SGD（+Momentum）往往能够取得更好的最终结果。<br>先用Adam快速下降，再用SGD调优<br>切换之后的学习率计算</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150001603.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150008817.png" alt=""><br>具体内容参考博客：<a href="https://blog.csdn.net/S20144144/article/details/103417502">https://blog.csdn.net/S20144144/article/details/103417502</a></p>
<ul>
<li>增加感受野的方法<br>1.增加网络层数<br>2.pooling，SPP结构<br>3.空洞卷积dilated conv<br>从字面上就很好理解，是在标准的 convolution map 里注入空洞，以此来增加reception field</li>
</ul>
<p>图像分割FCN中有两个关键，一个是pooling减小图像尺寸增大感受野，另一个是upsampling扩大图像尺寸。在先减小再增大尺寸的过程中，肯定有一些信息损失掉了，那么能不能设计一种新的操作，不通过pooling也能有较大的感受野看到更多的信息呢？答案就是dilated conv。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150009241.png" alt=""></p>
<p>4.可形变卷积deformable conv<br>添加了位移变量，这个变量根据数据的情况学习，偏移后，相当于卷积核每个方块可 伸缩的变化，从而改变了感受野的范围，感受野成了一个多边形。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150009296.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150010110.png" alt=""></p>
<p>如上图所示，有一个额外的conv层来学习offset，共享input feature maps。然后input feature maps和offset共同作为deformable conv层的输入，deformable conv层操作采样点发生偏移，再进行卷积。<br>标准卷积可用下面的式子表示：</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150011975.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150012138.png" alt=""></p>
<p>即在标准的3x3的9个位置采样，也就是 $x(p_0+p_n)$，然后每个位置乘卷积核的对应位置权重$w(p_n)$</p>
<p>可形变卷积会学习采样的偏移offset<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203150013206.png" alt=""></p>
<p>即 ，由于加完offset可能是小数，所以使用双线性插值的方法求解$x(p)$<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191754602.png" alt=""></p>
<p>q就是枚举特征图上所有的位置<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191754286.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191754960.png" alt=""><br>注意，offset预测是预测feature   map上每个位置的偏移而不是预测卷积核的偏移， 即输出的offset大小和feature map大小相同，使用相同的卷积核计算得到<br>而deformable RoI Pooling是先生成pooled feature map然后送到fc层计算每个bin的偏移，然后在重新利用偏移计算pooling</p>
<ul>
<li>深度可分离卷积<br>分成Depthwise conv和Pointwise conv depthwise conv<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191755263.png" alt=""></li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191756186.png" alt=""></p>
<p>pointwise conv</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191756288.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191756462.png" alt=""></p>
<p>v2提出先1x1进行channel的升维再卷积可以减少信息流失</p>
<ul>
<li>ResNet提出残差结构的作用<br>随着网络层数增加出现，会出现梯度爆炸或梯度消失，另外出现网络退化，即随着层数增加网 络表现先增加至饱和，然后迅速下降。<br>梯度消失/爆炸的问题可以通过标准初始化和BN层解决<br>但是网络退化不是过拟合导致的，如果对于一个K层网络是当前最优网络，那么如果构造一个 更深的网络让后面的层学习恒等映射应该至少取得一样的结果而不会更差。但是对网络而言学习恒等映射不容易拟合，但是如果是学习残差，让残差学习为0时即为恒等映射，这样会更容易。这样确保网络表现不受影响甚至很多时候可以提高效果</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191757843.png" alt=""></p>
<ul>
<li>1x1卷积核的作用<br>可以当成是全连接网络，对于每个position，将channel个元素变成filter数个元素<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191757747.png" alt=""></li>
</ul>
<p>实现跨通道信息的交互和整合<br>可用于降维，减少计算量，如resnet的bottleneck结构，或升维如mobilenetv2 增加非线性映射的次数</p>
<ul>
<li>数据集分布不平衡的解决办法<br>1.重采样<br>可以对多数样本降采样，对少数样本过采样<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191758522.png" alt=""><br>但是问题也很明显，过采样会对少数样本过渡捕捞，而降采样则会损失大量信息<br>2.hard negative mining，focal loss（balance parameter，focal parameter）， loss权重（对少样本预测错误增大惩罚）<br>3.模型融合<br>4.评估指标使用F1 score，AUC，ROC等</li>
<li>F1 Score</li>
</ul>
<script type="math/tex; mode=display">F_1=2 \frac{precision\cdot recall}{precision +recall}  \qquad (2)</script><ul>
<li>ROC曲线与AUC<br>AUC (Area under Curve)指ROC曲线下的面积<br>二分类任务中，比如预测一个人是否还贷款的概率，概率越大还的可能性越大，但是需要设定一个阈值，大于多少概率认为他会还，比如设置为0.35，那么下图虚线上面的样本就被预测为还，下面的样本预测为不还</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191804370.png" alt=""></p>
<p>这个时候可以得到一个混淆矩阵</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191804937.png" alt=""></p>
<p>然后利用这个混淆矩阵，计算真阳性率(True Positive Rate, TPR)也称为Recall，<br> $TPR= \frac{TP}{P}=\frac{TP}{TP+FN}$ ，也就是真正还贷款的人里多少我预测对了，还会计算假阳性率(False Positive Rate, FPR)，             ，也就是实际没还贷款的人中多少我给预测成还贷款了，这个时候真阳性率为纵轴，假阳性率为横轴，我们不断改变分类的阈值，从0-1，分别计算横纵坐标值画在图上就是ROC曲线</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191809628.png" alt=""></p>
<p>阈值为0时点在图像右上角(1,1)，阈值为1时点在图像左下角(0,0)<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191809225.png" alt=""></p>
<p>想象一下，如果我的分类器牛逼到预测的和gt一样，那么正样本概率都预测为1，负样本概率  都预测为0，那么阈值在0-1之间无论如何改变，都不会影响横纵坐标的值，只会在阈值设为1 的时候突变，此时的ROC曲线就像下图红色线一样，AUC为1，如果我的模型拉到相当于随机预测，那么相当于上面我们的数据点完全混在一起不可分，此时横纵坐标值会同步变化，那么ROC曲线就是下图的灰色线，AUC为0.5，此时模型毫无意义。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191810274.png" alt=""></p>
<p>实际计算方法最简单的可以从大到小排个序，然后依次遍历，相当于让每个预测概率作为阈 值，计算面积累加，类似微分思想<br>另外一种简便的等价计算是，AUC的含义等价于随机挑选一个正样本以及一个负样本，当前的分类算法根据计算得到的Score值将这个正样本排在负样本前面的概率就是AUC值。AUC值越大，当前的分类算法越有可能将正样本排在负样本前面，即能够更好的分类。<br>做N次随机试验，每次实验中随机采样一个正样本和一个负样本，当模型预测正样本的分数大  于模型预测负样本的分数，计数则加1。记计数最终为n（n肯定小于等于N），那么用n/N即得到AUC。<br>同时又可以等价于下面的计算公式</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191810559.png" alt=""></p>
<p>P表示正样本集合，N表示负样本集合。ri表示元素i在全集（P+N）中按预测score从小到大排      的rank位置（rank位置从1开始，比如：假设|P+N|=10，那么最高分的rank值为10，最低分    的rank值为1）。<br>可以这样想，设从小到大排序， 第一个正样本设为 rank_1, 排在它前面的样本全是负样本，有rank_1-1 个， 对于第二个正样本，设为 rank_2, 那么排在它前面的负样本有 rank_2-2 个，对第 M 个正样本，因为其前面有总共有 rank_M-1 个样本，且已知有 M-1 个是正样本， 故排在它前面的负样本个数为 (rank_M-1)-(M-1)= rank_M-M 个，最后求和就是上面公式的分子，分母是所有可能的pair数。<br>参考博客：</p>
<p><a href="https://blog.csdn.net/qq_43827595/article/details/120843442">https://blog.csdn.net/qq_43827595/article/details/120843442</a><br><a href="https://blog.csdn.net/weixin_41362649/article/details/89081651">https://blog.csdn.net/weixin_41362649/article/details/89081651</a></p>
<ul>
<li>mAP计算<br>mAP (mean Average Precision)是各类AP的平均值某一类的AP指该类的P-R曲线下的面积<br>而该类的P-R曲线指该类别检测Precision-Recall曲线，纵坐标Precision，横坐标Recall<br>计算过程详解视频：<a href="https://www.bilibili.com/video/BV1ez4y1X7g2?from=search&amp;seid=51">https://www.bilibili.com/video/BV1ez4y1X7g2?from=search&amp;seid=51</a> 91314835491417824&amp;spm_id_from=333.337.0.0</li>
</ul>
<p>那么具体计算该类的Precision和Recall的方法就是首先把该类的预测框和gt框都提出来，然后    计算TP预测框和gt框的IOU&gt;0.5的个数，FP即IOU&lt;0.5的检测框数量，TP+FP为预测框数量， 之后预测个数TP+FP是根据阈值变化动态变化的，即我设置了阈值，只有高于阈值的才会保留下来作为预测的框，其他就相当于消失，gt个数是静态的，而TP+FP需要对每个阈值动态求<br>然后TP/gt个数=Recall，TP/预测个数=Precision<br>对于某一类具体计算时，首先根据IOU计算好是TP还是FP，相当于说我目前先不管阈值，或者说我目前阈值设置为0，所有这些框我不管预测的score先都保留下来了然后计算出所有的TP,FP，然后我对这些框按照score从大到小排序，依次遍历，每遍历到一个数，就相当于把这     个score当成阈值，大于等于这个数的保留，后面的即小于这个数的（因为从大到小排序了） 就当成是消失了我们不管了。对于前面这些，我们累加刚才求好的TP,FP个数即可得到TP,FP。</p>
<p>此时求Precision时的预测框的个数为TP+FP，千万不要以为是原本预测框的个数（因为那个时    候相当于阈值为0）,而求Recall时gt个数就还是gt总个数不会变。<br>计算AP面积时，还是会按照之前排好序的这个顺序，从左到右计算微分面积然后累加，计算时 相同的recall值只计算一遍，每个小矩形的面积时当前recall值减上一个recall值，而当前的高度是从当前位置到后面的最大precision值，这个可以从右往左先预处理出来。<br>求mAP代码可看pytorch-retinanet源码的eval部分</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191812145.png" alt=""></p>
<ul>
<li>IOU loss，GIOU loss，DIOU loss，CIOU loss<br>参考视频：<a href="https://www.bilibili.com/video/BV1yi4y1g7ro?p=4">https://www.bilibili.com/video/BV1yi4y1g7ro?p=4</a><br>IOU  Loss觉得直接用L2损失不能反映预测框和gt框的重合程度，所以用1-IOU作为loss，这样能反映重合程度也具有尺度不变性，然而如果gt和预测框不相交时IOU恒为零，不能反映距离了</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191813765.png" alt=""></p>
<p>GIOU loss首先计算GIOU，然后loss是1-GIOU<br>GIOU是IOU-后面的部分Ac是两个框的最小外接矩形面积，u是并集面积，如果两个框完美重合，后面部分是0，则退化成IOU，且IOU=1，两个框无限远时，后面部分趋近于1，IOU为0</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191813879.png" alt=""></p>
<p>DIOU loss是首先计算DIOU，然后1-DIOU为loss<br>考虑了中心点距离和最小外接矩形对角线距离的比，收敛速度更快</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191813826.png" alt=""></p>
<p>CIOU loss是计算CIOU然后1-CIOU作为loss，在DIOU的基础上有考虑了长宽比因素，比较复杂</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191814904.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191814112.png" alt=""></p>
<ul>
<li><p>多尺度的好处<br>深层网络的感受野比较大，语义信息表征能力强，但是特征图的分辨率低，几何信息的表征能 力弱（空间几何特征细节缺乏）；<br>低层网络的感受野比较小，几何细节信息表征能力强，虽然分辨率高，但是语义信息表征能力 弱。<br>目标检测中，不同尺度特征可以对应不同大小的目标，对不同scale的目标效果更好</p>
</li>
<li><p>Softmax类别过多怎么办<br>负采样，层级softmax 详细内容大家自行了解</p>
</li>
</ul>
<h2 id="关于Python"><a href="#关于Python" class="headerlink" title="关于Python"></a>关于Python</h2><ul>
<li>变量内存相关</li>
</ul>
<ol>
<li>变量是标注（类似java的引用），而不是盒子，因此可以为一个对象贴多个标签，仅仅是别名，修改时修改的是同一个对象</li>
<li><code>==</code>运算符比较两个对象的值，is比较对象的标识</li>
<li>元组是相对不可变的，即值它保存内容的引用不可变，但是与引用对象无关，例如元 组里有列表，那么只要列表引用不变即可，可以往列表里加元素</li>
<li>str，byte，array.array是扁平的，保存的不是引用，是在连续内存中保存数据本身</li>
<li>python默认做浅复制，copy模块的deepcopy可以做深复制</li>
<li>python的函数传参的唯一支持模式是共享传参，相当于传引用</li>
<li>del语句只删除名称，不会删除对象，但是可能导致对象被垃圾回收，仅当删除的变量是该对象的最后一个引用</li>
<li>python垃圾回收机制，CPython垃圾回收使用的主要算法是引用计数，当引用计数     归零，对象会被立即销毁。</li>
</ol>
<ul>
<li>装饰器和闭包<br>函数装饰器用于在源码中“标记”函数，以某种方式增强函数的行为<br>装饰器是可调用的对象（或者想象成一个函数，因为函数在python中也是对象，所以说它是   可调用对象没毛病），其参数是另一个函数（被装饰的函数）。装饰器可能会处理被装饰的函 数，然后把它返回，或者将其替换成另一个函数或可调用对象。<br>装饰器的一大特性是，能把被装饰的函数替换成其他函数。第二个特性是，装饰器在加载模块 时立即执行。<br>函数装饰器在导入模块时立即执行，而被装饰的函数只在明确调用时运行。这突出了 Python<br>程序员所说的导入时和运行时之间的区别</li>
</ul>
<p>变量作用域规则：<br>Python 不要求声明变量，但是假定在函数定义体中赋值的变量是局部变量如果在函数中赋值时想让解释器把 b 当成全局变量，要使用 global 声明闭包：<br>函数中定义函数，内部定义的函数能访问定义体之外定义的非全局变量，即在外部函数内定义 的变量</p>
<p>闭包示例<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191818308.png" alt=""></p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191818736.png" alt=""></p>
<p>综上，闭包是一种函数，它会保留定义函数时存在的自由变量的绑定，这样调用函数时，  虽然定义作用域不可用了，但是仍能使用那些绑定<br>nonlocal<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191818677.png" alt=""></p>
<p>使用nonlocal将变量标记为自由变量，函数内部变量赋值导致变量变成局部变量而不能使用闭包</p>
<h2 id="编程题或思考题"><a href="#编程题或思考题" class="headerlink" title="编程题或思考题"></a>编程题或思考题</h2><ul>
<li>模拟大数减法<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 大数减法</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> L = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">bigSub</span><span class="params">(string a, string b)</span> </span>&#123;    <span class="comment">// 假设a &gt; b</span></span><br><span class="line">    string ans;</span><br><span class="line">    <span class="type">int</span> na[L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> nb[L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> la = a.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> lb = b.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 倒序存储</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; la; i++) &#123; na[la - i - <span class="number">1</span>] = a[i] - <span class="string">&#x27;0&#x27;</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; lb; i++) &#123; nb[lb - i - <span class="number">1</span>] = b[i] - <span class="string">&#x27;0&#x27;</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> lmax = <span class="built_in">max</span>(la, lb);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从个位开始相减</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; lmax; i++) &#123;</span><br><span class="line">        na[i] -= nb[i];</span><br><span class="line">        <span class="keyword">while</span> (na[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            na[i] += <span class="number">10</span>;</span><br><span class="line">            na[i + <span class="number">1</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理前置0</span></span><br><span class="line">    <span class="keyword">while</span> (lmax &gt;= <span class="number">0</span> &amp;&amp; !na[lmax]) lmax--;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lmax &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        ans = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = lmax; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            ans += na[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>拓展：</p>
<ul>
<li>模拟大数减法</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> L = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">bigAdd</span><span class="params">(string a, string b)</span> </span>&#123; <span class="comment">// 假设a，b为非负整数 </span></span><br><span class="line">    string ans;</span><br><span class="line">    <span class="type">int</span> na[L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> nb[L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> la = a.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> lb = b.<span class="built_in">size</span>();</span><br><span class="line">    <span class="comment">// 倒序存储 </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; la; i++) &#123;</span><br><span class="line">        na[la - i - <span class="number">1</span>] = a[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; lb; i++) &#123;</span><br><span class="line">        nb[lb - i - <span class="number">1</span>] = b[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> lmax = <span class="built_in">max</span>(la, lb); <span class="comment">// 从个位开始相加</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; lmax; i++) &#123;</span><br><span class="line">        na[i] += nb[i];</span><br><span class="line">        na[i + <span class="number">1</span>] += na[i] / <span class="number">10</span>;</span><br><span class="line">        na[i] %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理前置0 </span></span><br><span class="line">    <span class="keyword">while</span> (lmax &gt;= <span class="number">0</span> &amp;&amp; !na[lmax]) lmax--;</span><br><span class="line">    <span class="keyword">if</span> (lmax &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        ans = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = lmax; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            ans += na[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>大数乘法<br>一个数的第i 位和另一个数的第j 位相乘所得的数，一定是要累加到结果的第i+j 位上。这里i,j<br>都是从右往左，从0 开始数。<br>即：<code>ans[i+j] = a[i]*b[j];</code>最后统一处理进位。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> L = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">bigMul</span><span class="params">(string a, string b)</span> </span>&#123; <span class="comment">// 假设a，b为非负整数</span></span><br><span class="line">    string ans;</span><br><span class="line">    <span class="type">int</span> x[L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> y[L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> z[<span class="number">2</span> * L] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> la = a.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> lb = b.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 倒序存储</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; la; i++) &#123;</span><br><span class="line">        x[la - i - <span class="number">1</span>] = a[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; lb; i++) &#123;</span><br><span class="line">        y[lb - i - <span class="number">1</span>] = b[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 逐位相乘</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; la; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; lb; j++) &#123;</span><br><span class="line">            z[i + j] += x[i] * y[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 统一进位</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * L; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (z[i] &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            z[i + <span class="number">1</span>] += z[i] / <span class="number">10</span>;</span><br><span class="line">            z[i] %= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> lmax = <span class="number">2</span> * L - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理前置0</span></span><br><span class="line">    <span class="keyword">while</span> (lmax &gt;= <span class="number">0</span> &amp;&amp; !z[lmax]) lmax--;</span><br><span class="line">    <span class="keyword">if</span> (lmax &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        ans = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = lmax; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            ans += z[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>大数除法<br>除法操作不是模仿手工除法，而是利用减法操作实现的。<br>其基本思想是反复做除法，看从被除数里面最多能减去多少个除数，商就是多少</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span>                                                                                                           </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span>                                                                                                            </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span>                                                                                                          </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;                                                                                                         </span><br><span class="line">                                                                                                                             </span><br><span class="line"><span class="type">const</span> <span class="type">int</span> L = <span class="number">110</span>;                                                                                                           </span><br><span class="line">                                                                                                                             </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sub</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> La, <span class="type">int</span> Lb)</span> </span>&#123;                                                                                    </span><br><span class="line">    <span class="keyword">if</span> (La &lt; Lb) <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//如果a小于b，则返回-1                                                                                    </span></span><br><span class="line">    <span class="keyword">if</span> (La == Lb) &#123;                                                                                                          </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = La - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)                                                                                    </span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; b[i]) <span class="keyword">break</span>;                                                                                          </span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a[i] &lt; b[i]) <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//如果a小于b，则返回-1                                                                   </span></span><br><span class="line">    &#125;                                                                                                                        </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; La; i++)<span class="comment">//高精度减法                                                                                      </span></span><br><span class="line">    &#123;                                                                                                                        </span><br><span class="line">        a[i] -= b[i];                                                                                                        </span><br><span class="line">        <span class="keyword">if</span> (a[i] &lt; <span class="number">0</span>) a[i] += <span class="number">10</span>, a[i + <span class="number">1</span>]--;                                                                                </span><br><span class="line">    &#125;                                                                                                                        </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = La - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)                                                                                        </span><br><span class="line">        <span class="keyword">if</span> (a[i]) <span class="keyword">return</span> i + <span class="number">1</span>;<span class="comment">//返回差的位数                                                                                      </span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//返回差的位数                                                                                                        </span></span><br><span class="line">&#125;                                                                                                                            </span><br><span class="line">                                                                                                                             </span><br><span class="line"><span class="function">string <span class="title">div</span><span class="params">(string n1, string n2, <span class="type">int</span> nn)</span><span class="comment">//n1,n2是字符串表示的被除数，除数,nn是选择返回商还是余数                                                    </span></span></span><br><span class="line"><span class="function"></span>&#123;                                                                                                                            </span><br><span class="line">    string s, v;<span class="comment">//s存商,v存余数                                                                                                   </span></span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="type">int</span> a[L], b[L], r[L], La = n1.<span class="built_in">size</span>(), Lb = n2.<span class="built_in">size</span>(), i, tp = La;<span class="comment">//a，b是整形数组表示被除数，除数，tp保存被除数的长度                           </span></span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="built_in">fill</span>(a, a + L, <span class="number">0</span>);                                                                                                       </span><br><span class="line">    <span class="built_in">fill</span>(b, b + L, <span class="number">0</span>);                                                                                                       </span><br><span class="line">    <span class="built_in">fill</span>(r, r + L, <span class="number">0</span>);<span class="comment">//数组元素都置为0                                                                                             </span></span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (i = La - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)a[La - <span class="number">1</span> - i] = n1[i] - <span class="string">&#x27;0&#x27;</span>;                                                                </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (i = Lb - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)b[Lb - <span class="number">1</span> - i] = n2[i] - <span class="string">&#x27;0&#x27;</span>;                                                                </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">if</span> (La &lt; Lb || (La == Lb &amp;&amp; n1 &lt; n2)) &#123;                                                                                  </span><br><span class="line">        <span class="comment">//cout&lt;&lt;0&lt;&lt;endl;                                                                                                     </span></span><br><span class="line">        <span class="keyword">return</span> n1;                                                                                                           </span><br><span class="line">    &#125;<span class="comment">//如果a&lt;b,则商为0，余数为被除数                                                                                                     </span></span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="type">int</span> t = La - Lb;<span class="comment">//除被数和除数的位数之差                                                                                            </span></span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = La - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)<span class="comment">//将除数扩大10^t倍                                                                            </span></span><br><span class="line">        <span class="keyword">if</span> (i &gt;= t) b[i] = b[i - t];                                                                                         </span><br><span class="line">        <span class="keyword">else</span> b[i] = <span class="number">0</span>;                                                                                                       </span><br><span class="line">    Lb = La;                                                                                                                 </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= t; j++) &#123;                                                                                           </span><br><span class="line">        <span class="type">int</span> temp;                                                                                                            </span><br><span class="line">        <span class="keyword">while</span> ((temp = <span class="built_in">sub</span>(a, b + j, La, Lb - j)) &gt;= <span class="number">0</span>)<span class="comment">//如果被除数比除数大继续减                                                        </span></span><br><span class="line">        &#123;                                                                                                                    </span><br><span class="line">            La = temp;                                                                                                       </span><br><span class="line">            r[t - j]++;                                                                                                      </span><br><span class="line">        &#125;                                                                                                                    </span><br><span class="line">    &#125;                                                                                                                        </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; L - <span class="number">10</span>; i++)r[i + <span class="number">1</span>] += r[i] / <span class="number">10</span>, r[i] %= <span class="number">10</span>;<span class="comment">//统一处理进位                                                   </span></span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">while</span> (!r[i]) i--;<span class="comment">//将整形数组表示的商转化成字符串表示的                                                                                   </span></span><br><span class="line">    <span class="keyword">while</span> (i &gt;= <span class="number">0</span>) s += r[i--] + <span class="string">&#x27;0&#x27;</span>;                                                                                        </span><br><span class="line">    <span class="comment">//cout&lt;&lt;s&lt;&lt;endl;                                                                                                         </span></span><br><span class="line">    i = tp;                                                                                                                  </span><br><span class="line">    <span class="keyword">while</span> (!a[i]) i--;<span class="comment">//将整形数组表示的余数转化成字符串表示的&lt;/span&gt;                                                                           </span></span><br><span class="line">    <span class="keyword">while</span> (i &gt;= <span class="number">0</span>) v += a[i--] + <span class="string">&#x27;0&#x27;</span>;                                                                                        </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">if</span> (v.<span class="built_in">empty</span>()) v = <span class="string">&quot;0&quot;</span>;                                                                                                  </span><br><span class="line">    <span class="comment">//cout&lt;&lt;v&lt;&lt;endl;                                                                                                         </span></span><br><span class="line">    <span class="keyword">if</span> (nn == <span class="number">1</span>) <span class="keyword">return</span> s;                                                                                                   </span><br><span class="line">    <span class="keyword">if</span> (nn == <span class="number">2</span>) <span class="keyword">return</span> v;                                                                                                   </span><br><span class="line">&#125;                                                                                                                            </span><br><span class="line">                                                                                                                             </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;                                                                                                                 </span><br><span class="line">    string a, b;                                                                                                             </span><br><span class="line">                                                                                                                             </span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; a &gt;&gt; b) &#123;                                                                                                  </span><br><span class="line">        cout &lt;&lt; <span class="built_in">div</span>(a, b, <span class="number">1</span>) &lt;&lt; endl;                                                                                        </span><br><span class="line">        cout &lt;&lt; <span class="built_in">div</span>(a, b, <span class="number">2</span>) &lt;&lt; endl;                                                                                        </span><br><span class="line">    &#125;                                                                                                                        </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;                                                                                                                </span><br><span class="line">&#125;                                                                                                                            </span><br></pre></td></tr></table></figure>
</li>
<li><p>整数开根号——牛顿迭代法<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191900359.png" alt=""></p>
</li>
</ul>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191901752.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">square_root</span>(<span class="params">n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot; f(x) = x^2 - n = 0，求该方程的根</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    x0 = <span class="number">1</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        x1 = x0 - (x0 ** <span class="number">2</span> - n) / (<span class="number">2</span> * x0)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> x1 - x0 &lt; <span class="number">1e-10</span> <span class="keyword">and</span> x1 - x0 &gt; -<span class="number">1e-10</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;total iterations: &quot;</span>, i + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        x0 = x1</span><br><span class="line">    <span class="keyword">return</span> x1</span><br></pre></td></tr></table></figure>
<ul>
<li>快排<br>python简单实现 时间复杂度和空间复杂度均为$Nlog(N)$<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">quicksort</span>(<span class="params">arr</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line"></span><br><span class="line">    pivot = arr[<span class="number">0</span>]</span><br><span class="line">    left = []</span><br><span class="line">    right = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(arr)):</span><br><span class="line">        <span class="keyword">if</span> i &lt;= pivot:</span><br><span class="line">            left.append(i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            right.append(i)</span><br><span class="line">    <span class="keyword">return</span> quicksort(left) + [pivot] + quicksort(right)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>高效实现<br>pivot选择<br>pivot如果选择index=0，那么最差情况是如果序列已经排好序了，那么将花费$N^2$时间复杂度而什么都没做<br>pivot随机选择最安全，但是随机数生成比较expensive<br>最佳做法取最左端，最右端和中间位置三个值的中间数（最时髦的）<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> cutOff = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 挑选主元</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">medianThree</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> center = (left + right) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[left] &gt; a[center])</span><br><span class="line">        <span class="built_in">swap</span>(a[left], a[center]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (a[left] &gt; a[right])</span><br><span class="line">        <span class="built_in">swap</span>(a[left], a[right]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (a[center] &gt; a[right])</span><br><span class="line">        <span class="built_in">swap</span>(a[center], a[right]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* a[left] &lt;= a[center] &lt;= a[right] */</span></span><br><span class="line">    <span class="built_in">swap</span>(a[center], a[right - <span class="number">1</span>]);</span><br><span class="line">    <span class="comment">// left, right位置其实已经分好了一个比pivot小一个比pivot大</span></span><br><span class="line">    <span class="comment">// right-1位置是pivot</span></span><br><span class="line">    <span class="comment">// 所以只需要对left+1到right-2的数组元素进行处理</span></span><br><span class="line">    <span class="keyword">return</span> a[right - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertionSort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> j, p;</span><br><span class="line">    <span class="keyword">for</span> (p = <span class="number">1</span>; p &lt; n; p++) &#123;</span><br><span class="line">        <span class="type">int</span> tmp = a[p];</span><br><span class="line">        <span class="keyword">for</span> (j = p; j &gt; <span class="number">0</span> &amp;&amp; tmp &lt; a[j - <span class="number">1</span>]; j--)</span><br><span class="line">            a[j] = a[j - <span class="number">1</span>];</span><br><span class="line">        a[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 快排函数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qSort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> i, j;</span><br><span class="line">    <span class="type">int</span> pivot;</span><br><span class="line">    <span class="keyword">if</span> (left + cutOff &lt;= right) &#123;</span><br><span class="line">        <span class="comment">// 快排核心代码</span></span><br><span class="line">        pivot = <span class="built_in">medianThree</span>(a, left, right);</span><br><span class="line">        i = left;</span><br><span class="line">        j = right - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (a[++i] &lt; pivot);</span><br><span class="line">            <span class="keyword">while</span> (a[--j] &gt; pivot);</span><br><span class="line">            <span class="keyword">if</span> (i &lt; j)</span><br><span class="line">                <span class="built_in">swap</span>(a[i], a[j]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">swap</span>(a[i], a[right - <span class="number">1</span>]);</span><br><span class="line">        <span class="built_in">qSort</span>(a, left, i - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">qSort</span>(a, i + <span class="number">1</span>, right);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">insertionSort</span>(a + left, right - left + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">qSort</span>(a, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a[] = &#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="built_in">quickSort</span>(a, <span class="number">8</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        cout &lt;&lt; a[i] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>Max Pooling实现<br>for循环遍历输入feature map尺寸，计算输出output尺寸</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta"># maxpooling实现</span></span><br><span class="line"><span class="function"><span class="keyword">import</span> numpy as np</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">def <span class="title">max_pooling</span><span class="params">(inp, kernel_size=<span class="number">3</span>, stride=<span class="number">1</span>, padding=<span class="number">1</span>)</span>:</span></span><br><span class="line"><span class="function">    # 获取输入的尺寸</span></span><br><span class="line"><span class="function">    channels =</span> inp.shape[<span class="number">0</span>]</span><br><span class="line">    height = inp.shape[<span class="number">1</span>]</span><br><span class="line">    weight = inp.shape[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    # 如果有padding，对input加padding</span><br><span class="line">    <span class="keyword">if</span> padding &gt; <span class="number">0</span>:</span><br><span class="line">        pad_input = np.<span class="built_in">zeros</span>((channels, height + <span class="number">2</span> * padding, weight + <span class="number">2</span> * padding))  # 创建新尺寸的数组</span><br><span class="line">        pad_input[:, padding: padding + height, padding: padding + weight] = inp  # 将原来的input放到中间</span><br><span class="line">        inp = pad_input</span><br><span class="line">        height += <span class="number">2</span> * padding  # 更新宽高</span><br><span class="line">        weight += <span class="number">2</span> * padding</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;padded inp\n&quot;</span>, inp)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;padded inp shape&quot;</span>, inp.shape)</span><br><span class="line">    output = np.<span class="built_in">zeros</span>(</span><br><span class="line">        (channels, <span class="built_in">int</span>((height - kernel_size) / stride + <span class="number">1</span>), <span class="built_in">int</span>((weight - kernel_size) / stride + <span class="number">1</span>)))  # 计算输出map的尺寸</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;output size&quot;</span>, output.shape)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> channel in <span class="built_in">range</span>(channels):  # 遍历input的通道</span><br><span class="line">        out_height = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r in <span class="built_in">range</span>(<span class="number">0</span>, height - kernel_size + <span class="number">1</span>, stride):  # 遍历 input到height-kernel_size+<span class="number">1</span></span><br><span class="line">            out_weight = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> c in <span class="built_in">range</span>(<span class="number">0</span>, weight - kernel_size + <span class="number">1</span>, stride):  <span class="meta"># weight同理</span></span><br><span class="line">                output[channel, out_height, out_weight] = \</span><br><span class="line">                    np.<span class="built_in">max</span>(inp[channel, r: r + kernel_size, c: c + kernel_size])  # 取max赋值</span><br><span class="line">                out_weight += <span class="number">1</span>  <span class="meta"># output的索引依次增加</span></span><br><span class="line">            out_height += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">inp = np.<span class="built_in">array</span>([[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">                 [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">                 [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">max_pooling</span>(inp, kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>, padding=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>NMS实现<br>IOU计算方法<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191917326.png" alt=""><br>通过去两个框左上角的最大值和右下角的最小值计算交集框的左上角和右下角 如果两个框相交则22-11可到的交集框的wh<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191917710.png" alt=""></p>
</li>
</ul>
<p>如果不相交22-11为负数，因此去0和22-11的较大值</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191918720.png" alt=""></p>
<p>然后计算面积<br>详细代码如下<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot; </span></span><br><span class="line"><span class="string">np.max(a, axis=None, out=None, keepdims=False) </span></span><br><span class="line"><span class="string">求a中的最大值 </span></span><br><span class="line"><span class="string">np.maximum：(a, b, out=自定义) </span></span><br><span class="line"><span class="string">a 与 b 逐位比较取其大者 </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># nms实现</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">nms</span>(<span class="params">dets, thresh</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    dets数据格式为 [[xmin, ymin, xmax, ymax, score], ...]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 获取坐标和分数</span></span><br><span class="line">    x1 = dets[:, <span class="number">0</span>]</span><br><span class="line">    y1 = dets[:, <span class="number">1</span>]</span><br><span class="line">    x2 = dets[:, <span class="number">2</span>]</span><br><span class="line">    y2 = dets[:, <span class="number">3</span>]</span><br><span class="line">    scores = dets[:, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算每个矩形框的面积</span></span><br><span class="line">    areas = (y2 - y1 + <span class="number">1</span>) * (x2 - x1 + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(areas) # [12321. 29241. 11211. 12321. 8736. 10656.]</span></span><br><span class="line">    <span class="comment"># print(scores) # [0.72 0.8 0.92 0.72 0.81 0.9 ]</span></span><br><span class="line"></span><br><span class="line">    keep = []  <span class="comment"># 用于存放NMS后剩余的框索引</span></span><br><span class="line">    <span class="comment"># 取出分数从大到小排列的索引列表</span></span><br><span class="line">    index = scores.argsort()[::-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># print(index) # [2 5 4 1 3 0], scores列表没变</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(index) &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="comment"># print(len(index))</span></span><br><span class="line">        <span class="comment"># 取出当前第一个框（即分数最大的框）和其他对比</span></span><br><span class="line">        i = index[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        keep.append(i)  <span class="comment"># 将这个分数最大的保存</span></span><br><span class="line">        <span class="comment"># print(keep)</span></span><br><span class="line">        <span class="comment"># print(&quot;x1&quot;, x1[i]) # x1 220.0</span></span><br><span class="line">        <span class="comment"># print(x1[index[1:]]) # [220. 230. 250. 100. 100.]</span></span><br><span class="line">        <span class="comment"># 计算第一个框和其余框的交并比</span></span><br><span class="line">        <span class="comment"># 计算交集的左上角和右下角</span></span><br><span class="line">        x11 = np.maximum(x1[i], x1[index[<span class="number">1</span>:]])  <span class="comment"># 计算i和其余的最大 值，得到一个列表[220. 230. 250. 220. 220.]</span></span><br><span class="line">        y11 = np.maximum(y1[i], y1[index[<span class="number">1</span>:]])</span><br><span class="line">        x22 = np.minimum(x2[i], x2[index[<span class="number">1</span>:]])</span><br><span class="line">        y22 = np.minimum(y2[i], y2[index[<span class="number">1</span>:]])</span><br><span class="line">        <span class="comment"># print(x11, y11, x22, y22)</span></span><br><span class="line">        <span class="comment"># 计算交集的宽高</span></span><br><span class="line">        w = np.maximum(<span class="number">0</span>, x22 - x11 + <span class="number">1</span>)</span><br><span class="line">        h = np.maximum(<span class="number">0</span>, y22 - y11 + <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 计算交集面积</span></span><br><span class="line">        overlaps = w * h</span><br><span class="line">        <span class="comment"># print(&quot;overlaps is&quot;, overlaps) # 计算得到当前i和其余的交集面 积[9696. 8281. 5751. 0. 0.]</span></span><br><span class="line">        <span class="comment"># 计算iou，并集面积为两个框的面积相加再减去交集</span></span><br><span class="line">        ious = overlaps / (areas[i] + areas[index[<span class="number">1</span>:]] - overlaps)</span><br><span class="line">        <span class="comment"># print(&quot;ious is&quot;, ious) # [0.79664777 0.70984056 0.16573009 0. 0. ]</span></span><br><span class="line">        <span class="comment"># 剔除掉iou大于thresh的框，只保留&lt;=thresh的框，使用np.where操作</span></span><br><span class="line">        <span class="comment"># idx是需要保留的分数索引，这里的索引是ious列表的索引，而ious列表其实 是去除了当前框的，相对于index索引减了1</span></span><br><span class="line">        <span class="comment"># 取[0]是因为返回where操作返回元组(索引,)</span></span><br><span class="line">        idx = np.where(ious &lt;= thresh)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># print(idx)</span></span><br><span class="line">        <span class="comment"># 更新剩余的框索引</span></span><br><span class="line">        index = index[idx + <span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> keep</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############################################# 以下为可视化</span></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line"></span><br><span class="line">boxes = np.array([[<span class="number">100</span>, <span class="number">100</span>, <span class="number">210</span>, <span class="number">210</span>, <span class="number">0.72</span>],</span><br><span class="line">                  [<span class="number">250</span>, <span class="number">250</span>, <span class="number">420</span>, <span class="number">420</span>, <span class="number">0.8</span>],</span><br><span class="line">                  [<span class="number">220</span>, <span class="number">220</span>, <span class="number">320</span>, <span class="number">330</span>, <span class="number">0.92</span>],</span><br><span class="line">                  [<span class="number">100</span>, <span class="number">100</span>, <span class="number">210</span>, <span class="number">210</span>, <span class="number">0.72</span>],</span><br><span class="line">                  [<span class="number">230</span>, <span class="number">240</span>, <span class="number">325</span>, <span class="number">330</span>, <span class="number">0.81</span>],</span><br><span class="line">                  [<span class="number">220</span>, <span class="number">230</span>, <span class="number">315</span>, <span class="number">340</span>, <span class="number">0.9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_bbox</span>(<span class="params">dets, c=<span class="string">&#x27;k&#x27;</span></span>):</span><br><span class="line">    x1 = dets[:, <span class="number">0</span>]</span><br><span class="line">    y1 = dets[:, <span class="number">1</span>]</span><br><span class="line">    x2 = dets[:, <span class="number">2</span>]</span><br><span class="line">    y2 = dets[:, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">    plt.plot([x1, x2], [y1, y1], c)</span><br><span class="line">    plt.plot([x1, x1], [y1, y2], c)</span><br><span class="line">    plt.plot([x1, x2], [y2, y2], c)</span><br><span class="line">    plt.plot([x2, x2], [y1, y2], c)</span><br><span class="line">    plt.title(<span class="string">&quot; nms&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">1</span>)</span><br><span class="line">ax1 = plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">ax2 = plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">plt.sca(ax1)</span><br><span class="line">plot_bbox(boxes, <span class="string">&#x27;k&#x27;</span>)  <span class="comment"># before nms</span></span><br><span class="line">keep = nms(boxes, thresh=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line">plt.sca(ax2)</span><br><span class="line">plot_bbox(boxes[keep], <span class="string">&#x27;r&#x27;</span>)  <span class="comment"># after nms</span></span><br></pre></td></tr></table></figure></p>
<p>可视化结果</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191926857.png" alt=""></p>
<ul>
<li>将$N \times H \times W \times C$的int8数据转成$N \times C\times H\times W\times$的float数据，然后将RGB转成BGR</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将N X H X W X C的int8数据转成N X C X H X W的float数据</span></span><br><span class="line"></span><br><span class="line">a = torch.ones((<span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>), dtype=torch.int8)</span><br><span class="line"></span><br><span class="line">a = a.permute(<span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>).<span class="built_in">float</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将RGB转成BGR</span></span><br><span class="line"></span><br><span class="line">a[:, [<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>], :, :]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="Coding——基础编程算法模板"><a href="#Coding——基础编程算法模板" class="headerlink" title="Coding——基础编程算法模板"></a>Coding——基础编程算法模板</h1><p>快速幂<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">pow</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">1</span>;</span><br><span class="line">    a %= mod;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (b) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>)</span><br><span class="line">            ans = ans * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>并查集模板（本质上就是找连通性的，如果问题可以转换成连通性判断问题，那就可以用并查集）</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100</span>; <span class="comment">// 节点数量</span></span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        f[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getFather</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 查询所在团伙代表人</span></span><br><span class="line">    <span class="keyword">return</span> f[x] == x ? x : (f[x] = <span class="built_in">getFather</span>(f[x])); <span class="comment">// 路径压缩</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 合并操作</span></span><br><span class="line">    f[<span class="built_in">getFather</span>(a)] = <span class="built_in">getFather</span>(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">query</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 查询操作</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">getFather</span>(a) == <span class="built_in">getFather</span>(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        fa[i] = i;</span><br><span class="line">        rank[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="built_in">find</span>(i), y = <span class="built_in">find</span>(j); <span class="comment">//先找到两个根节点</span></span><br><span class="line">    <span class="keyword">if</span> (rank[x] &lt;= rank[y])</span><br><span class="line">        fa[x] = y;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        fa[y] = x;</span><br><span class="line">    <span class="keyword">if</span> (rank[x] == rank[y] &amp;&amp; x != y)</span><br><span class="line">        rank[y]++; <span class="comment">//如果深度相同且根节点不同，则新的根节点的深度+1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="built_in">find</span>(i), y = <span class="built_in">find</span>(j); <span class="comment">//先找到两个根节点</span></span><br><span class="line">    <span class="keyword">if</span> (rank[x] &lt; rank[y])</span><br><span class="line">        <span class="built_in">swap</span>(x, y); <span class="comment">// 小秩树接在大秩树的上面</span></span><br><span class="line">    fa[y] = x;</span><br><span class="line">    rank[x] += rank[y]; <span class="comment">// 用节点数衡量秩 或者</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>最短路</p>
<p>Dijkstra 朴素模板$O(n^2)$</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 按秩合并版</span></span><br><span class="line"><span class="comment">// 连接矩阵版本</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Dijkstra</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; ++i)</span><br><span class="line">        dj[i] = Map[<span class="number">0</span>][i];</span><br><span class="line">    vis[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 循环</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> mindj = INF;</span><br><span class="line">        <span class="type">int</span> pos;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dj[j] &lt; mindj &amp;&amp; !vis[j]) &#123; <span class="comment">// 找到非S集合中的最小值</span></span><br><span class="line">                mindj = dj[j];</span><br><span class="line">                pos = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vis[pos] = <span class="number">1</span>; <span class="comment">// 加入S集合</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) &#123; <span class="comment">// 松弛操作</span></span><br><span class="line">            <span class="keyword">if</span> (!vis[j] &amp;&amp; dj[j] &gt; dj[pos] + Map[pos][j])</span><br><span class="line">                dj[j] = dj[pos] + Map[pos][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 邻接表版本</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> to, dis;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> node x) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dis &gt; x.dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;node&gt; w[maxn];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dis[maxn], vis[maxn], n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis, inf, <span class="built_in">sizeof</span>(dis));</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line">    dis[<span class="number">0</span>] = <span class="number">0</span>, vis[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; w[<span class="number">0</span>].<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        <span class="type">int</span> to = w[<span class="number">0</span>][i].to;</span><br><span class="line">        dis[to] = w[<span class="number">0</span>][i].dis;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> minn = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; n; ++j) &#123; <span class="comment">//找到未确定的距离0最近的点</span></span><br><span class="line">            <span class="keyword">if</span> (!vis[j] &amp;&amp; dis[j] &lt; dis[minn])</span><br><span class="line">                minn = j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vis[minn] = <span class="number">1</span>; <span class="comment">//标记被确定的点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; w[minn].<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">            <span class="type">int</span> to = w[minn][i].to; <span class="comment">//从minn点更新其他点</span></span><br><span class="line">            <span class="keyword">if</span> (!vis[to] &amp;&amp; dis[to] &gt; dis[minn] + w[minn][i].dis) <span class="comment">//如果发现路径0-&gt;minn-&gt;to比之前到to的路径的更优，更新</span></span><br><span class="line">                    dis[to] = dis[minn] + w[minn][i].dis;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> m, a, b, c, v, num;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m)) &#123;</span><br><span class="line">        node now;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;now.dis);</span><br><span class="line">            now.to = b;</span><br><span class="line">            w[a].<span class="built_in">push_back</span>(now);<span class="comment">//vector存边，（数组也可以）</span></span><br><span class="line">            now.to = a;</span><br><span class="line">            w[b].<span class="built_in">push_back</span>(now);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">dijkstra</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, dis[i], i == n - <span class="number">1</span> ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>优先队列优化$(V+E)log(V)$<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> to, dis;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> node x) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dis &gt; x.dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;node&gt; w[maxn];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dis[maxn], vis[maxn], n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis, inf, <span class="built_in">sizeof</span>(dis));</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line"></span><br><span class="line">    dis[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;node&gt; pq;</span><br><span class="line">    </span><br><span class="line">    node now, ne;</span><br><span class="line">    now.to = <span class="number">0</span>, now.dis = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    pq.<span class="built_in">push</span>(now);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!pq.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        now = pq.<span class="built_in">top</span>(), pq.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span> (vis[now.to])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        vis[now.to] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; w[now.to].<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">            <span class="type">int</span> to = w[now.to][i].to;</span><br><span class="line">            <span class="keyword">if</span> (!vis[to] &amp;&amp; dis[to] &gt; now.dis + w[now.to][i].dis) &#123;</span><br><span class="line">                dis[to] = now.dis + w[now.to][i].dis;</span><br><span class="line">                ne.dis = dis[to];</span><br><span class="line">                ne.to = to;</span><br><span class="line">                pq.<span class="built_in">push</span>(ne);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> m, a, b, c, v, num;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m)) &#123;</span><br><span class="line">        node now;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;now.dis);</span><br><span class="line">            now.to = b;</span><br><span class="line">            w[a].<span class="built_in">push_back</span>(now); <span class="comment">//vector存边，（数组也可以）</span></span><br><span class="line">            now.to = a;</span><br><span class="line">            w[b].<span class="built_in">push_back</span>(now);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">dijkstra</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, dis[i], i == n - <span class="number">1</span> ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>dijkstra+dfs搜索路径（例题）</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">550</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, s, d;</span><br><span class="line"><span class="type">int</span> G[maxn][maxn];</span><br><span class="line"><span class="type">int</span> vis[maxn];</span><br><span class="line"><span class="type">int</span> dis[maxn];</span><br><span class="line"><span class="type">int</span> val[maxn];</span><br><span class="line"><span class="type">int</span> maxv, cnt;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; ans, ve;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        dis[i] = G[s][i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    vis[s] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> mins = INF, k = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i] &amp;&amp; dis[i] &lt; mins) &#123;</span><br><span class="line">                mins = dis[i];</span><br><span class="line">                k = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        vis[k] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i] &amp;&amp; dis[i] &gt; dis[k] + G[k][i])</span><br><span class="line">                dis[i] = dis[k] + G[k][i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> v, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (v == d) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p &gt; maxv) &#123;</span><br><span class="line">            maxv = p;</span><br><span class="line">            ans = ve;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (G[v][i] &amp;&amp; !vis[i] &amp;&amp; dis[i] == dis[v] + G[v][i]) &#123;</span><br><span class="line">            vis[i] = <span class="number">1</span>;</span><br><span class="line">            ve.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="built_in">dfs</span>(i, p + val[i]);</span><br><span class="line">            ve.<span class="built_in">pop_back</span>();</span><br><span class="line">            vis[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(G, INF, <span class="built_in">sizeof</span>(G));</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; d;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; val[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v, x;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v &gt;&gt; x;</span><br><span class="line">        G[u][v] = G[v][u] = x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">dijkstra</span>();</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line"></span><br><span class="line">    maxv = <span class="number">0</span>, cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    ve.<span class="built_in">push_back</span>(s);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">dfs</span>(s, val[s]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, cnt, maxv);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ans.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, ans[i], i == ans.<span class="built_in">size</span>() - <span class="number">1</span> ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>弗洛伊德多源最短路<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k&lt;n;k++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;n;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(G[i][j] &gt; G[i][k] + G[k][j]) &#123;</span><br><span class="line">                G[i][j] = G[i][k] + G[k][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>bellman-ford 判断负环$O(|E||V|)$ ，最多经过k个点，k个边的最短路，每次松弛时复制上次一更新的数组，不要实时更新dis</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> u, v, w; <span class="comment">//边的信息</span></span><br><span class="line">&#125; edge[NMAX * <span class="number">2</span> + <span class="number">201</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dis[NMAX]; <span class="comment">//源点到各点距离</span></span><br><span class="line"><span class="type">int</span> N, M, W; <span class="comment">//N:节点数，M：正权双向边数，W：负权边数</span></span><br><span class="line"><span class="type">int</span> cnt; <span class="comment">//总边数：不等于M+W，因为双向边要算两条边</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bellman_ford</span><span class="params">(<span class="type">int</span> src)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        dis[i] = INF;</span><br><span class="line">    dis[src] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= cnt - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dis[edge[j].u] + edge[j].w &lt; dis[edge[j].v]) &#123;</span><br><span class="line">                dis[edge[j].v] = dis[edge[j].u] + edge[j].w;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!flag) <span class="comment">//优化：如果没一条边更新，则最短路完成或有边不可达</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= cnt - <span class="number">1</span>; i++)</span><br><span class="line">        <span class="keyword">if</span> (dis[edge[i].u] + edge[i].w &lt; dis[edge[i].v])</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最小生成树<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Kruskal 适合给定所有边</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == pre[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> pre[x] = <span class="built_in">Find</span>(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        pre[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">Find</span>(edge[i].u);</span><br><span class="line">        <span class="type">int</span> v = <span class="built_in">Find</span>(edge[i].v);</span><br><span class="line">        <span class="keyword">if</span> (u != v) &#123;</span><br><span class="line">            pre[u] = v;</span><br><span class="line">            num++;</span><br><span class="line">            sum += edge[i].w;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (num == n - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (num == n - <span class="number">1</span>) <span class="keyword">return</span> sum;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// prim s</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> mp[<span class="number">109</span>][<span class="number">109</span>];<span class="comment">//储存地图</span></span><br><span class="line"><span class="type">int</span> vis[<span class="number">109</span>];<span class="comment">//标记点</span></span><br><span class="line"><span class="type">int</span> dis[<span class="number">109</span>];<span class="comment">//储存最短距离</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Prim</span><span class="params">(<span class="type">int</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line">    <span class="type">int</span> i, j;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dis[i] = mp[s][i];<span class="comment">//初始化dis数组</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> mind = INF;</span><br><span class="line">        <span class="type">int</span> u = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[j] &amp;&amp; dis[j] &lt; mind)</span><br><span class="line">                mind = dis[u = j];</span><br><span class="line">        &#125;<span class="comment">//找最小花费</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span>)<span class="keyword">break</span>;<span class="comment">//如果都标记了，说明已经找完了退出循环</span></span><br><span class="line">        sum += dis[u];<span class="comment">//加上这条最小花费</span></span><br><span class="line">        vis[u] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[j] &amp;&amp; dis[j] &gt; mp[u][j]) &#123;</span><br><span class="line">                dis[j] = mp[u][j];<span class="comment">//更新dis数组</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>拓扑排序<br>每次排入度为0的点，然后去掉这个点，减少指向点的入度，在发现入度为0的点，循环</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> indegree[<span class="number">550</span>];<span class="comment">//储存每个点的入度</span></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m)) &#123;</span><br><span class="line">        <span class="type">int</span> i, j;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; a[<span class="number">550</span>];<span class="comment">//用vecotr实现邻接表,注意！！这里一定要放在里面，如果放在全局中，不清空的话，每次push_back原来的还在，肯定会错</span></span><br><span class="line">        <span class="built_in">memset</span>(indegree, <span class="number">0</span>, <span class="built_in">sizeof</span>(indegree));</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="type">int</span> from, to;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;from, &amp;to);</span><br><span class="line">            indegree[to]++;<span class="comment">//终点入度加一</span></span><br><span class="line">            a[from].<span class="built_in">push_back</span>(to);<span class="comment">//邻接表储存</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> order[<span class="number">550</span>];</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!indegree[i]) &#123;<span class="comment">//第一个入度为0的入队并终止，为了保证序号小的在前面</span></span><br><span class="line">                q.<span class="built_in">push</span>(i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> h = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();<span class="comment">//取出队首元素并输出</span></span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, h);</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot; %d&quot;</span>, h);</span><br><span class="line"></span><br><span class="line">            indegree[h] = <span class="number">-1</span>;<span class="comment">//度数变成-1</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; a[h].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">                indegree[a[h][i]]--;</span><br><span class="line">            &#125;<span class="comment">//相连的点度数减一</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++) &#123;<span class="comment">//再次从头开始发现入度为零入队并终止，保证序号的在前面</span></span><br><span class="line">                <span class="keyword">if</span> (!indegree[i]) &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(i);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>树的前中后遍历非递归<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 前序遍历</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">* struct TreeNode &#123;</span></span><br><span class="line"><span class="comment">* int val;</span></span><br><span class="line"><span class="comment">* TreeNode *left;</span></span><br><span class="line"><span class="comment">* TreeNode *right;</span></span><br><span class="line"><span class="comment">* TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment">* TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment">* TreeNode(int x, TreeNode *left, TreeNode *right) : val(x),</span></span><br><span class="line"><span class="comment">left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment">* &#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">        stack &lt; TreeNode * &gt; st;</span><br><span class="line">        TreeNode *p = root;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="keyword">while</span> (p || st.<span class="built_in">size</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p) &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(p-&gt;val);</span><br><span class="line">                st.<span class="built_in">push</span>(p);</span><br><span class="line">                p = p-&gt;left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p = st.<span class="built_in">top</span>();</span><br><span class="line">                st.<span class="built_in">pop</span>();</span><br><span class="line">                p = p-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 中序遍历</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">* struct TreeNode &#123;</span></span><br><span class="line"><span class="comment">* int val;</span></span><br><span class="line"><span class="comment">* TreeNode *left;</span></span><br><span class="line"><span class="comment">* TreeNode *right;</span></span><br><span class="line"><span class="comment">* TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment">* TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment">* TreeNode(int x, TreeNode *left, TreeNode *right) : val(x),</span></span><br><span class="line"><span class="comment">left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment">* &#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">        stack &lt; TreeNode * &gt; st;</span><br><span class="line">        TreeNode *p = root;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (p || st.<span class="built_in">size</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p) &#123;</span><br><span class="line">                st.<span class="built_in">push</span>(p);</span><br><span class="line">                p = p-&gt;left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p = st.<span class="built_in">top</span>();</span><br><span class="line">                st.<span class="built_in">pop</span>();</span><br><span class="line">                ans.<span class="built_in">push_back</span>(p-&gt;val);</span><br><span class="line">                p = p-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后续遍历</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">* struct TreeNode &#123;</span></span><br><span class="line"><span class="comment">* int val;</span></span><br><span class="line"><span class="comment">* TreeNode *left;</span></span><br><span class="line"><span class="comment">* TreeNode *right;</span></span><br><span class="line"><span class="comment">* TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment">* TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment">* TreeNode(int x, TreeNode *left, TreeNode *right) : val(x),</span></span><br><span class="line"><span class="comment">left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment">* &#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">postorderTraversal</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">        stack &lt; TreeNode * &gt; st;</span><br><span class="line">        unordered_map &lt; TreeNode * , <span class="type">int</span> &gt; stflag;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        TreeNode *p = root;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (p || st.<span class="built_in">size</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p) &#123;</span><br><span class="line">                st.<span class="built_in">push</span>(p);</span><br><span class="line">                stflag[p] = <span class="number">1</span>;</span><br><span class="line">                p = p-&gt;left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p = st.<span class="built_in">top</span>();</span><br><span class="line">                <span class="keyword">if</span> (stflag[p] == <span class="number">1</span>) &#123;</span><br><span class="line">                    stflag[p] = <span class="number">2</span>;</span><br><span class="line">                    p = p-&gt;right;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    ans.<span class="built_in">push_back</span>(p-&gt;val);</span><br><span class="line">                    st.<span class="built_in">pop</span>();</span><br><span class="line">                    p = <span class="literal">NULL</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>归并排序用来求逆序数思路：<br>合并阶段 本质上是 合并两个排序数组 的过程，而每当遇到 左子数组当前元素 &gt; 右子数组当前元素时，意味着 「左子数组当前元素 至 末尾元素」 与 「右子数组当前元素」 构成了若干 「逆序对」 。</p>
<p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191949302.png" alt=""></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">mergeSort</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, vector&lt;<span class="type">int</span>&gt; &amp;nums, vector&lt;<span class="type">int</span>&gt; &amp;tmp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> res = <span class="built_in">mergeSort</span>(l, m, nums, tmp) + <span class="built_in">mergeSort</span>(m + <span class="number">1</span>, r, nums, tmp);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = l; i &lt;= r; i++)</span><br><span class="line">            tmp[i] = nums[i];</span><br><span class="line">        <span class="type">int</span> i = l, j = m + <span class="number">1</span>, pos = l;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= m &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmp[i] &gt; tmp[j]) &#123;</span><br><span class="line">                nums[pos++] = tmp[j++];</span><br><span class="line">                cnt += (m - i + <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                nums[pos++] = tmp[i++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= m) nums[pos++] = tmp[i++];</span><br><span class="line">        <span class="keyword">while</span> (j &lt;= r) nums[pos++] = tmp[j++];</span><br><span class="line">        <span class="keyword">return</span> res + cnt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reversePairs</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">tmp</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">mergeSort</span>(<span class="number">0</span>, n - <span class="number">1</span>, nums, tmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>导入头文件<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span> <span class="comment">// 万能头文件</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#inlcude <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>初始化vector<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 一维vector</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec</span><span class="params">(<span class="number">4</span>, <span class="number">0</span>)</span></span>; <span class="comment">// size为4，全部初始为0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 二维vector</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt; &gt; <span class="built_in">vec</span>(m, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">0</span>)); <span class="comment">// mxn全为0</span></span><br></pre></td></tr></table></figure></p>
<p>auto for循环map，set，map使用.获取元素<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// map</span></span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">mp[<span class="number">1</span>] = <span class="number">5</span>;</span><br><span class="line">mp[<span class="number">3</span>] = <span class="number">4</span>;</span><br><span class="line">mp[<span class="number">7</span>] = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;i: mp) &#123;</span><br><span class="line">    cout &lt;&lt; i.first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; i.second &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// set</span></span><br><span class="line">set&lt;<span class="type">int</span>&gt; st;</span><br><span class="line">st.<span class="built_in">insert</span>(<span class="number">1</span>);</span><br><span class="line">st.<span class="built_in">insert</span>(<span class="number">5</span>);</span><br><span class="line">st.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;i: st) &#123;</span><br><span class="line">    cout &lt;&lt; i &lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用iterator遍历<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">map &lt;<span class="type">int</span>, <span class="type">int</span>&gt; :: iterator it;</span><br><span class="line">it-&gt;first</span><br><span class="line">it-&gt;second</span><br><span class="line">set&lt;<span class="type">int</span>&gt; :: iterator it;</span><br><span class="line">*it</span><br></pre></td></tr></table></figure></p>
<p>sort比较函数<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// c++</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> e1;</span><br><span class="line">    <span class="type">int</span> e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span> </span>&#123; <span class="comment">// 如果在class里面写cmp函数前面加static</span></span><br><span class="line">    <span class="keyword">return</span> a.e1 &lt; b.e1; <span class="comment">// &lt; 升序，从小到大，&gt; 降序 从大到小</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), cmp);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python</span></span><br><span class="line">rank = [(<span class="number">4</span>, <span class="number">9.86</span>, <span class="number">4</span>),(<span class="number">2</span>, <span class="number">8.79</span>, <span class="number">6</span>),(<span class="number">1</span>, <span class="number">6.02</span>, <span class="number">4</span>),(<span class="number">3</span>, <span class="number">8.79</span>, <span class="number">6</span>)]</span><br><span class="line">ranked = <span class="built_in">sorted</span>(rank, key=<span class="keyword">lambda</span> r: (-<span class="built_in">float</span>(r[<span class="number">1</span>]), -<span class="built_in">float</span>(r[<span class="number">2</span>]),</span><br><span class="line"><span class="built_in">float</span>(r[<span class="number">0</span>]))) <span class="comment"># 默认指定的key从小到大，如果要从大到小加-号</span></span><br></pre></td></tr></table></figure>
<p>初始化<br>fill函数</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 一维数组</span></span><br><span class="line"><span class="type">int</span> vis[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">fill</span>(v, v + <span class="number">10</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 二维数组</span></span><br><span class="line"><span class="type">int</span> vis[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="built_in">fill</span>(v[<span class="number">0</span>], v[<span class="number">0</span>] + <span class="number">10</span> * <span class="number">10</span>, <span class="number">-1</span>); <span class="comment">// 必须是v[0]，而不是v</span></span><br><span class="line"><span class="comment">// 因为v[0]的话每个元素相当于是int sizeof是4，而v的话每个元素相当于是长度为10的一维数组，sizeof是40</span></span><br></pre></td></tr></table></figure>
<p>memset函数</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. memset是以字节为单位，初始化内存块。</span></span><br><span class="line"><span class="comment">// 当初始化一个字节单位的数组时，可以用memset把每个数组单元初始化成任何你想要的值，比如，</span></span><br><span class="line"><span class="type">char</span> data[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">memset</span>(data, <span class="number">1</span>, <span class="built_in">sizeof</span>(data)); <span class="comment">// right</span></span><br><span class="line"><span class="built_in">memset</span>(data, <span class="number">0</span>, <span class="built_in">sizeof</span>(data)); <span class="comment">// right</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 而在初始化其他基础类型时，则需要注意，比如,</span></span><br><span class="line"><span class="type">int</span> data[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">memset</span>(data, <span class="number">0</span>, <span class="built_in">sizeof</span>(data)); <span class="comment">// right</span></span><br><span class="line"><span class="built_in">memset</span>(data, <span class="number">-1</span>, <span class="built_in">sizeof</span>(data)); <span class="comment">// right</span></span><br><span class="line"><span class="built_in">memset</span>(data, <span class="number">0x3f3f3f3f</span>, <span class="built_in">sizeof</span>(data)); <span class="comment">// right</span></span><br><span class="line"><span class="built_in">memset</span>(data, <span class="number">1</span>, <span class="built_in">sizeof</span>(data)); <span class="comment">// wrong, data[x] would be 0x0101 instead of 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>优先队列<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; heap; <span class="comment">// 最小堆</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, less&lt;<span class="type">int</span>&gt;&gt; heap; <span class="comment">// 最大堆</span></span><br></pre></td></tr></table></figure></p>
<p>deque用法<br><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203191956504.png" alt=""></p>
]]></content>
      <categories>
        <category>技能学习记录</category>
        <category>CV学习笔记</category>
        <category>学术研究</category>
      </categories>
      <tags>
        <tag>目检检测</tag>
        <tag>CV岗</tag>
        <tag>OCR</tag>
        <tag>多模态方向</tag>
      </tags>
  </entry>
  <entry>
    <title>《斯通纳》全书搬运</title>
    <url>/118-stone/</url>
    <content><![CDATA[<p>威廉·斯通纳是1910年进的密苏里大学，那年他十九岁。求学八个春秋后，正当第一次世界大战拼杀犹酣的时候，他获得了哲学博士学位，拿到母校的助教职位，此后就在这所大学教书，直到1956年死去。他的职称始终没有升到助理教授以上的级别。修完他的课后记忆犹新的学生寥寥无几。他死后，几位同事向学校图书馆捐赠了一部中世纪的文献手稿，权当对他的纪念。这部书稿也许还能从珍稀古籍典藏库里找到，书上写了段题记：“敬赠密苏里大学图书馆，以缅怀英文系的威廉·斯通纳。诸位同仁谨记。”</p>
<p>如果偶尔有学生碰巧看到这个名字，也许会纳闷威廉·斯通纳是谁，但促使他探究的好奇心顶多止于提个漫不经心的问题。斯通纳活着的时候同事对他并不怎么尊崇，现在几乎绝口不提了。对年纪稍长的同事来说，他的名字意味着让人想起等待大家的那个最后结局；在年纪更轻的听来，这个名字不过是勾起毫无意义的过去的某种声音而已，而且没有什么共性可以跟他们本人或者自己的职业联系起来。</p>
<p>他于1891年出生在密苏里中部布恩维尔村附近的一家小农场，距离大学所在地哥伦比亚约有四十英里。虽然他出生的时候父母都还很年轻——父亲二十五岁，母亲勉强二十岁——可是，即便还是个小男孩的时候，斯通纳都觉得他们老了。父亲三十岁的时候显得像四十岁，因为常年劳作，腰身已经佝偻，经常绝望地盯着年复一年支撑着全家生活的那块贫瘠的土地。母亲对自己的生活还能够耐心对待，好像那不过是她必须要忍受的一段稍微漫长的瞬间。她双眼透着苍白的淡色，模模糊糊，眼睛周围的皱纹，在贴着头顶梳起、后面挽了个髻的稀薄灰发的衬托下，显得更加耀眼。</p>
<p>从自己最早能记得的时候开始，威廉·斯通纳就有很多活儿必须要做。六岁的时候，他就得从那几头瘦骨嶙峋的母牛身上挤奶，把几只猪赶进离屋子不远的圈里，还要到一窝母鸡那里去收鸡蛋。甚至从去距离农场八里路的乡村学校读书开始，从黎明前到天黑后，他的这段时间都要被一两种活儿所占据。十七岁的时候，在农活的重压下，他已经开始驼背。</p>
<p>这是一个孤单的家庭，家里只有他一个孩子，全家被逃不掉的辛劳紧紧地束缚在一块儿。黄昏的时候，一家三口坐在那间小厨房里，亮着唯一的那盏油灯，凝视着昏黄的灯焰。经常在这个时候或者晚饭和上床睡觉之间的工夫，唯一能听到的声音就是靠背椅里某个身躯单调的活动声，以及在那幢年迈的老房子下面某个木器发出的微弱而柔和的吱呀声。</p>
<p>这幢房子建在一片荒芜的四方形平地上，走廊和门扉附近那些不曾漆刷的木椽已经塌陷。由于长年累月的侵蚀，房子已经带上那片干燥土地的颜色——灰色和褐黄色，中间还夹杂着白色条纹。房子的另外一侧是一条长长的走廊，稀稀落落地点缀着几把靠背椅和若干砍削过的桌子，还有一个厨房，全家有限的相聚时间大部分就是在那里打发的。另一侧是两间卧室，每间里面都摆放着铁制的床架，涂成白色，外加一把靠背椅，一张桌子，上面有一盏灯和一只洗脸盆。地板是没有涂过漆的木块砌成，分布很不均匀，由于老化，有些还开裂了，顺着裂缝，灰尘不断地渗透出来，斯通纳的母亲每天都要清扫。</p>
<p>在学校，他每天都要做功课，差不多也像家务活儿，只是没有农场的那些活儿让人精疲力竭。1910年春天，他读完了高中，心想可以接手多干点田里的活儿；在他看来，父亲好像变得越来越迟钝，那几个月过去后又变得更加疲惫。</p>
<p>可是，那年晚春的一个黄昏，这两个男人给庄稼除了整整一天草，晚饭的碗碟收拾好了后，父亲在厨房跟他交谈起来。</p>
<p>“上星期县里来了个办事的。”</p>
<p>斯通纳从平整地铺在那张圆形餐桌上的红白格子图案的油布上抬起头来，望着父亲。他没说什么。</p>
<p>“那人说他们在哥伦比亚的大学里新设了个学院。他们叫农学院。那人还说你应该去那里。得要四年。”</p>
<p>“四年，”斯通纳说，“要花好多钱吧？”</p>
<p>“你可以自己干活顶住宿和伙食费，”父亲说，“你妈妈的大表哥在哥伦比亚城外不远有个地方。需要买些书和东西。我每月会给你寄上两三美元。”</p>
<p>斯通纳的双手平摊在桌布上，在灯盏亮光的照耀下，桌布闪烁着暗淡的光。他去的最远的地方没有超出过布恩维尔，顶多十五英里远。他尽量抑制着让自己的声音保持平稳。</p>
<p>“你想过，这地方，完全靠你自己能应付下来吗？”斯通纳问道。</p>
<p>“你妈和我应该能应付下来。我会在北二十亩那里改种小麦，那会砍掉手工活儿。”</p>
<p>斯通纳望着母亲。“妈呢？”他问道。</p>
<p>母亲用平淡无奇的语调说：“照你爸说的去做吧。”</p>
<p>“你们真的想让我去吗？”他问道，似乎半是希望得到否定的答复。“你们真的想让我去吗？”</p>
<p>父亲在椅子里挪了挪身子。他看着自己粗壮、长满老茧的手指，泥土钻进那些干裂的缝隙，深邃得都不可能洗掉了。他把手指锁在一起，从桌上举起来，那态度几乎像个祷告者。</p>
<p>“说来我从来没有上过什么学，”他说，望着自己的手，“读完六年级后就开始在一家农场干活了。年轻的时候不用上学也能支持。可是现在我就不知道了。就像这土地，一年比一年干枯，干活一年比一年辛苦；不像我还是小孩子时那样肥沃了。县里的人说，他们想到了很多新点子，有很多干活儿的办法，会在大学教给你。他说的可能没错。有时我在地里干活的时候也会琢磨。”他打住不说了，手指紧紧攥在一起，紧握着的手放在桌上。“我开始琢磨——”他愁眉苦脸地看着自己的手，又摇了摇头，“秋天了你就去上大学吧。你妈妈和我能应付得了。”</p>
<p>这是斯通纳平生听到的父亲说的最长的一次话。那年秋天，他去了哥伦比亚，到大学报到，注册成为农学院的一名新生。</p>
<p>他去哥伦比亚的时候穿着一套崭新的黑色绒面呢正装，是花了妈妈的鸡蛋钱从希尔斯-罗布克公司的产品目录上订的，还带了件父亲的旧大衣，穿了条蓝色的毛哔叽裤子，这条裤子他每月穿一次上布恩维尔的卫理公会教堂，又带了两件衬衣，两件换洗的工作服，二十五美元现金，那是他父亲用秋收的麦子作抵押借来的。他从布恩维尔步行出发，父亲和母亲老早驾着农场那辆驴拉的平板车送过来的。</p>
<p>那是一个燥热的秋日，从布恩维尔到哥伦比亚的路上尘土飞扬；他走了将近一个小时，才有一辆运货马车出现在身旁，司机问他要不要搭一段。他点了点头，然后坐到马车的座位上。他的毛哔叽裤子到膝盖那里都被尘土染成了红色。他那被太阳和风蹂躏成褐色的脸庞，沾满了厚厚的灰尘，路上的尘土和汗水交融在一起。在漫长的车程中，他一个劲儿地用那双笨拙的手拍打着裤子，不断用手指捋着高耸的浅褐色直发，他的头发就是不肯服服帖帖地贴在脑袋上。</p>
<p>下午晚些时候，他们到了哥伦比亚。司机让斯通纳在城郊下了车，指着一群掩映在高高的榆树中的建筑，“你要上的大学到了，”他说，“你要读书的地方就在那里。”</p>
<p>司机驾着马车离开后有那么几分钟，斯通纳站着没动，盯着那片建筑群。他还从来没有见过如此壮观的东西。红色的砖墙建筑从一片宽阔的绿色田地向上延伸过去，这片田地不时被石头小径和小块的花园隔断。敬畏之下，他忽然有种从未出现过的安全和静谧感。虽然时间已经不早了，他还是在校园的边角走了很长时间，只是观望着，好像自己无权进去。</p>
<p>天色快黑时他才向一个过路的打听去亚什兰·格雷维尔的方向怎么走，这条路将把他带到吉姆·弗特——母亲的大表哥的农场，他要给这个亲戚干活；天完全黑了他才来到那幢木结构的两层的白房子，他就要在这里住下了。他以前没有见过弗特两口子，这么晚了来见他们，他感觉怪怪的。</p>
<p>两口子只是点了个头算是欢迎他，然后仔细地审视着。过了会儿，斯通纳站在门口过道已经很尴尬的时候，弗特才带他走进一个暗淡的小客厅，里面挤满了裹得严严实实的家具，几张颜色暗淡的桌上放着些小摆设。他都没有坐下来。</p>
<p>“吃晚饭了吗？”弗特问。</p>
<p>“没有，先生。”斯通纳答道。</p>
<p>弗特太太弯着食指朝他勾了勾，然后悄然离开。斯通纳跟着她穿过几个房间，来到厨房。弗特太太示意让他挨着桌边坐下。她端来一壶牛奶，拿来几块方形的冷玉米面包，放在他面前。他喝了口牛奶，可是因为太兴奋，嘴巴很干燥，吃不下面包。</p>
<p>弗特走进房间，站在老婆身旁。他个头挺矮，还不到五英尺三寸，脸很瘦削，鼻子特尖。他老婆比他高四英寸，而且很肥胖；无框眼镜遮住了她的眼睛，薄薄的嘴唇紧闭着。斯通纳喝牛奶的时候，两口子怒气冲冲地看着。</p>
<p>“早上给牲口喂吃的喂水喝，让猪出来休息休息。”弗特吩咐道，语速很快。</p>
<p>斯通纳茫然地看着他。“什么？”</p>
<p>“这就是要你早上干的活儿，”弗特说，“上学之前干完。然后，晚上再喂食，放猪，收鸡蛋，挤奶。有工夫了再劈柴火。周末的时候，我干啥你就帮着干。”</p>
<p>“好的，先生。”斯通纳回答道。</p>
<p>弗特仔细端详了他片刻说，“大学。”然后摇了摇头。</p>
<p>就这样，为了九个月的食宿，他要给牲口喂水，喂食，放猪，收鸡蛋，挤奶，劈柴。还要耕田犁地，挖残根（冬季的时候还要破开三英寸深的冻土），要给弗特太太搅拌黄油，木棍在奶水中上下翻腾的时候，她飞快地摆动着脑袋，面带严厉的首肯表情看着斯通纳。</p>
<p>斯通纳住在楼上一间当过储藏室的房子里，唯一的家具是张黑色铁制床架，边框都塌软了，支撑着一张单薄的席子，还有一张桌子，上面放着一盏油灯，还有一把靠背椅，胡乱放在地板上，还有一只他当书桌用的大箱子。冬天，他唯一能够获得的热量就是从楼下房间里透上来的热气；他用分给自己的破被子和毯子裹住身子，然后在手上哈着气，这样翻书时不至于割到手。</p>
<p>他在大学做功课完全就像在农场干农活——全心全意，兢兢业业，既谈不上愉快也没有多大的痛苦。第一学年结束的时候，他的分数平均在B略微偏下。他很高兴，不是很低，也不在乎不是特别高。他感觉自己学到很多以前从不知道的东西，可是这对他来说只是意味着到了第二学年，他可以做的跟头年一样。</p>
<p>大学一年级结束后的那年夏天，他回到父亲的农场帮着种庄稼。有一回，父亲问他是不是喜欢学校，他回答说挺好。父亲点点头就不再提这事儿了。</p>
<p>直到第二学年回校的时候，威廉·斯通纳才明白自己为什么来上大学。</p>
<p>到大学二年级的时候，他已经是校园里大家都熟悉的身影了。他一年四季都穿着那套不变的黑色平绒套装，白衬衣，系着领结，手腕从外套的袖口里伸出来，裤子在腿上难看地飘荡着，好像那套制服以前是别人穿过的。</p>
<p>随着雇主越来越懒惰，他干活的时间不断增加，而且晚上还要在自己的房间花很长时间做布置的作业；他已经着手又一轮学习内容了，这将让他获得农学院的理学士学位。第二学年的第一个学期，他要学两门基础科学，一门农学院的土壤化学课程，一门差不多要求所有大学生都要修的课程——一个学期的英国文学概论。</p>
<p>最初的几个星期过后，理工课程没有碰到多大的困难；有太多的事情要做，太多的东西需要记忆。土壤化学课总体上他还很感兴趣；他从来没有想到过，那些黄褐色的土块，他有生以来大部分时间都在打交道的土块，看上去远不是那么回事，他开始隐隐约约发现，自己不断增长的土壤知识，等回到父亲的农场后或许会有用。可是，必修的英国文学概论却空前地让他有些烦恼和不安生。</p>
<p>老师是个中年男人，四十出头，名叫阿切尔·斯隆，他对自己的教学任务态度好像带点嘲弄和蔑视的味道，似乎感觉在自己的知识和能言说的东西之间有道如此深的壕沟，他不愿努力去接近它。大多数学生都既害怕又讨厌他，而他的反应则是一种超然、冷嘲热讽式的好玩。他中等个头，长着副线条深刻的长脸，刮得干干净净；他总是摆出一副不耐烦的姿态：手指不断插进一团蜷曲的灰色乱发里。他说话时语调平板单调，声音勉强从活动的双唇透出来，不用刻意表现或者抑扬顿挫，好像要给那些单词赋予某种自己的声音没有的形状。</p>
<p>离开教室开始做农场的杂活儿或者在那间没有窗户的阁楼房间里学习，对着暗淡的灯光眨眼的时候，斯通纳总感觉到这个人在自己内心的眼前升起来。他很难勾画别的任何老师的脸庞或者回想起自己上过的其他任何课上发生的细节；可是在自己意识的门槛，却经常等待着这位阿切尔·斯隆的身影，还有他那单调的声音，以及从《贝奥武甫》的某些段落轻蔑地信手拈来的词语或者乔叟作品的对句。</p>
<p>他发现像别的课程一样，自己对付不了文学概论。虽然他记住了作者以及他们的作品、年代和影响，第一次考试还是差点没通过，而且，第二次考试也乏善可陈。他读了又读布置的文学作品，占用的时间多得连其他功课都开始受影响了；然而，他读到的纸页上的那些词依然故我，看不出自己所做的这一切有何用处。</p>
<p>他反复思考阿切尔·斯隆在课上讲的那些词，仿佛从这些词语乏味、单调的意义背后，可能会发现一条线索，带他到自己想去的地方；他躬身前倾趴在一把椅子的座板上，由于面板太小很难舒服地容纳他，只好紧紧抓着桌面的边缘，紧得手指关节在褐黄坚硬的皮肤上都挤出白色印迹来；他专心致志地皱着眉头，咬着下嘴唇。可是当斯通纳和同学的注意力变得更令人绝望时，阿切尔·斯隆的嘲讽劲儿也随之更加引人入胜。有一次那种嘲讽劲儿突然化作愤怒，而且只冲着威廉·斯通纳发来。</p>
<p>那门课读了两部莎士比亚的戏剧，最后以学习十四行诗结束了那周的课程。学生们既紧张又迷茫，而且对他们和这位从斜面讲桌后注视着大家的无精打采的人物之间日益紧张的氛围有些害怕。斯隆向他们大声朗读了第七十三首诗；他的眼睛在教室里游移着，嘴唇紧闭，带着一丝毫无幽默感的微笑。</p>
<p>“这首诗是什么意思？”他忽然发问，然后稍事停顿，眼睛带着某种无情而且几乎是快乐的绝望感扫视着教室。“威尔伯先生？”没有听到回答。“施密特先生？”有人咳嗽了声。斯隆把那双黑亮的眼睛转向斯通纳。“斯通纳先生，这首十四行诗讲的什么意思？”</p>
<p>斯通纳咕哝了声，试图张开嘴巴。</p>
<p>“这是一首商籁体诗歌，斯通纳先生。”斯隆干巴巴地说，“一首由十四行句子构成的诗歌，具有确定的格式，我相信你已经背过了。是用英语写成，我想，英语你已经讲了好多年了。作者是威廉·莎士比亚，一位早就死了的诗人，但这位诗人在若干人的心中占据着某种重要地位。”他又多盯了斯通纳片刻，这时那双眼睛熟视无睹地掠过全班时变得茫然起来。他没有看自己的书本，又讲起这首诗来；他的声音变得更加低沉、柔和，好像吐出的词语、声音和节奏顷刻间变成了他本人：</p>
<p>在我身上你或许会看见每年的这个季节，</p>
<p>黄叶或尽脱，或只剩三三两两，</p>
<p>挂在冷得瑟瑟抖颤的枯枝上，</p>
<p>荒废的歌坛，甜美的鸟儿曾在那里欢唱。</p>
<p>在我身上你或许会看见这种时日的暮光，</p>
<p>日落后渐渐消失在西方；</p>
<p>黑夜，死的化身，慢慢把它赶开，</p>
<p>在安息中笼住万物。</p>
<p>在我身上你或许会看见那火光的闪耀，</p>
<p>在他青春的灰烬中奄奄一息，</p>
<p>在惨淡灵床上早晚要断魂，</p>
<p>被滋养过它的烈焰销毁。</p>
<p>目睹这些，你的爱会更加坚定，</p>
<p>因为他转瞬要辞你溘然长往。</p>
<p>趁着沉默的片刻，有人清了清喉咙。斯隆又重读了那两行，声音变得平板起来，又恢复了自己本来的音质。</p>
<p>目睹这些，你的爱会更加坚定，</p>
<p>因为他转瞬要辞你溘然长往。</p>
<p>斯隆的眼睛又回到威廉·斯通纳身上，他干巴巴地说，“莎士比亚先生穿越三百年在跟你讲话，斯通纳先生，你听到了吗？”</p>
<p>有那么几个时刻，威廉·斯通纳意识到自己在使劲屏住呼吸。他把气息轻轻地舒吐出来，刹那间发觉自己的呼吸从肺里排放出来时，衣服随着身体在起伏。他把目光从斯隆身上移开，打量着教室。阳光从窗户里斜照进来，落在同学们的脸上，所以感觉光明好像是从他们自身散发出来，迎着一片黑暗释放出去；一个同学眨巴着眼睛，一道浅浅的暗影落在面颊的一侧，上面的毫毛被阳光照得清清楚楚。斯通纳开始感觉放在桌上紧紧攥住的手指松开了。他在自己的凝视下掉转过手来，很惊奇它们都是黄褐色，很惊奇指甲已妥帖地嵌进粗壮的指端那种复杂的结构；他想，自己肯定能感觉到血液在无形地穿过纤细的血管和动脉流淌着，从指尖到整个身体微弱又随意地颤动着。</p>
<p>斯隆又开始说话了。“他对你说了些什么，斯通纳先生？他的这首十四行诗是什么意思？”</p>
<p>斯通纳的眼睛缓慢又不情愿地抬起来。“意思是。”他说，双手微微动了下朝空中举起；当他看到阿切尔·斯隆的身躯时感觉双眼上了层釉光。“意思是。”他又说，可就是讲不完已经开了头的话。</p>
<p>斯隆饶有兴致地盯着他。接着他忽然点点头说：“下课。”没有看任何人就转身走出教室。</p>
<p>威廉·斯通纳几乎感觉不到身边有同学存在，他们从座位上站起来咕咕哝哝地抱怨着，然后慢慢腾腾地走出教室。大家离去后，斯通纳一动不动地坐了几分钟，眼睛盯着前面那道窄窄的地板木条，这块地板早已被他从未见过或者认识的学生们不安分的双脚磨掉了漆，蹭得光光的了。他自己的脚在地板上滑着，听到自己的脚底从木头上踩过时粗糙的刮擦声，感觉到透过皮革的粗硬质地。接着，他也站起来，慢慢走出教室。</p>
<p>晚秋时节细细的寒冷刺进他的衣服。他看了看四周，打量着树木光秃秃、疙疙瘩瘩的枝条，全都蜷曲着、扭扭歪歪地冲着苍白的天空。学生们匆匆穿过校园向各自的课堂走去，不时碰擦下他；斯通纳听着他们的咕哝声和鞋跟踩在石头路上发出的磕碰声，看着他们的脸蛋，都被冷气冻得红扑扑的，弯着身子抵御着一股微风。他好奇地看着他们，好像以前没见过这些同学，好像自己离他们很远又很近。当他匆匆赶上下节课时，始终保持着这种感觉，保持到他的土壤化学教授把那堂课上完，背景音却是背诵写在笔记本上的东西时发出的嗡嗡声，那些东西他曾历经辛苦记住，现在自己都感到陌生了。</p>
<p>那一学年的第二学期，威廉·斯通纳放弃了几门基础科学课，中断了农学院的课程；他选修了几门哲学和古代史的导论课，以及两门英国文学课。夏季的时候，他又回到父母的农场，帮父亲经营庄稼，对自己在大学的学习只字不提。</p>
<p>年纪更大些的时候，回首自己本科最后两年，斯通纳仿佛感觉那段时光虚幻不实，压根就属于别人，那段早已逝去的时光，好像不是他习惯的那样正常流逝，而是断断续续地流逝着。一个片段跟另一个片段互相重叠着，但又从中分离出来，他还感觉自己从时间中被移了出来，旁观着时间在自己面前流逝，像个宏大、并不均匀地翻转着的立体景观。</p>
<p>他的自我意识开始苏醒，他还从未以这种方式感知过自己。有时他在一面镜子里盯着自己，看着那张覆盖着茅草般干枯褐发的长脸，摸摸尖削的颧骨；他看着从外套袖口里伸出好几寸的细细的手腕；他纳闷，自己在别人眼中是不是像独自一人时表现的那样显得滑稽可笑。</p>
<p>他对未来还没有什么规划，而且对谁都没有说起过自己的这种不确定。为了食宿他继续在弗特家干活儿，不过，已不再像大学前两年那样干很长时间了。每天下午有三个小时，加上周末的半天工夫，他任由弗特和塞雷娜随意使用自己，余下的时间他要求完全由自己支配。</p>
<p>有部分时间他在弗特家那个阁楼小屋里度过；但是，上完课，而且把弗特家的活儿干完后，他尽可能经常回大学去。有时，晚上，他喜欢在那个长长的露天的四边形场子里散步，行走在一起漫步和窃窃私语的夫妇中间；虽然一个人都不认识，虽然也从不跟他们说话，他还是感觉跟他们有种亲近感。有时他站在场子的中心，看着杰西楼前面的那五根粗大的柱子，它们从凉爽的草地上直插夜空；他知道，这些柱子是大学最初的主楼残留下来的，那幢主楼多年以前毁于大火。这些柱子在月光下呈银灰色，光亮又干净，在他看来，似乎象征着自己曾经拥抱过的生活方式，像一座代表某个神灵的庙宇。</p>
<p>在大学图书馆，他游历过排排书架，置身于几千册图书中，呼吸着皮革、衣服、干燥的书页释放出的发霉的气息，闻着就像某种来自异国的香气。有时他会暂时停住脚步，从架子上拿下一卷书，在自己的大手中捧住片刻，书脊和厚纸封面以及诱人的书页尚不熟悉的感觉会在手中产生某种刺痛感。然后他会翻阅起书来，这里那里随便读上一段，僵硬的手指在翻动书页时尽可能小心翼翼，好像因为笨拙的手指可能会撕坏和损毁它们忍着巨大痛苦想发现的东西。</p>
<p>他没有什么朋友，平生第一次开始有了孤独感。有时，晚上在自己的阁楼房间，他正看书时会抬起头来，盯着房间那些黑乎乎的角落，在暗影的衬托下，灯光闪烁不定。如果盯的时间很长又太专注了，那片黑暗就会凝聚成一团亮光，它带着自己阅读的东西的那种无形的样式。他又会觉得自己走出时间之外，就像那天阿切尔·斯隆在课上跟他讲话的感觉。过去从它停留的那片黑暗中出来聚集在一起，死者自动站起来在他眼前复活了；过去和死者流进当下，走进活人中间，所以，在紧张的刹那间，他有种密实的幻觉，好像自己被压缩了，很难从中逃出，也不想逃出。特里斯坦和大美人伊索尔德走到他跟前；保罗和弗朗西斯卡在灼热的黑暗中旋转着海伦和阳光的帕里斯，他们的脸蛋因为最终那个结局而痛苦不堪，两人从那片昏暗中浮现出来。他跟这些人相处，方式绝对不会像跟他的那些从这堂课去赶另一堂课的同学一样，他们会在密苏里的哥伦比亚某个规模巨大的大学找到一个本地的栖身之地，他们会以中西部的某种派头毫不在意地行走散步。</p>
<p>只用了一年的时间，他就学会了希腊文和拉丁文，好得足以阅读简单的文献；他的眼睛因为紧张和缺少睡眠总是红红的，灼热疼痛。有时，他回想自己几年前的样子，被那个陌生人物的记忆搞得惊诧不已，那个人像土地般发黄，逆来顺受，而那个人就是从土地中冒出的。他还会想起父母，他们差不多跟自己养的这个孩子一样陌生了；感觉对他们有种复杂的同情和遥远的爱意。</p>
<p>快到大学第四年的中期，一天下课后，阿切尔·斯隆拦住他，请他顺便去趟自己的办公室聊聊。</p>
<p>适逢冬季，一股低沉、阴湿的中西部的薄雾飘浮在校园上空。即便在上午十点左右，山茱萸树纤细的枝条上因为结着白霜而闪闪发光，蜿蜒爬上杰西楼前那些巨大柱子的黑色藤蔓边缘满是彩虹色的晶体，在一片灰色的映衬下闪烁着。斯通纳穿的大衣简直破旧不堪，他决定不穿着大衣去见斯隆，虽然天气已经结冰了。当他匆匆忙忙走到那条人行道上，踏上通向杰西楼宽阔的石阶时，浑身瑟瑟发抖。</p>
<p>寒冷过后，楼里的热气很强。外面的灰色慢慢渗进窗户和大楼两侧的玻璃门，所以黄色瓷砖地面上闪耀的光要比照在上面的灰色的光线还要明亮，那些巨大的栎木柱子和被刮擦过的墙壁在黑暗中闪着微光。慢腾腾的脚步在地板上嘶嘶作响，轻轻的咕哝声被大楼宽阔的空间消弥掉了；暗淡的人物在缓缓移动，时聚时离；令人压抑的空气里积聚着油漆过的墙壁上的气味，以及羊绒衣服的湿气。斯通纳爬上光滑的大理石楼梯，朝阿切尔·斯隆位于二楼的办公室走去。他敲了敲关闭的门，听到回应声，然后就走了进去。</p>
<p>办公室又长又窄，全靠遥远尽头独立的一扇窗户照明。架子上挤满了书，都高耸到快挨着天花板了。靠近窗户嵌了张桌子，阿切尔·斯隆坐在桌子前面，半转过身子，在光线的映衬下轮廓显得很暗淡。</p>
<p>“斯通纳先生。”斯隆干巴巴地说，欠了欠身子，指了指自己对面的一把皮椅示意他坐下。斯通纳坐了下去。</p>
<p>“我仔细查了下你的记录，”斯隆顿了顿，从桌上拿起一份文件夹，端着那种超然的讽刺味儿看着。“我希望你不要介意我如此好奇。”</p>
<p>斯通纳舔了舔嘴唇，在椅子上拧了拧身子。他试图把自己的那双大手合着交叉起来，这样双手就可以隐藏起来了。“不会的，先生。”他声音嘶哑地说。</p>
<p>斯隆点点头。“那就好。我发现你最初修这儿的课程时是个农学院的学生，大学二年级期间突然转修文学。说得对吗？”</p>
<p>“没错，先生。”斯通纳说。</p>
<p>斯隆朝自己坐的椅子背后靠过去，盯着从那扇高高的小窗户里透进的光块。他的几根手指同时叩了叩桌子，转身背对僵坐在自己前面的这位年轻人。</p>
<p>“这次商量的正式目的是通知你，你得正式改变学习专业，宣布有意放弃自己原来的学业方向，正式确定一个最终的专业。这件事在教务主任办公室里只用五分钟左右就能办妥。你当回事儿行吗？”</p>
<p>“好的，先生。”斯通纳说。</p>
<p>“不过，你也许猜到了，我请你过来坐坐不是因为这个。你介意我问问你将来的打算吗？”</p>
<p>“不介意，先生。”斯通纳说。他望着自己的手，那双手紧紧地绞在一起。</p>
<p>斯隆拿起扔在桌上的文件夹。“我查到你刚进大学的时候年龄比普通学生稍大些。差不多二十岁了，我说得对吗？”</p>
<p>“对，先生。”斯通纳说。</p>
<p>“而且，那时你的计划是研修农学院提供的课程吧？”</p>
<p>“是的，先生。”</p>
<p>斯隆在椅子里往后靠过去，看着阴暗的高高的天花板。他忽然问，“你现在有何打算？”</p>
<p>斯通纳沉默不语。有些东西他压根儿就没想过，也不愿去想。最后他带着几分怨气说，“我不知道。我还没有认真想过这个问题。”</p>
<p>斯隆说，“从这些与世隔绝的大墙中走进人们所谓的大千世界，你憧憬过这一天吗？”</p>
<p>斯通纳尴尬地咧嘴笑了。“没有，先生。”</p>
<p>斯隆敲了敲桌上的文件夹。“我从这些档案记录中得知，你是从农业区来的。我判断你父母是农民吧？”</p>
<p>斯通纳点点头。</p>
<p>“你从这里拿到学位后想回农场吗？”</p>
<p>“不想，先生。”斯通纳说，声音中透出的果决让他都吃惊。他想，还带着自己忽然做出那个决定的奇妙感觉。</p>
<p>斯隆点了点头。“我想象，一个严肃的学文学的学生可能会发现自己的技能并不完全适合土地的召唤。”</p>
<p>“我不想回去，”斯通纳说，好像斯隆没有讲话。“我不知道自己究竟要干什么。”他望着自己的手，冲着手说，“我真没有意识到，我这么快就要毕业了，今年底就要离开大学了。”</p>
<p>斯隆漫不经心地说，“当然了，对你来说，也没有绝对的离开的必要。我想你没有独立的谋生手段吧？”</p>
<p>斯通纳摇了摇头。</p>
<p>“你的本科成绩相当出色。除了你的——”他挑起眉毛笑了——“除了你的大二英国文学概论，你的英文课全都是A；其他没有低于B的。如果毕业后你还能坚持上一年多，我相信，你就能成功拿到文学硕士学位；然后，你也许就可以边教学，边攻读博士学位。前提是你得发自内心喜欢这种事儿。”</p>
<p>斯通纳向后挪了挪。“您的意思是？”他问道，听到自己的声音中有那么点类似怯怕的成分。</p>
<p>斯隆朝前倾过来，脸挨得很近后才不再往前倾；斯通纳看到这张长长的瘦脸上的线条变得柔和起来，听到那干巴、嘲弄的声音变得温柔和放开了。</p>
<p>“可是你知道吗，斯通纳先生？”斯隆问道。“你现在还不了解自己？你想当个老师。”</p>
<p>忽然，斯隆仿佛显得极其遥远，办公室的墙消失了。斯通纳感觉自己悬浮在辽阔的露天，听到自己的声音在问，“你确定吗？”</p>
<p>“我敢肯定。”斯隆轻柔地说。</p>
<p>“你怎么看出来的，你怎么这样确定？”</p>
<p>“是因为爱，斯通纳先生，”斯隆兴奋地说，“你置身于爱中。事情就这么简单。”</p>
<p>事情就这么简单。他感觉自己冲斯隆点了点头，然后又说了些无关紧要的话。接着他走出办公室。他激动得双唇颤抖，指尖都麻木了；他像梦游般走着，但仍然能够强烈地意识到周围存在的东西。</p>
<p>他蹭着走廊里光滑的木板墙，他想自己能感觉到木板的温暖和衰老；他慢慢走下楼梯，不解地看着遍布细纹的冰冷的大理石，在自己的脚下似乎有些滑。大楼里，学生们的声音变得格外清晰，低低的咕哝声个个都很分明，他们的脸蛋既亲切又陌生又熟悉。他走出杰西楼，走进早晨的空气中，灰色好像不再压迫着校园；灰色引导着他的眼睛向外向上看到天空，他望去的天空似乎通向一种自己还无法名状的可能性。1914年1月的第一个星期，威廉·斯通纳跟另外六十个年轻男子和若干风华正茂的女孩，拿到密苏里大学的文学学士学位。</p>
<p>为了参加毕业典礼，他的父母——乘着一辆用他们的那头暗褐色的母驴拉着的借来的四轮轻便马车——提前一天就出发了，从农场出发一夜间驾驶了四十多里路，所以，天亮后不久，他们就到了弗特夫妇家，由于途中彻夜未眠，人都僵了。斯通纳从楼上下来到院子里去迎他们。他们并肩站在清新的晨光中，等着他走近。</p>
<p>斯通纳和父亲握了握手，只用了一种单一的快速摇晃的动作，都没有看着对方。</p>
<p>“你好。”父亲说。</p>
<p>母亲点点头。“你爸和我过来想看看你的毕业典礼。”</p>
<p>他一时无言。过了会儿才说，“你们快进来吃点早餐吧。”</p>
<p>只有他们在厨房里；因为斯通纳到农场后，弗特两口子已经养成了晚起的习惯。但是，无论当时还是之后，父母吃完早餐，他都没有主动给他们讲自己改变了打算，不想回农场了。接着他看着从父母崭新的衣服里光秃秃地伸出的那张褐黄色的脸，想到他们旅途漫漫，想到他们等了好几年希望他回去，有那么一两次，他差点想说出来。他跟父母呆呆地坐着，直到最后喝完他们的咖啡，直到弗特两口子自己惊醒走进厨房。然后，他告诉他们，他得早点儿去大学了，等下午活动开始的时候再来接他们。</p>
<p>他在校园里溜达着，拿着租来的黑色长袍和帽子；这些东西挺沉重而且很麻烦，可他又找不到地方放置。他想到本应告诉父母的话，第一次意识到自己的决定已是最终，几乎希望自己能想起来。他觉得自己不适合这个仓促中选择的目标，感觉自己放弃的这个世界充满吸引力。他为自己的损失感到悲伤，也因此为父母的损失感到难过，他在悲伤中甚至感觉自己在与他们拉开距离。</p>
<p>在整个毕业活动中，他都带着这种失落感；他听到在念自己的名字后就穿过平台从一个男人手里接过证书，这个男人的脸几乎全都被柔软灰白的胡须覆盖住了，他几乎对自己肉身的存在难以置信，手中的那卷羊皮纸文凭毫无意义。他只想到父母在那片巨大的人群中枯坐着。</p>
<p>各种仪式结束后，他送父母回到弗特夫妇家，在那里住了一晚上，第二天黎明他们又启程回家。</p>
<p>他们在弗特家的走廊上坐到很晚。吉姆和塞雷娜陪他们坐着待了会儿。吉姆和斯通纳的母亲互相谈到一个亲戚的名字，接着又陷入沉默。他父亲坐在一把靠背椅里，双腿伸开，微微前倾，宽大的双手抓着膝盖。最后，弗特夫妇互相看了对方一眼，打了个呵欠，声称时候不早了。他们回到自己的卧室，另外三个人孤单地待在那里。</p>
<p>又是一阵沉默。他父母在自己身体投下的暗影中直勾勾地盯着前方，不时向旁边瞥一眼儿子，好像在他的新住处不愿打搅孩子。</p>
<p>几分钟后，斯通纳向前倾过身开始说话了，他的声音要比自己本来表达的更响亮更有力。“我应该早点告诉你。我应该去年夏天或者今天早上告诉你们。”</p>
<p>父母的脸在灯光里显得麻木不仁，面无表情。</p>
<p>“我想说的是，我不跟你们回农场了。”</p>
<p>谁都没有动一下。父亲说：“你这儿还有些事情要完成，我们可以明天早上回去，你过几天再回家。”</p>
<p>斯通纳伸开手掌搓了下脸。“这个——我不是这个意思。我是想跟你们说，我根本就不想回农场了。”</p>
<p>父亲的手在膝盖上紧紧抓着，然后朝椅背仰过去。他说：“你碰到什么麻烦了吗？”</p>
<p>斯通纳笑了。“不是这么回事。我想要再上一年学，说不定两年或者三年。”</p>
<p>父亲摇了摇头。“我看着你今天下午什么都通过了。县里那个工作人员说农学院只要上四年。”</p>
<p>斯通纳想给父亲解释他打算干什么来，试图在他心中唤起自己的重要感和目标感。他听着自己的语词落下来，好像都发自别人之嘴。他望着父亲的脸，这张脸接受着这些词语，就像一块石头接受着一只拳头的反复击打。他讲完后，坐在那里双手扣在膝盖之间，低垂着脑袋。他听着屋子里的沉默。</p>
<p>父亲终于在椅子里动弹了。斯通纳抬头看着。父母的脸正冲着他。斯通纳几乎要对着他们哭喊了。</p>
<p>“我不明白，”父亲说，他声音沙哑疲惫，“我没想到，事情会变成这样。我想我对你尽了最大的能耐了，送你到这儿来。你妈和我已经为你尽了我们最大的力量。”</p>
<p>“我知道，”斯通纳说，他已经没法多看他们会儿了，“你们都还好吧？今年夏天我会回去一段时间，帮点儿工。我会——”</p>
<p>“如果你觉得应该待在这里，读你的书，那你就应该这样做。你妈和我能对付。”</p>
<p>母亲的脸正对着他，可是并没有看他。母亲的眼睛挤着闭着；她重重地喘着气，脸庞好像因为痛苦而扭曲着，她紧攥的拳头压在脸颊上。斯通纳惊奇地发觉母亲在哭泣，深情又默默地哭着，带着不怎么哭泣的人嫌丢脸和不好意思的表情。他又看了眼母亲，然后缓慢地站起身，走出客厅。他顺着老路踏上通向自己阁楼房间的那条狭窄的楼梯；他在床上躺了很长时间，睁大眼睛望着头顶的黑暗。</p>
<p>斯通纳拿到文学学士学位后两个星期，弗朗茨·斐迪南大公在萨拉热窝遭塞尔维亚民族主义者暗杀；秋天未到，战争席卷整个欧洲。战争成为老学生中持续不断的热门话题，他们好奇美国最终将发挥什么作用，大家又很开心，自己未来的命运暂不确定。</p>
<p>可是摆在斯通纳面前的未来既光明又确定，而且不会改变。他眼中的未来，不是事件、变化和潜在可能的涌流，而是犹如前方的一块领地，等着他去探索。他把未来看作那座宏伟的大学图书馆，可能还会新建侧翼建筑，还会添加新的图书，然后又清退掉旧书，但是其本性仍然基本不会改变。他能看到在这所机构中的未来，他将置身其中，而自己对这个机构还不完全理解；他想象自己在那个未来中还会有变化，可是他把未来本身看作改变的工具而不是它的目标。</p>
<p>那年夏天快结束的时候，秋季学期即将开始之际，他去看了父母。他本想帮着收夏天的庄稼，可发现父亲雇了个黑人田间帮手，干起活来不吭声，卖力，劲头很足，一天干完的活儿差不多顶斯通纳和父亲过去在同样时间里干的活儿。父母见到他后很开心，他们好像并不怨恨他的决定，但他发现自己跟父母无话可说；而且，他意识到，他和父母已经逐渐形同陌生人。他感觉自己的爱因为损失反而更强烈了。他比原来计划的提前一个多星期返回哥伦比亚。</p>
<p>他开始讨厌在弗特家农场干活儿花的时间。很晚才回来开始学习，他感觉有种强烈的学习冲动。有时，沉浸在自己的书本中，他会想到还有那么多东西不知道，还有那么多东西没有读过。他辛苦追求的宁静，当意识到自己生活中的时间那么少，而要读的东西那么多，要知道的事情那么多，这份宁静开始破碎了。</p>
<p>1915年春天，他修完文学硕士的课程，花了整个夏天的时间完成论文，是对乔叟的《坎特伯雷故事》中的一篇进行诗法研究。夏天将尽，弗特夫妇告诉他，农场用不着他了。</p>
<p>他早就料到自己会被解雇，在某种意义上他倒乐意如此；但是，这事真的到来后，他却有种恐慌的刺痛感。好像自己和原来生活之间最后的那条纽带被割断了。他在父亲的农场度过了夏天的最后几周，对论文进行最后的收尾润色。这时，阿切尔·斯隆已经替他安排好给即将入学的新生教两个班的基础英文课，同时他开始着手攻读博士学位。这份工作让他每年收入400美元。他把自己的东西从弗特家那间狭小的阁楼房间里搬出来，他在那里住了五年，然后在大学附近找了个甚至更小的房间。</p>
<p>虽然他只给一群未经挑选的新生教基础语法和作文，内心还是对自己的工作充满热烈的期待，而且胸怀强烈的崇高感。秋季学期开始前的那个星期，他已经开始备课了，斟酌考虑着各种可能性，一个人为某个活动的内容和主题努力拼搏时才会考虑各种可能性；他体会着语法的逻辑，他想自己能够感觉到它如何从自身生发蔓延出来，渗透进语言，支撑着人类的思想。在他布置给学生的简单的作文练习中，他看到了散文的各种潜力和美，他渴望用自己感觉到的东西的感觉来激发学生的活力。</p>
<p>可是，在他上的第一节课上，当例行的点名和学习计划这些开场白结束后，当他开始向自己的听众和学生自我介绍时，他发现自己内心仍然深藏着某种惊奇感。有时，他对学生讲话时，仿佛是站在自我之外，观察着一个陌生人在给一群并不情愿地聚集在一块儿的人发表讲话；他听着自己平板的声音在背诵着准备过的材料，从背诵中体会不到丝毫属于自己的兴奋。</p>
<p>他在这些课上寻找自己的解脱和满足，在这样的课上，他自己就是一个学生。他能够从中再次捡回自己第一天体会到的那种发现感，那时阿切尔·斯隆曾在课上对他说，他刹那间就变成另一个人，不再是过去的那个自己。当他的脑子本身在忙着自己的课题，当它与自己学习且试图理解其本质的文学的力量搏斗时，他意识到自己内心某种东西在不断变化；当他意识到这点后就开始从自我向外转移，走进包容着他的这个世界，所以，他知道了，他读过的弥尔顿的诗歌或者培根的随笔，乃至本·琼森的戏剧改变着这个世界，而这个世界就是文学的主题，能够改变世界是因为文学依赖它。他在课堂上很少讲话，他写的论文鲜有让自己满意的。正如他讲给这些年轻学生听的，从不泄露自己体会最深刻的东西。</p>
<p>他开始跟为数不多的几个同学熟络起来，他们也在系里担任代课教师。他跟其中两个即戴夫·马斯特思和戈登·费奇成了好朋友。</p>
<p>马斯特思是个肤色略微浅黑的年轻人，舌头犀利，眼睛温顺。跟斯通纳一样，他也刚刚启动博士学位课程，但比斯通纳年轻一岁左右。在教师和研究生中，马斯特思以狂妄自大和莽撞著称，大家普遍认为，他最终拿到学位会有些困难。斯通纳想，他可能是自己见过的最优秀的人，而且对他俯首听命，毫无嫉妒和怨言。</p>
<p>戈登·费奇体魄高大，满头金发，二十三岁的时候就开始直奔肥胖。他本科毕业于圣路易斯的一所商学院，在密苏里大学又尝试修习经济学系、历史系、工程系的各种高级学位。他开始攻读文学学位，很大程度上是因为拖到最后可能会在英文系弄份不起眼的教导工作。他很快就让大家看出自己是系里差不多最满不在乎的学生。可是他在新生中颇受欢迎，而且跟年纪稍大些的教员处得相当融洽，跟管理部门的职员也处得不错。</p>
<p>他们三个人——斯通纳、马斯特思和费奇——逐渐形成一个惯例，星期五总是在哥伦比亚的下城区聚会，喝着大瓶啤酒，海阔天空闲聊到深夜。虽然发现那是那些晚上自己所能知道的唯一社交乐趣，斯通纳还是经常对他们的关系感到纳闷。虽然大家处得相当不错，可并没有成为亲密朋友；他们并不吐露心声，也很少在每周的聚会之外见到对方。</p>
<p>他们谁都没有提起过那种关系的话题。斯通纳知道，这事戈登·费奇没想过，但他怀疑戴夫·马斯特思可能想过。有一次，夜已很深，他们坐在黑暗的沙龙里一张后排桌边，斯通纳和马斯特思谈着各自的教学和学习，用那种拙劣的诙谐口吻谈论着极端严肃的事情。马斯特思从店里提供的免费餐里高高举起一只煮得有些过老的鸡蛋，好像举着一只晶体球，他说：“诸位先生可曾考虑过这所大学的真正本质吗？斯通纳先生？费奇先生？”</p>
<p>他们笑着摇摇头。</p>
<p>“我敢说你们没有。我想象，斯通纳把大学当作一幢巨大的仓库，像座图书馆或者货栈，人们可以随心所欲地进出挑选能够成全自己的东西，大家在里面共同工作，犹如一间公共蜂巢里的小蜜蜂。代表着真、善、美。人们总是想绕过角落，去下一条走廊；他们就想看到下一本书，你没有读过的书，或者走到下一排书架旁边，你还不曾到过的书架。但有一天你终究会抵达。等你到了——等你到了——”他又看了看那只鸡蛋，然后大大地咬了一口，又转向斯通纳，下颏在动着咀嚼着，漆黑的眼睛闪闪发亮。</p>
<p>斯通纳别扭地微笑着，费奇纵声大笑，不断拍打着桌子。“他听懂你的意思了，比尔。他非常懂你的意思。”</p>
<p>马斯特思又嚼了会儿，然后吞咽下去，接着又转过来盯着费奇。“还有你，费奇。你有什么想法？”他举起自己的手。“你会声称没有想过这个问题。可你想过。在直率和热诚的外表背后，活跃着一颗单纯的心。对你来说，大学就是善的工具——当然，总体上对这个世界而言，而且顺便对你自己而言是如此。你把它当作一种精神的硫黄和糖蜜，每年秋天你都给他们服用，让那些小浑蛋度过下一个冬季。你是个仁慈的老医生，善意地拍拍他们的脑袋，把他们的钱装进自己的口袋。”</p>
<p>费奇又是一阵放声大笑，不停地摇头。“我发誓，戴夫，等你准备——”</p>
<p>马斯特思把剩下的鸡蛋放进嘴里，津津有味地嚼了会儿，又美美地喝了口啤酒。“可是你们两个都错了，”他说，“大学就像一个庇护所或者——他们现在怎么称呼来着？——是给那些体弱、年迈、不满以及失去竞争力的人提供的休养所。看看我们三个——我们就是这个大学。陌生人不知道，我们有这么多共同点，可是我们明白，不是吗？我们非常清楚。”</p>
<p>费奇仍然笑个不停。“是什么，戴夫？”</p>
<p>看到别人对自己要讲的很感兴趣，马斯特思就专注地从桌子对面倾过身来。“先说你吧，费奇。我尽量说好点，我想说你是低能儿。你自己也知道，其实你并不很聪明——虽然这不影响任何东西。”</p>
<p>“接着说。”费奇还在笑着。</p>
<p>“可是你也够聪明——但只是够聪明——意识到在这个世界上自己会怎么样。你因为失败而与世隔绝，你知道这个。虽然你有能力当个混账家伙，可是你不够无情到坚持不懈地当下去。虽然你不完全是我认识的最诚实的人，你也没有那种异常的不真诚。一方面，你有工作能力，可是你又太懒，工作不够勤勉，达不到这个世界要你达到的程度。另一方面，你又并不那么懒惰，你又给世人一种印象，一种你很重要的感觉。你并不走运——真的不走运。从你的身上看不到升起的光环，你总是带着副迷茫的表情。在这个世界上，你总是处于成功的边缘，你会被自己的缺点毁掉。所以，你被选中，被挑出来；天意，它的幽默感经常让我觉得很有意思，老天已经把你从这个世界的大嘴里抓出来，安全地放在这儿，放在你的兄弟中间。”</p>
<p>他仍然面带微笑，带着恶毒的冷嘲热讽的表情，转向斯通纳。“你也别想逃掉，我的朋友。真的别想。你是什么样的人？一个单纯的土地的孩子，像你对自己假装的那样？噢，不是。你也在弱者之列——你是个梦想家，一个更疯狂世界的疯子，我们中西部本土的堂吉诃德，但没有自己的桑乔，在蓝天下欢跳。你足够聪明——只是比我们共同的朋友聪明一点。但是你有这个瑕疵，那个顽疾。你觉得这里有某种东西，有某种东西值得去寻找。其实，在这个世界上，你很快就会明白。你同样因为失败而与世隔绝；你不会跟这个世界拼搏。你会任由这个世界吃掉你，再把你吐出来，你还躺在这里纳闷，到底做错了什么。因为你总是对这个世界有所期待，而它没有那个东西，它也不希望如此。棉花里的象虫，豆荚里的蠕虫，玉米里的穿孔虫。你无法面对它们，你又不会与它们搏斗；因为你太弱了，你又太固执了。你在这个世界没有安身之地。”</p>
<p>“你呢？”费奇问道。“你自己是什么样的人呢？”</p>
<p>“噢，”马斯特思说着往后靠过去，“我是你们中的一员。事实上，还要更糟。对这个世界而言，我太聪明了，我总是无法闭上嘴不去评论这个世界，这是一种疾病，无药可治。所以我只好被封存起来，在那里我能够不负责任又很安全，我可以不伤害任何东西。”他又向前倾过来，对着他们微笑。“我们都是可怜的汤姆，而且是冰冷的汤姆。”</p>
<p>“李尔王。”斯通纳严肃地说。</p>
<p>“第三场，第四幕，”马斯特思说，“所以，上天，或者社会，或者命运，或者不管什么你想给它取的名字，给我们创造了这间小茅屋，这样我们就可以从暴风雨中走进去。这所大学就是为我们而存在，为这个世界的弃儿而存在；不是为那些学生而存在，也不是为了无私地追求知识而存在，不是为你听到的任何理由而存在。我们释放出各种理由，我们让个别普通人进来，那些将在这个世界上有所作为的人；但那不过是保护色。就像那座中世纪的教堂，它才不在乎俗众，甚至上帝呢，为了活下去，我们有自己的理由。我们应该活下去——因为我们不得不活下去。”</p>
<p>费奇钦佩地摇着脑袋。“你真是搞得我们听上去很不堪，戴夫。”</p>
<p>“我可能是这样，”马斯特思说，“可即便像我们这样不堪，也比外面那些人强，满身污秽，比那些外面世界的浑蛋强。我们不做坏事，我们心口一致，我们为此得到报偿，这是一种天然美德的胜利，或者快他妈的接近了吧。”</p>
<p>马斯特思从桌边往后靠过去，无动于衷，不再关心自己说的话了。</p>
<p>戈登·费奇清了清喉咙。“那好吧，”他热情地说，“你说的也许有些道理，戴夫。可是我觉得你走得太远。我真这么认为。”</p>
<p>斯通纳和马斯特思冲着对方笑了笑，晚上的那个话题，他们没有再多说。但是几年后，在某些离奇的时刻，斯通纳经常想起马斯特思的话；虽然那些话并没有让他对自己置身其中的大学产生幻想，那些话还是向他揭示了自己跟那两个人关系的某种东西，而且让他有机会瞥一眼青春那有害却不曾被破坏的苦涩。</p>
<p>1915年5月7日，一艘德国潜艇击沉了英国的卢西塔尼亚号豪华轮船，船上有114名美国乘客；1916年底，德国发起的潜艇战毫无节制地蔓延开来，美国和德国的关系日趋糟糕。1917年2月，威尔逊总统断绝了两国的外交关系。4月6日，国会宣布，德国和美国之间处于战争状态。</p>
<p>由于那个宣言的发布，全国各地数千名青年，好像获得了解脱，那种不确定的紧张感终于打破，把几个星期前匆匆建起的征兵站围得应接不暇。几百名青年简直等不及美国出面干预，而且早在1915年就跟加拿大皇家军队签了义务书，或者为欧洲某个盟军当救护车司机。大学里一些年纪大点的学生早就这样做了；虽然威廉·斯通纳对这些人毫不了解，随着几个月，几个星期过去，渐渐逼近那个时刻，他们的传奇性大名越来越如雷贯耳，而大家都知道，那一时刻终将到来。</p>
<p>宣布作战是在一个星期五，虽然下周的课程早就排好了，但没几个学生或者教授寻找借口去上这些课。大家或者在大楼里乱转，或者大规模聚集在一块儿，细声细气地窃窃私语。偶尔，那种紧张的沉默忽然爆发演变成近乎暴力行为；出现过两次反德国的总抗议，学生们在抗议中语无伦次地高声喊叫，挥舞着美国国旗。有一次还出现了一场转瞬即逝、反对某个教授的抗议，那是一个留着小胡子、教德语的老教师，他在慕尼黑出生，年轻时上过柏林大学。可是，当这位教授面对一小群愤怒和激动得脸色涨红的学生，迷惑不解地眨着眼睛，而且向他们伸出纤细、颤抖的双手时，学生们又在闷闷不乐的混乱中解散了。</p>
<p>宣战后不久的那几天，斯通纳忍受着某种迷茫的折磨，但是这种痛苦完全有别于袭扰校内其他大多数人的痛苦。虽然他以前经常跟一些老生和老师谈论这场发生在欧洲的战争，但心里从不真的相信。现在它已经落在自己身上，落在他们所有人身上，他发现自己内心还有一片巨大、冷漠的保留地。他憎恨战争对大学强行制造的撕裂；可是他又发现自己内心并没有特别强烈的爱国主义情感，而且也无法促使自己去恨德国人。</p>
<p>但是，德国人是应该痛恨的。有一次，斯通纳正好碰到戈登·费奇在跟一群稍微年长的教员们聊天；费奇的脸都扭曲了，他正在说着“德国佬”，好像还朝地板上啐了唾沫。后来，当费奇在那间有半打年轻老师共用的大办公室里朝斯通纳走来时，他的情绪已经变了；他带着兴奋的愉悦感，拍了拍斯通纳的肩膀。</p>
<p>“可不能让他们那样走了，比尔。”他飞快地说。一层汗水的薄膜像油一般在他圆乎乎的脸上闪着亮光，他细细的金发像细长的辫子般贴在头顶。“不行，先生。我打算去参军。我已经跟老斯隆说过了，他说去吧。我明天就去圣路易斯，去报名。”刹那间，他设法把自己的表情调整成严肃的样子。“我们要全力以赴尽自己的义务。”接着他咧开嘴笑了，又拍了下斯通纳的肩膀。“你最好也跟我一块儿去。”</p>
<p>“我？”斯通纳问道，然后又难以置信地说了一遍，“我？”</p>
<p>费奇大笑起来。“当然。人人都在报名。我刚才跟戴夫聊了——他也打算跟我一起去。”</p>
<p>斯通纳摇了摇头，好像很迷茫。“戴夫·马斯特思？”</p>
<p>“当然了。老戴夫有时说话挺好玩，可在关键时刻，他跟别人没什么区别；他会去尽自己的义务，就像你也会尽自己的义务，比尔。”费奇戳了下他的胳臂。“就像你也会尽自己的义务。”</p>
<p>斯通纳沉默了片刻。“这个我还没想过，”他说，“一切好像都来得太突然了。我得去跟斯隆商量下。我会告诉你。”</p>
<p>“好吧，”费奇说，“你会尽你的义务的，”他的声音意味深长地变得更加浑厚，“我们现在全都为这个团结在一起，比尔；我们都为了它团结在一起。”</p>
<p>斯通纳随后离开费奇，但他并没有去见阿切尔·斯隆，而是在校园里四处看了看，寻找戴夫·马斯特思。他在图书馆的一间研习室找到戴夫，只有他一个人，抽着一根烟卷，盯着一排书架。</p>
<p>斯通纳挨着研习室的那张桌子在他对面坐下。当他询问决定参军的决定时，马斯特思说：“没错，干吗不去呢？”</p>
<p>斯通纳问他为什么时，马斯特思说：“你是很了解我的，比尔。我才不在乎德国人呢。这事儿临头时，我其实也不在乎美国人，我想。”他把烟灰磕到地板上，然后又用脚踩开。“我想，自己去参军是因为我参不参都无关紧要。也许等我回来，走向等待我们大家的与世隔绝的慢性灭绝之前，到这个世界上再走一遭可能会很有趣。”</p>
<p>虽然不理解，斯通纳还是点点头，表示接受马斯特思对自己说的这些。他说：“戈登要我跟你们一起去应征。”</p>
<p>马斯特思笑了。“戈登总是能感觉到自己曾经被允许感觉的那种美德的第一力量；所以他自然想把世界上其他一切都纳入其中，这样他就可以继续保持信仰。真的。干吗不去呢？跟我们一起去吧。也许看看世界是什么样子，对你有好处。”他稍顿片刻，直勾勾地盯着斯通纳。“不过，你要是想去的话，看在基督的分上，别是为了上帝、国家以及亲爱的老美人民而去。要为自己而去。”</p>
<p>斯通纳等了会儿，接着说：“我去跟斯隆说说，然后再告诉你。”</p>
<p>他不知道希望阿切尔·斯隆会有什么反应；但斯通纳在那间窄窄的排满了书的办公室面对斯隆，告诉他自己还没有完全做好的决定时，他很吃惊。</p>
<p>对斯通纳总是摆着副超然、威严的嘲讽姿态的斯隆大发脾气。他长长的瘦脸变得通红，嘴角两边的皱纹因为生气而变得更深，他从椅子里趋起身子朝斯通纳倾过去，紧紧攥着拳头。接着他又坐了回去，刻意松开拳头，把双手摊在桌子上；他的手指颤抖着，但声音镇定而又沙哑。</p>
<p>“请原谅我的意外举动。可是，最近这几天，我已经失去了系里将近三分之一的人员，我看不出替换他们的希望。我不是冲着你发火，而是——”他转身别过斯通纳，望着办公室远远的尽头那扇高耸的窗户。阳光强劲地打在他的脸上，更加突出了皱纹，加深了眼睛底下的青影，所以，一瞬间，他显得很苍老，而且有些病恹恹的。“我是1860年出生的，就在那场叛乱战争的前夕。当然，我记不得那场战争，我还很小。我也记不得父亲了，他在战争的第一年就被杀死了，是在夏洛伊战役中。”他迅速看了眼斯通纳。“但是我看到了后来发生的一切。一场战争不仅仅屠杀掉几千或者几万年轻人。它还屠戮掉一个民族心中的某种东西，这种东西永远不会失而复得。如果一个民族经历了太多的战争，很快，剩下的就全都是残暴者了，动物，那些我们——你和我以及其他像我们这样的人——在这种污秽中培养出的动物。”他停顿了好长时间，接着又微微笑了笑。“不能请求学者去毁灭他拿出生命去建构的东西。”</p>
<p>斯通纳清了清嗓子，怯怯地说：“一切好像都来得这么突然。我从来没考虑过这事，直到跟费奇和马斯特思聊了后才开始去想。似乎直到现在这一切都很不真实。”</p>
<p>“当然不真实了，”斯隆说，接着他烦躁地移过身子，背对斯通纳，“我不想告诉你该怎么去做。我只想说：这是你自己要做的选择。会有强制征兵；但你可以免征，如果你愿意的话。你并不害怕去参军，对吗？”</p>
<p>“不，先生，”斯通纳说，“我想不是这样。”</p>
<p>“那你就有一个选择，得亲自做出选择。不用说，情况会是这样，如果你决定参军，一旦回来，仍然恢复现状。如果你决定不参军，可以继续留在这里，但是当然你也不会有什么特别的益处；而且可能还会有某种不利，要么现在，要么将来。”</p>
<p>“我明白。”斯通纳说。</p>
<p>沉默了好长一阵，斯通纳终于明白，斯隆跟他要讲的已经说完了。可是正当他起身离开办公室时，斯隆又说话了。</p>
<p>他慢条斯理地说，“你必须记着自己是什么人，你选择要成为什么人，记住你正在从事的东西的重要意义。有很多人类的战争、失败和胜利，很多并非军事之争，历史著作中也没有记载。要记住这个，当你试图决定要做什么的时候。”</p>
<p>斯通纳有两天没去上他的课，也没有跟认识的任何人说过话。他待在自己的小屋里，在苦苦地与自己的决定纠缠着；几乎意识不到屋子外面世界的存在。包围着他的是自己的书和小房间的宁静，偶尔听到吵叫的学生远远的嘟囔声，砖路上四轮马车迅速行驶的咔嗒声，以及城里六七辆汽车中的某一辆发动时沉闷的咔嚓声。他始终没有养成过沉思反省的习惯，他发现探寻自己的动机是个棘手又多少让人不快的苦差事；他感觉没有多少东西可以提供给自己，而且内心也没有多少东西可供自己寻找发现。</p>
<p>最终做出自己的决定的时候，他好像感觉自己也连带明白了该怎么办。星期五，他找到马斯特思和费奇，告诉他们，他不跟他们一块去打德国人了。</p>
<p>戈登·费奇仍然因为自己崇德向善而端着劲儿，他模样僵硬，换上一副责备的悲哀表情。“你真让我们沮丧，比尔，”他沉重地说，“你真让我们大家沮丧。”</p>
<p>“冷静。”马斯特思说。他热烈地看着斯通纳。“我想到你可能决定不去。你总是带着那副憔悴、献身的表情。当然，这没什么；不过，是什么让你最终做出这个决定的？”</p>
<p>斯通纳一时无话可说，他想到最近两天，想到似乎没有尽头和毫无意义的默默的挣扎；他想到以前的那些岁月，在农场跟父母度过的遥远的岁月，想到自己奇迹般从中复苏过来的死气沉闷。</p>
<p>“我不知道，”他终于说，“原因多了，我想。没法说。”</p>
<p>“可能会很不容易，”马斯特思说，“如果继续待在这里。”</p>
<p>“我知道。”斯通纳说。</p>
<p>“可是值吗，你觉得？”</p>
<p>斯通纳点点头。</p>
<p>马斯特思笑着说，依然带着冷嘲热讽的老口吻，“你长着副憔悴、饥饿的表情，真的。你注定要遭受灭顶之灾。”</p>
<p>费奇悲哀的责备已经变成一种试探性的蔑视。“你一辈子都会为此后悔的，比尔。”他声音嘶哑地说，他的声音在威胁和怜悯之间犹豫不定。</p>
<p>斯通纳点了点头。“也许吧。”他说。</p>
<p>然后他跟这两位告别过，转身走了。他们第二天就要去圣路易斯应征入伍了，斯通纳还要准备下星期的课。</p>
<p>他对自己的决定毫无内疚感，当强制征兵普遍展开时，他向系里提出申请，没有任何特别的悔恨感；但是他已经意识到自己那些年长同事投来的眼神，意识到学生通过对他彬彬有礼的举止所显示出的不尊的细微棱角。他甚至怀疑，曾经表示热情赞同他继续留在大学的决定的阿切尔·斯隆都变得冷淡和更加疏远，随着参战的那几个月慢慢过去。</p>
<p>1918年春天，他完成了博士学位的各种要求，于当年6月获得学位。就在拿到学位的前一个月，他收到戈登·费奇的一封信，他已经读完军官训练学校，分到纽约城近郊的一个训练营。他从信上得知，费奇获得准许，在空闲时间可以去读哥伦比亚大学，在那里还可以设法完成博士学位必须的要求，今年夏天他将获得那里的师范学院授予的学位。信上还告诉他，戴夫·马斯特思被派往法国，差不多在入伍一年后，跟第一批美国士兵一道去执行任务，已经战死在蒂耶里堡。</p>
<p>在斯通纳即将获得博士学位的典礼日前一个星期，阿切尔·斯隆给了他一个全职大学讲师的工作职位。斯隆解释说，大学的政策是不雇本校的毕业生，可是由于战时训练有素和有经验的大学教师缺乏，他才有可能说服行政管理部门开个例外。</p>
<p>斯通纳曾有些不情愿地给本地区一些大学和学院写了几封求职信，冒昧地详细列举了自己的若干资格；没有得到任何回音时，他奇怪地有种解脱感。他对自己的这种释然还一知半解；在哥伦比亚的这所大学，他已经熟悉了那种安全和温暖，这种东西小时在家就本应该感觉到过，但却未能感觉到，而且对自己能在别处找到这些东西的能力并无把握。他感激不尽地接受了斯隆提供的机会。</p>
<p>接受这份工作后，他忽然意识到，斯隆在美国参战的这一年骤然老了许多。他五十好几，显得要多老十岁；那桀骜不驯的铁灰色的鬈发，曾经在头顶蓬蓬松松，现在已经变白，在贫瘠的头骨上平平地贴着，已经了无生命力。他的那双黑眼睛已经迟钝无神，好像蒙了层潮湿的薄膜；那张遍布皱纹的长脸，曾经坚硬如薄薄的皮革，现在松脆得像年代久远、干燥的纸张；他那平板、冷嘲热讽的声音开始透出一丝颤音。看着他，斯通纳心想：他快要死了——一年或者两年内，甚至十年内，他就会死去。一种不成熟的失落感牢牢地控制住他，于是他转身而去。</p>
<p>1918年的那个夏天，他的大量心思都用在琢磨死亡上。马斯特思的死对他的震撼比自己想象的要强烈得多。第一批美国军人在欧洲的伤亡名单开始陆续公布。以前，他想到死亡，无非把死亡当作一个文学事件或者时间对不完美的肉体施加的缓慢、默默的耗损。他没有想过死亡就是发生在某个战场上的暴力爆炸，没有想过死亡就是割裂的喉咙里血流如喷。他对这两种死亡方式的不同感到不解，也不明白这种区别意味着什么；他发觉自己内心慢慢酝酿出某种痛苦，他从自己的朋友戴夫·马斯特思那鲜活的心中曾经瞥到的痛苦。</p>
<p>他的论文题目是《古典传统对中世纪抒情诗的影响》。夏天的大部分时间他都用来重读经典和中世纪拉丁诗人的作品，特别是有关死亡的诗。他又一次惊异于那些罗马抒情诗人接受死亡时坦然、优雅的态度，好像他们面对的那个虚无不过是自己曾经享受过的绚丽岁月的一种应有属性；拉丁传统的后期基督徒诗人看待死亡时表现出的痛苦、恐惧以及勉强掩饰的憎恶令他惊奇，死亡承诺，无论多么模糊，会有一种华丽、愉悦的永恒人生，好像死亡和承诺不过是一种嘲弄，会让他们活着的光阴发馊。每当想起马斯特思，斯通纳就把他想象成卡图卢斯或者更温柔和抒情的尤维纳利斯，一个自己故国的流放者，想到他的死亡不过是又一次流放，只是要比他以前熟悉的流亡更加陌生和长久。</p>
<p>1918年秋季开学的时候，对每个人来说形势已经明朗，欧洲的这场战争不会持续多久了。持久、猛烈的德国反攻在巴黎遇阻，福煦元帅下令展开一场全面的联合反击，迅速把德国人推到他们的原始防线之后。英国开始进攻北部，美国人穿过阿尔贡，付出了一场代价，这个代价在到处弥漫的洋洋得意中被普遍忽视了。报纸在预测圣诞节前德国人会发生一场崩溃。</p>
<p>所以，新学期是在一种紧张的友善欢快和健康舒服的氛围中开始的。师生们发现在楼里彼此都笑脸相迎，有力地点头示意。教职员工和行政部门对学生中发生的过激表现和不起眼的暴力冲突都视而不见；一个身份不明的学生，很快就成为当地的某种民间英雄，他爬到杰西楼前的一根大柱子上，在柱顶上吊了一只用稻草填充的凯泽像。</p>
<p>大学里唯一对这种四处弥漫的欢欣鼓舞似乎无动于衷的人就是阿切尔·斯隆。自从美国宣布介入战争的那天开始，他就自我逃避，这种逃避随着战争接近尾声变得更加明显。他不跟同事说话，除非系里的事务迫使他不得不说，有风言风语称，他上课时举止十分怪异，听课的学生都相当排斥；他枯燥、机械地照读讲义，从不看看学生的目光；他盯着讲义时经常说着说着就没声音了，而且有时一两分钟，有时甚至长达五分钟沉默不语，其间既不动弹，也不回应课堂上提的尴尬问题。</p>
<p>当阿切尔·斯隆把那一学年的教学安排交给他的时候，威廉·斯通纳目睹了学生时代就认识的这位聪明睿智、喜欢冷嘲热讽的人的最后遗迹。斯隆给了斯通纳两组新生作文教学任务，加一门中世纪英语文学的高年级概论；他接着说，依旧闪烁着一丝冷嘲热讽的色彩：“你，还有我的许多同事，以及为数不少的我们的学生，听了会很高兴，我要放弃很多课了。</p>
<p>其中一门就是不怎么受欢迎但我自己最喜欢的大二英国文学概论。你还能想得起这门课吗？”</p>
<p>斯通纳点点头，笑而不语。</p>
<p>“没错，”斯隆继续说，“我深信你会记着。我想请你替我教这门课。这算不上什么了不起的赐赠；但是，我想也许你会觉得好玩，从此你将从自己当学生时开始学习的地方正式开启自己的教师职业生涯。”斯隆看了看他，眼睛明亮、专注，就像战前那样。接着那层冰冷的薄膜又落在眼睛上，他转身离开斯通纳，收拾起桌上的纸张来。</p>
<p>就这样斯通纳从自己最初开始的地方启程了，一个高大、瘦削、驼背的男子站在同一间教室，当年同样高大、瘦削、驼背的男孩坐在这里听着最终把他带到这里来的那些话语。他后来从未进过这间教室，没见过自己当年占据的那个座位。他总是有些惊讶地发现，自己不在那里。</p>
<p>那年11月11日，开学两个月后，停战协议签署。有一天上课的时候，消息传来，课堂立刻解散了；学生们漫无目标地在校园里奔跑，开始集会，小范围游行，四散开来后又聚拢在一起，弯弯曲曲地穿过教学楼、教室、办公室。斯通纳有些不情愿地加入了穿过杰西楼的一支游行队伍，穿过走廊，爬上楼梯，然后又穿过走廊。他随着一小群学生和老师，被裹挟着经过阿切尔·斯隆办公室打开的门；他瞥了眼，斯隆坐在书桌前面的椅子里，他的脸没有被挡住，扭曲着，在痛苦地哭泣，泪水如激流般沿着皮肤深深的皱纹淌下来。</p>
<p>有那么片刻，仿佛受到了震惊，斯通纳任由自己被人群席卷着往前走去。后来，他脱了队回到校园附近自己的那间小屋。他在小屋的阴暗中坐着，听着外面欢乐和发泄的大喊大叫声，想起阿切尔·斯隆面对只有他看得清或者认为看得清的失败发出的哭泣；他知道斯隆已经崩溃，永远不会再回到从前。</p>
<p>11月底，许多前往参战的人开始回到哥伦比亚，大学校园到处点缀着军装的橄榄黄。这些延期休学又归来的人中就有戈登·费奇。在离开大学的这一年半中，他的体重增加了，开阔、爽朗的脸，曾经温顺地沉默寡言，现在换上一副友好但自命不凡的矜持表情；他戴着陆军上尉军阶条带，说话时经常带着“我的人”兄长般的爱抚口吻。他对威廉·斯通纳的态度既疏远又友好，对系里的老职工刻意表现出不同，显得过度关心。秋季学期已经过去不少，给他安排任何课都太晚了。所以，那一学年剩下的时间，他被安排了一个可以理解的临时差使，文理学院院长的行政助理。他敏锐地注意到这个新职位的模棱两可性，同时又十分精明地看出了它的多种可能性；他与同事的关系都处得小心翼翼，而且客客气气地不明确表态。</p>
<p>院长乔赛亚·克莱蒙特是个上了年纪、留着小胡子的矮个男人，已经过了强制退休的年限若干年；上个世纪70年代早期，大学从一个师范学院转成一所综合性大学的时候，他就在学校里了，父亲早年还做过一任校长。他的根扎得很深，又是大学历史的重要组成部分，根本就没人有勇气坚持让他退休，虽然他处理事务的能力越来越不行了。他的记忆力快没了；有时还会在杰西楼的过道里迷路，他的办公室就在那里，只好像个孩子般让人领着坐到办公桌前。</p>
<p>他对大学的事务已经糊涂不清，乃至办公室发出一个通知说，为了欢迎复员老职工重返教工队伍和行政机构，家里要举办一场欢迎会，收到请柬的大多数人都感觉这是在开一个瞎编的玩笑，或者就是犯了一个错误。可这并非玩笑，也不是错误。戈登·费奇确认了这些邀请；大家普遍暗示，是他怂恿举办的这场招待会，又是他落实了各种计划。</p>
<p>乔赛亚·克莱蒙特多年前就已丧妻，一个人过着，有三个黑人仆佣，差不多跟他本人一样年迈了，生活在一个内战前的大家庭中，这个家庭曾经在哥伦比亚一带人人皆知，但是在那种独立的小农和房地产商进来之前就已经开始迅速分崩离析了。那地方的建筑很舒适但没有显明的特色；虽然它的整体形态和宽阔上体现着“南方味儿”，但又没有弗吉尼亚民居新古典式的僵硬。木板都涂成白色，绿色装饰框住窗户和小阳台的栏杆，这些扶手从高一层时不时地伸出来。场院延伸进一片围住这块地方的林子。高高的杨树，在十二月的午后已经没有了叶子，整齐地沿着车道和人行道排列着。这是威廉·斯通纳靠近过的最宏大的房子了；那个星期五下午，他怀着几分担忧走到车行道上，然后加入一群自己不认识的员工中，他们在等着开大门让进去。</p>
<p>戈登·费奇还穿着他的那套军装前来开门让大家进去；这群人走进一个小小的正方形的门厅，尽头有一条陡直的楼梯，栎木栏杆朝上通向二楼。一张小幅的法国花毯，挂在楼梯的墙上，就在人们进去时正对面，蓝色和金色都已经相当淡了，在几只小小的灯泡发出的昏黄的灯光中，差不多连上面的图案都看不清了。斯通纳趁跟他一块儿进来的人在那个小门厅里溜达的工夫凝望着挂毯。</p>
<p>“把你的外套给我，比尔。”这声音近在耳边，让他吓了一跳。斯通纳转过来。费奇正微笑着，伸出手接斯通纳还没有脱下的外套。</p>
<p>“你以前没来过这儿，对吗？”费奇几乎是用耳语问道。斯通纳摇摇头。</p>
<p>费奇又转向其他人，同样没有抬高声调，忙着招呼大家。“各位先生先进主客室吧。”他指着门厅右边的一扇门。“大家都在那里。”</p>
<p>他的注意力又回到斯通纳身上。“这幢老房子真漂亮，”他说，把斯通纳的外套挂在楼梯下面一个挺大的壁橱里，“这可是附近名副其实的一幢装饰完美的房子。”</p>
<p>“是啊，”斯通纳说，“我听人说过。”</p>
<p>“克莱蒙特是个挺不错的老人。他请我今天晚上招呼些事儿。”</p>
<p>斯通纳点点头。</p>
<p>费奇抓住胳臂带着他向刚才指过的那扇门走去。“今天晚上，我们可以一起聊会儿。你先进去。我还要在这里再待会儿。还有几个人要我迎一下。”</p>
<p>斯通纳刚要说话，费奇已经转身去迎接到大门口的另一拨人了。斯通纳深深地吸了口气，打开主客厅的门。</p>
<p>当他从寒冷的休息室走进客厅时，温暖向他扑过来，好像要把他朝后推回去；里面人们慢慢吞吞的轻语声，因为他打开门后释放出来，刹那间，由于耳朵还不适应，低语声如波涛汹涌。</p>
<p>客厅里可能有六七个人在晃悠，斯通纳一时一个都认不出来；他看着男人严肃的黑色、灰色和褐色的正装，以及军装的橄榄黄色，不时出现几缕女装秀气的粉红色或者蓝色点缀其间。人们在那团温暖中缓慢地活动着，他也跟着这些人动起来，感觉在那些坐着的人中间，自己的瘦高个儿非常显眼，他不断地向现在开始认出的脸点着头。</p>
<p>在遥远的末端，又一道门通向一间休息厅，跟那间狭长的餐厅挨着。餐厅的双排门大开着，露出一张巨大的栗色餐桌，上面盖着黄色的锦缎，摆满了闪着银光的洁白的碟子和盆碗。已经有几个人围着桌子坐下了，顶头有一个年轻女子，高挑、苗条、漂亮，穿着蓝色的带波纹的丝绸长袍，站着往金边的瓷杯里倒茶。斯通纳在过道里停留了片刻，被这位年轻女子的样子吸引住了。她修长、五官柔美的脸冲着自己旁边的人微笑着。她纤细、几乎碰了会碎的手指熟练地侍弄着水壶和杯子。斯通纳注视她时，深感自己何其粗笨，这样的念头油然袭来。</p>
<p>有那么片刻，他都在门道里挪不动了；他听着这女孩柔和、细声细气的声音高过她侍候的围坐的客人的细语声。她抬起头，刹那间他碰到了女孩的眼睛；那双眼睛苍白又大，似乎从里面闪烁着某种光。在轻微的慌乱中，他从门道退了回去，转身进了那间休息室；他在墙边一个地方找了把空椅子，坐下来望着脚底的地毯。他始终没有朝餐厅那个方向看一眼，但不时能感觉到那个年轻女子凝视的目光温暖地刷过他的脸庞。</p>
<p>客人们在他身边走来走去，当发现新的聊天伙伴时互相交换着座位，变化着不同的语调。斯通纳透过一层薄雾看着他们，好像自己倒是个观众。过了会儿，戈登·费奇走进房间，斯通纳从椅子里站起来，穿过房间向他走去。他几乎粗鲁地打断了费奇跟一个上些年纪的人的谈话。斯通纳把他拉到一旁，但并不压低声音，请求他介绍认识下倒茶的那个年轻女子。</p>
<p>费奇盯着他看了一会儿，烦恼的蹙眉动作在额头弄出好几条皱纹，等睁大眼睛后皱纹又舒展开了。“你说什么？”费奇问道。虽然他要比斯通纳矮一些，但好像在居高临下地看着。</p>
<p>“我想让你介绍我。”斯通纳说。他感觉自己的脸在发烧。“你认识她吗？”</p>
<p>“当然认识。”费奇说。他的嘴角开始拽过一丝坏笑。“她好像是院长的远亲，是从圣路易斯过来的，来看姨妈。”咧嘴而笑的幅度更大了。“老比尔。真有你的。没问题，我来介绍你。过来。”</p>
<p>她的名字叫伊迪丝·伊莱恩·博斯特威克，跟父母住在圣路易斯，去年春天，在那里的一所私立女子书院读完了两年的研究课程。她是来看在哥伦比亚的母亲的姐姐，住上几星期，今年春天她们打算去欧洲来个盛大游——既然战争已结束，这次活动又有可能成行了。她父亲是圣路易斯一家小银行的行长，是个迁移过来的新英格兰人；70年代的时候，他来到西部，跟密苏里中部一个望族中最大的女儿结了婚。伊迪丝从出生起就住在圣路易斯；几年前去过东部，跟父母去波士顿消暑；她在纽约看过歌剧，参观过几家博物馆。那时她二十岁，会弹钢琴，有些艺术爱好，母亲很支持她。</p>
<p>后来，威廉·斯通纳想不起在乔赛亚·克莱蒙特家的第一个下午和黄昏是怎么了解到这些情况的，因为他们见面的时间已经模模糊糊，而且又很正式，就像休息室附近楼梯墙上那个带图案的挂毯。他想起对伊迪丝说过，她可能盯着他看过，总在他身边，听她回答他的问题，仓促地反问时温柔、细声细气的声音，让他很舒服。</p>
<p>客人开始陆续离开。各种声音在道别，门砰地关上，房间空了。大多数客人都走了，斯通纳仍然滞留不走，伊迪丝的马车过来后，他跟着她走进门厅，拿着她的外套。到了外面，就在伊迪丝要启程时，他问伊迪丝能否明天晚上再来看她。</p>
<p>她好像没有听见斯通纳的话，打开车门，一动不动地站了一会儿：寒风从门道里扫出来，碰触到斯通纳发烫的脸。伊迪丝回头望着他，眨了几下眼睛；她淡白色的眼眸若有所思，而且几乎可以说很大胆了。她终于点了下头说，“好的。你来吧。”她没有微笑。</p>
<p>于是在一个极为寒冷的中西部的冬夜，他去拜访了，步行穿过城区前往她姨妈家。头顶没有云；半圆形的月亮的光照在一片浅浅的雪地上，下午早些时候就开始下雪了。大街上冷冷清清，沉闷的寂静被他行走时踩在脚下的干雪发出的咔嚓声打断了。他在自己要进去的那幢大宅外面站了很长时间，倾听着这片寂静。寒冷已经麻木了他的双脚，但他还是没有动一动。从那些挂着窗帘的窗户中透出的一线暗淡的光落在蓝莹莹的白雪上，仿佛一道黄色的污迹；他想自己看到里面的动静了，但又不能肯定。他好像在命令自己在做什么事，刻意地向前迈出步子，走到通向走廊的那条小路，在大门上敲了敲。</p>
<p>伊迪丝的姨妈（她的名字，斯通纳要知道得更早些，叫艾玛·达利，而且寡居多年了）来门口接迎，请他进去。这是个矮胖的女人，满头漂亮的白发在脸上飘荡，黑色的眼睛闪着湿漉漉的光，她讲话温柔，上气不接下气，好像要告诉他许多秘密。斯通纳跟着她走进客厅，面对她在一张长长的栗色沙发上坐下，座位和靠背上覆盖着厚厚的蓝色绒布。他的鞋上还沾着雪；他看着雪融化了，在脚下厚厚的花地毯上留下湿湿的斑块。</p>
<p>“伊迪丝跟我说你在大学教书，斯通纳先生。”达利太太说。</p>
<p>“是的，姨妈。”他说，然后清了清嗓子。</p>
<p>“有幸在这儿又跟一位年轻教授说话真是太好了，”达利太太开心地说，“我死去的丈夫，达利先生曾经担任大学的校董好多年——不过我猜你知道这个。”</p>
<p>“没有听说过，姨妈。”斯通纳说。</p>
<p>“噢，”达利太太说，“嗯，下午我们经常请些年轻点的教授过来喝茶。不过那是好多年前的事了，是在战前。你参战过吗，斯通纳教授？”</p>
<p>“没有，姨妈，”斯通纳说，“我待在大学里。”</p>
<p>“哦。”达利太太说。她愉快地点点头。“你是教——？”</p>
<p>“英文，”斯通纳说，“我不是教授。我只是一个讲师。”他知道自己的声音有些沙哑；可就是控制不住。他试图笑一笑。</p>
<p>“噢，这样，”她说，“莎士比亚……勃朗宁……”</p>
<p>两人沉默了片刻。斯通纳双手交错在一起，望着门口。</p>
<p>达利太太说：“我去看看伊迪丝准备好了没有。你不介意吧？”</p>
<p>斯通纳点点头，等她出去时又站了起来。他听到后面的一间屋子里传出响亮的私语声。他站了几分钟。</p>
<p>忽然，伊迪丝已经站在宽敞的门口过道，脸色苍白，并没有微笑。他们凝视着对方，谁都没有招呼。伊迪丝往后退了一步，然后又朝前走来，她的嘴唇细薄，绷得紧紧的。他们庄重地握了握手，然后挨着在沙发上坐下。两人谁都没有说话。</p>
<p>她甚至比斯通纳记忆中的样子还要高些，嘴唇始终紧抿在倔强的牙齿上。她的皮肤有些透亮，能够呈现任何刺激引起的颜色和热度变化的痕迹。她的头发是浅浅的红褐色，在头上扎起厚厚的发辫。不过，那双眼睛还是吸引着他，抓着他，跟昨天见到的一样。这双眼睛很大，恐怕是他能想象得出来的最淡的蓝眼睛。他看着这双眼睛的时候，似乎从自己的躯体脱身而出，进入一种无法理解的神秘状态。他想伊迪丝是自己见过的最美的女人了，他冲动地说，“我——我很想了解你。”她稍微往后躲了下。斯通纳急匆匆地说：“我是说——昨天，在招待会上，我们其实没有机会说话。我想跟你聊一聊，可是那么多人在场。人们有时还要麻烦你。”</p>
<p>“招待会办得相当好，”伊迪丝轻声说，“我觉得大家都挺好。”</p>
<p>“噢，是的，当然，”斯通纳说，“我的意思是……”他没有再说下去。伊迪丝沉默不语。</p>
<p>他说：“我听说，你和姨妈即将去欧洲待一段时间。”</p>
<p>“是的。”她说。</p>
<p>“欧洲……”他摇了摇头。“你一定很激动。”</p>
<p>她勉强点点头。</p>
<p>“你们打算去哪儿？我的意思——都去什么地方？”</p>
<p>“英格兰，”她说，“法国，意大利。”</p>
<p>“你们就要动身——这个春天？”</p>
<p>“四月。”她说。</p>
<p>“还有五个月，”他说，“时间不是很长。我希望在这期间我们能——”</p>
<p>“我在这儿只待三个多星期，”她迅速说，“然后就回圣路易斯。回去过圣诞节。”</p>
<p>“时间挺短。”他笑了笑，尴尬地说，“那我会尽量多来看你，这样我们彼此就可以更熟悉些。”</p>
<p>她几乎是恐惧地看着斯通纳。“我不是那个意思，”她说，“拜托……”</p>
<p>斯通纳一时无语。“真不好意思，我——不过我还会再来看你，在你允许的条件下尽量多来。可以吗？”</p>
<p>“哦，”她说，“好吧。”她纤细的手指相扣着放在膝头，指关节白白的皮肤很舒展，手背上有几粒非常淡的雀斑。</p>
<p>斯通纳说：“这样挺莽撞吧？你可一定要谅解我。我从未认识过像你这样的人，我说话笨嘴拙舌的。如果我让你难堪了，你可一定要原谅我。”</p>
<p>“噢，没有。”伊迪丝说。她转过来面对着斯通纳，嘴唇那么一扯，他想那一定是微笑了。“一点儿都没有。我很开心。真的。”</p>
<p>斯通纳不知该说什么。他又提到外面的天气，很歉疚在地毯上踩出雪迹；伊迪丝含含糊糊地说了些什么。他谈到自己在大学里教的课，伊迪丝点点头，表情茫然。最后，他们又坐着不说话了。斯通纳站起身；他慢慢地沉重地挪动着，好像挺疲惫。伊迪丝毫无表情地望着他。</p>
<p>“好吧。”他说，清了清喉咙。“天已经很晚了，我——瞧。对不起。我过几天能再来看你吗？也许……”</p>
<p>这话好像不是对伊迪丝讲的。他点点头说：“晚安。”然后就转身走了。</p>
<p>伊迪丝用一种毫无色彩的高声尖音说：“我大约还是个六岁小姑娘的时候就会弹钢琴，喜欢画画，很害羞，所以妈妈就打发我去了圣路易斯的桑代克女子学校。我是那儿最小的一个学生，不过一切都挺好，因为爸爸是董事会成员，他把一切都安排好了。我开始很不喜欢那里，最后又很热爱那里。女孩们都挺好，条件不错，我在那里认识了一些终生往来的朋友，而且——”</p>
<p>她开始说话时，斯通纳又转过身来，好奇地看着她，但脸上并没有流露出来。她的眼睛定定地看着前方。脸上毫无表情，只是双唇在活动着，好像不用理解，只是在读着一本看不见的书。斯通纳慢慢地走过房间，在她身边坐下。伊迪丝好像没有注意到他，眼睛仍然直勾勾地看着前面，继续讲着自己的事，仿佛是斯通纳请她讲的。他想让伊迪丝打住，想安慰她，想抚摸她。他既没有动一动，也没有说什么。</p>
<p>伊迪丝继续讲着，过了会儿，斯通纳开始听她在讲什么。若干年后，他忽然想起，在他们第一次长时间一起相处的那个十二月的夜晚度过的一个半小时里，她告诉的事儿要比后来说的多得多。说完后，他感觉，在某种意义上，他们都是陌生人，以前没想过这个，而且他明白，自己爱上这个女孩了。</p>
<p>伊迪丝·伊莱恩·博斯特威克也许没有意识到，那天晚上她对威廉·斯通纳说了些什么，即便意识到了，恐怕也想不到那些话的意义。但斯通纳知道她说了什么，他将永远不会忘记；他听到的好像是一种忏悔，他想，据自己理解，那是在发出帮助的请求。</p>
<p>随着对伊迪丝的了解得更深入，斯通纳对她的童年也更加熟悉了；他开始觉得，这在她那个时期和条件的大多数女孩是很典型的。她是在这样的前提下接受的教育：在自己的道路上会受到保护，免遭生活可能投向她的粗俗事件，而且除了气质优雅顺从地附属于这种保护，她没有别的应尽义务，因为她属于这样一种社会和经济阶层，对这个阶层而言，保护几乎是一种神圣的义务。她读过好几所私人女子学校，学习阅读和写作，做些简单的算术；闲暇的时候，还会被鼓励做些针线活儿，弹弹钢琴，画画油画，讨论些比较温馨的文学作品。她还接受些着装、举止仪态、淑女用语、道德修养方面的指点。</p>
<p>她的品德训练，无论在学校还是家庭，本质上都是保守的，要抑制欲念，而且抑制的几乎全跟性有关。而且，情欲都是间接的，不被认可的；因此性遍布她所受教育的其余每个部分，并从那个隐蔽、未可言及的道德力量中吸收着它的大部分养分。她知道，应该对自己的丈夫和家庭尽各种义务，并且必须要履行。</p>
<p>她的童年时代非常规矩，甚至在最寻常的家庭生活的某些时刻都是如此。父母彼此相敬如宾；伊迪丝从未看到过他们之间表达那种无论是生气，还是怜爱的自然流露的温馨。生气就是好几天客客气气不说话，怜爱就是一句彬彬有礼的倾心话。她是独生女，孤单就是人生最初的状态。</p>
<p>所以，她是怀着某种脆弱、偏女性化的艺术天赋长大的，日复一日，不曾有过任何生活必需的知识。她的针头很秀气，却不实用。她画些雾蒙蒙、轻薄的水彩；用弱不禁风但相当准确的手弹弹钢琴；可是她忽视了自己的身体功能，生活中没有一天曾经独处过，稍微关心下那个自我。她从来没有想过可能要对别人的幸福生活负责。她的生活没有任何变化，就像低沉不变的嗡嗡声；母亲监管很严，伊迪丝还是个女孩的时候，就会在旁边坐上好几个小时看着她画画或者弹钢琴，好像两个人都没有别的正事可干。</p>
<p>十三岁的时候，伊迪丝完成了例行的性生理的转变，同时也完成了更不寻常的生理变化。在几个月的空当里，她差不多长高了一尺，身高快接近一个成年男子。她始终没有从身体的笨拙和令人尴尬、崭新的性态之间的关联中恢复过来。这些变化更加强化了某种天生的羞怯——在学校她总是跟同学保持着某种疏远的距离，在家里又没有人可倾诉，于是她越来越转向内在的自我。</p>
<p>现在，威廉·斯通纳闯进这块心灵的隐私之地。内心某种毋庸置疑、发自本能的东西，迫使她在斯通纳要出门时又喊回来，弄得她说话时又快又冲动，好像以前从来没说过话，而且今后也不会再说了。</p>
<p>随后的两个星期，斯通纳几乎每天晚上去看她。他们还听过大学新成立的音乐系举办的音乐会，晚上不是太冷的时候就缓慢、庄重地穿过哥伦比亚的街巷去散步；但更多时候，他们总是坐在达利太太的客厅里。有时他们会说说话，伊迪丝给他弹钢琴，他边听着边望着那双手柔弱地在琴键上活动着。从那天晚上第一次相处以后，他们的谈话奇怪地没有了人情色彩；他无法把她从保守中拉出来，当发现这样的努力让她难堪时，他就停止了尝试。不过，他们之间仍然有种舒心感，他想象他们有种心领神会的缘分。离她回圣路易斯不到一个星期的时候，斯通纳正式向她表白了自己的爱，并求了婚。</p>
<p>虽然不知道伊迪丝对自己的表白和求婚如何对待，斯通纳还是对她的镇定感到惊讶。他讲完后，伊迪丝长长地看了他一眼，凝视中带着刻意和好奇的勇敢；这让他想起第一次下午的情景，在征得拜访她的请求同意后，当她从门口那儿望着他的时候，一阵冷风打到他们身上。接着她垂下凝望的目光；从她脸上掠过的惊讶，斯通纳都感觉好像不是真的。伊迪丝说她从来没有从这方面想过他，也从来没有想象过，她不知道。</p>
<p>“你一定知道我爱你，”他说，“我都不知道如何掩饰。”</p>
<p>她带着几许兴奋说：“我不知道。我对这种事一窍不通。”</p>
<p>“那我必须再跟你讲一遍，”他温柔地说，“你一定会习惯的。我爱你，我无法想象没有你的生活。”</p>
<p>她摇了摇头，好像不知所措。“我去欧洲的行程，”她轻声说，“艾玛姨妈……”</p>
<p>他感觉一阵笑意要从喉咙中涌上来，然后开心又自信地说：“我会带你去欧洲。有一天，我们一起去看欧洲。”</p>
<p>她扭过身去，把指尖搭在额头上。“你得给我些时间，让我想想。我得跟爸爸妈妈说一说，在我考虑之前……”</p>
<p>她无法再进一步自作主张了。在离开这儿去圣路易斯之前的这几天，她不想再见斯通纳，等跟父母谈了，自己把一些事情想清楚了，她会从家里给他写信过来。那天晚上离开时，他俯身想吻伊迪丝，她别过头，他的嘴唇刷到她的脸颊上。她轻轻地捏了下他的手，然后让他从正门出去，并且再没有看他。</p>
<p>十天后，他收到了伊迪丝的信。是个正式得奇怪的便条，上面对他们之间发生的事只字未提；只是说，她很乐意他来见自己的父母，如果他来圣路易斯，他们也很想见见他。如果可能的话，下个星期就行。</p>
<p>伊迪丝的父母见了他，用一种他早就料到的冷冷的正经态度，他们试图顷刻间摧毁他可能会有的轻松感。博斯特威克太太每提一个问题，对他的回答总是用一种极端怀疑的口吻说“是吗”，同时好奇地打量着他，好像他的脸上有污迹或者鼻子在流血。她比伊迪丝还要高，还要瘦，起初，斯通纳对这种始料不及的相像很惊讶；但是，博斯特威克太太的脸有些呆滞和病态，没有一点刚劲或者雅致，上面还留着肯定是某种习惯性不满导致的深深痕迹。</p>
<p>霍勒斯·博斯特威克的个头同样很高，但给人某种奇怪的并不结实的粗重感，几乎可以说是肥胖了；一缕火色的发边在别致的光脑袋上弯弯绕绕的，在他的下巴颏周围，皮肤的褶皱松弛地垂了好几层。他跟斯通纳说话的时候，眼睛径直越过头顶，好像在看着身后的什么东西，斯通纳回答的时候，他就用粗壮的手指在背心中间的滚边上敲击着。</p>
<p>伊迪丝迎接的态度好像他不过是个偶尔来访的客人，然后就毫不在乎地飘走了，去忙自己那些无关紧要的活儿了。斯通纳的目光追随着她，但却无法让她看看自己。</p>
<p>这是一幢斯通纳平生进去过的最大最优美的房子。每个房间都很高，又很暗，挤满了各种大小和形状的花瓶，在大理石桌面、五斗橱和箱子上放满了隐隐约约闪着光泽的银器，还有覆盖着华丽的挂毯、有着精致纹路的家具。他们迅速穿过几个屋子来到一间大客厅，博斯特威克太太在这里悄声说着什么，她和丈夫都习惯坐着跟朋友们非正式地聊聊天。斯通纳坐在一把松脆的椅子里，他都害怕在上面挪动；他感觉椅子在身躯底下活动着。</p>
<p>伊迪丝消失不见了，斯通纳环顾四周，几乎疯狂地寻找着。可是将近两个小时，她始终没有回客厅一趟，直到斯通纳和她的父母结束了他们的“谈话”。</p>
<p>“谈话”并不坦率，躲躲闪闪，而且进展缓慢，经常被长久的沉默打断。霍勒斯·博斯特威克在几次简短的演讲中谈了些自己的情况，几番演讲直接对着斯通纳脑袋上方几英寸的高度发表。斯通纳得知博斯特威克是波士顿人，他的父亲在晚年时由于做了一系列导致银行关闭的不明智投资，把银行生意搞砸了，也毁了儿子在新英格兰的未来。（“被出卖了，”博斯特威克冲着天花板宣称，“被不地道的朋友们出卖了。”）因此，内战结束不久便到了密苏里，想搬到西部来；可是他从来没有去过比堪萨斯城更远的地方，那里他也是偶尔出差去过。考虑到父亲的失败或者出卖，他先在圣路易斯的一家小银行找到第一份工作待下来。三十八九岁时，牢牢地占据了一个微不足道的副总位置后，他跟当地还不错的一家人的女儿结了婚。这场婚姻他只得了一个孩子；他想要个儿子，再要个女儿，而这是他又一个几乎懒得掩饰的失望。像很多觉得自己虽成功却留有遗憾的男人一样，他非常虚荣，并且斤斤计较着自己的重要感。每隔十或者十五分钟，他就从背心口袋里拿出一块大金表，凝视会儿，然后独自点点头。</p>
<p>博斯特威克太太不太爱讲话，也不怎么直接谈论自己，但斯通纳很快就对她形成了一种看法。她属于某种类型的南方女人。属于某个古老而且气数悄然已尽的家庭，她是怀着这种信念长大的，这个家庭存在所必需的环境条件与它的品质并不相称。她接受的教导是追求那种状况的改善，但是这种改善从来都没有精确地指出来过。她跟霍勒斯·博斯特威克走进婚姻，满怀着内心根深蒂固的不满，即婚姻是她个人的一种职责；随着岁月流逝，这种不满和痛苦与日俱增，变得如此寻常和无所不在，已经没有特定的药物可以缓解了。她的声音单薄又高亢，始终带着某种绝望的调子，这赋予她说的每个词某种特殊的价值。</p>
<p>直到那天下午的晚些时候，两个人才提到让他们走到一起的那些事。</p>
<p>他们告诉斯通纳，两人是何等溺爱伊迪丝，对她未来的幸福是何等关心，还说了她的不少优点。斯通纳坐在那里，因为尴尬而痛苦之极，努力做出种种他希望是得体的反应。</p>
<p>“是个非常特别的女孩，”博斯特威克太太说，口气中带着依旧不变的痛苦，“没有男人——没有人能够完全理解那种优雅——”</p>
<p>“是的。”霍勒斯·博斯特威克直截了当地说。他开始查究起他所谓的斯通纳的“前程”来。斯通纳尽其所能答得漂亮些，他以前还从没考虑过自己的“前程”呢，他很惊讶那些前程听上去多么单薄。</p>
<p>博斯特威克说：“你没有——什么路子吧——除了自己的职业？”</p>
<p>“没有，先生。”斯通纳说。</p>
<p>博斯特威克先生不高兴地摇了摇头。“伊迪丝有——不少优势——你知道。有一个完美的家庭，有好多仆人，上过最好的学校。我不知道——我觉得有些担心，以最低标准，而且这个就你的——哦，条件——都是不可缺少的……”他的声音渐渐消失了。</p>
<p>斯通纳感觉厌恶从心底油然而起，同时还夹杂着某种愤怒。他稍等片刻才做了回答，尽量把声音调整得客观单调，不带感情色彩。</p>
<p>“我得告诉您，先生，我从未考虑过这些物质上的事。当然，伊迪丝的幸福就是我的——如果你认为伊迪丝会不幸福，那我必须……”他顿了下，搜索着词语。他想告诉伊迪丝的父亲自己对他女儿的爱，对两人在一起能够幸福生活很有把握，知道他们将会过什么样的生活。但他没有继续往下说。他从霍勒斯·博斯特威克的脸上看到了类似关切、沮丧的表情，以及诸如害怕的东西，让他惊吓得沉默不语。</p>
<p>“没有。”霍勒斯·博斯特威克不耐烦地说，他的表情逐渐明朗起来。“你误会我了。我只是想在你面前摆出某些——困难——这些东西或许将来会出现。我相信你们年轻人已经深谈过这些事情了，我相信你是了解自己想法的。我尊重你的判断和……”</p>
<p>这事总算消停了。随后又说了些话，博斯特威克太太大声质疑，伊迪丝在哪儿，居然躲了这么久。她用那高亢、尖细的声音叫着伊迪丝的名字，没过多会儿，伊迪丝就走进他们一直等候的那个房间。她也不看斯通纳。</p>
<p>霍勒斯·博斯特威克对她说，他和她的“年轻人”好好地谈了谈，还说他们祝福他。伊迪丝点点头。</p>
<p>“哦，”她母亲说，“我们得定些计划。春天举办婚礼。六月也行。”</p>
<p>“不行。”伊迪丝说。</p>
<p>“怎么了，亲爱的？”母亲和气地问。</p>
<p>“如果这样的话，”伊迪丝说，“我希望快点办完。”</p>
<p>“年轻人总是没耐心，”博斯特威克先生说，然后清了清喉咙，“不过，也许你妈妈说得对，亲爱的。得定定计划，还是需要些时间的。”</p>
<p>“不行。”伊迪丝说，她的语气中隐含着毅然决然的劲儿，弄得大家都看着她。“必须尽快。”</p>
<p>一阵沉默。接着父亲用令人意外的柔和口气说：“很好，亲爱的。按你说的来。你们年轻人自己定计划。”</p>
<p>伊迪丝点点头，咕哝着说自己还有个事儿得去做，然后又溜出屋子。斯通纳直到晚上吃饭的时候才再次见到她。晚饭由霍勒斯·博斯特威克在帝王般肃穆的氛围中主持进行。晚饭后，伊迪丝给大家弹钢琴，但弹得僵硬又糟糕，失误连连。她宣称感觉不舒服，然后就回自己的房间了。</p>
<p>那天晚上，威廉·斯通纳在客房里难以入眠。他仰望着那片黑暗，想着这种降临在自己生活中的陌生感，而且第一次开始质疑自己以后要做什么的智慧。他想到了伊迪丝，这才感觉有些踏实。他认为，所有的男人都会跟他一样忽然变得没有把握，会有同样的疑虑。</p>
<p>第二天早晨，他得搭一趟早班火车回哥伦比亚，这样吃过早饭后还有些微空余时间。他要先搭一辆有轨电车去车站，但博斯特威克先生坚持要让一个仆人驾着活顶四轮马车送他去。伊迪丝过几天会写信告诉他有关婚礼的安排。他谢过博斯特威克夫妇，跟他们道过别；他们陪着他和伊迪丝走到大门口。他差不多快要到大门口时，听到后面传来奔跑的脚步声。他转过身。是伊迪丝。她僵硬地站在那里，显得很高挑。她脸色苍白，直直地望着他。</p>
<p>“我会努力做个你的好妻子，威廉，”她说，“我会尽力。”</p>
<p>他想，这是到这儿后第一次有人喊他的名字。</p>
<p>由于种种原因，伊迪丝没有解释，她不想在圣路易斯举行婚礼，所以婚礼最后在哥伦比亚艾玛·达利的一间巨大的客厅里举办，他们就是在那个房间度过初次见面的几个小时的。那是二月的第一个星期，因为学期休假刚好取消了几节课之后。博斯特威克夫妇乘火车从圣路易斯赶来，威廉的父母还没见过伊迪丝，也从农场乘车，在星期六就是婚礼前一天下午到达。</p>
<p>斯通纳想把父母安排在一家旅馆，但是他们宁愿住在弗特夫妇家，虽然这两口子自从威廉脱离雇佣后态度已经变得冷淡和疏远。</p>
<p>“不知道在旅馆里该怎么办，”他父亲一本正经地说，“再说弗特两口子还能忍受我们住一个晚上。”</p>
<p>那天晚上，斯通纳租了辆两轮轻便马车把父母送到城里艾玛·达利的家里，这样他们就可以见见伊迪丝。</p>
<p>达利太太在门口迎到他们，她迅速又尴尬地瞥了眼威廉的父母，然后请到客厅里。斯通纳的父亲和母亲都小心翼翼地坐着，好像害怕穿着僵硬的新衣服活动似的。</p>
<p>“我不知道伊迪丝在忙什么，”过了会儿达利太太嘟嘟囔囔地说，“失陪了。”她走出房间去找外甥女。</p>
<p>过了很长时间伊迪丝才出来，她慢慢腾腾、很不情愿地走出客厅，带着点吓人的蔑视劲儿。</p>
<p>他们全站起来，片刻间四个人都难堪地站在那里，不知道说什么好。接着伊迪丝僵硬地走上前来，先向斯通纳的母亲，然后又向他的父亲伸出手。</p>
<p>“你好。”威廉的父亲一本正经地说，然后松开她的手，好像那双手会断了。</p>
<p>伊迪丝看了眼，试图笑一笑，接着又往回退开了。“坐吧，”她说，“请坐吧。”</p>
<p>两人又坐下了。斯通纳说了句什么话。他的声音听着好像在极力克制着。</p>
<p>在一阵沉默中，安静又奇妙地，仿佛是大声表达自己的想法，威廉的母亲说话了：“天哪，她可真是个漂亮东西，对吧？”</p>
<p>斯通纳大笑了下，接着轻声说：“没错，妈妈，她是挺漂亮。”</p>
<p>这时大家才能稍微轻松地说起话来，虽然彼此飞快地瞥几眼，接着又把目光移到房间更远的地方。伊迪丝轻声细语地说，很高兴见到他们，很抱歉没有早点见个面。</p>
<p>“等我们安顿下来——”她又打住不说了，斯通纳不知道她会不会接着往下说。“等我们安顿下来了，你们可一定要来看我们。”</p>
<p>“谢谢你的好意。”斯通纳的母亲说。</p>
<p>谈话继续进行着，但总是被长长的沉默打断。伊迪丝越来越紧张，越来越明显，有一两次都没有回应什么人问她的问题。斯通纳站起来，母亲紧张地打量着四周，也站了起来。但是父亲没有动。他直勾勾地凝视着伊迪丝，目光在她身上停留了很长时间。</p>
<p>他终于开口了：“斯通纳一直都是个好孩子。我很高兴他娶到一个好女人。男人本来就需要女人，帮他做些事，给他些安慰。看来你对威廉挺好的。他应该有个能对他好的人。”</p>
<p>伊迪丝的头有点像惊愕的条件反射般收了回去；她的眼睛睁得老大，斯通纳刹那间以为她生气了。其实她并没有生气。他父亲和伊迪丝互相对看了很长时间，他们的眼睛都没有退缩。</p>
<p>“我会尽力，斯通纳先生，”伊迪丝说，“我会尽力。”</p>
<p>这时他父亲才站起来，笨拙地鞠了个躬说：“天不早了。我们最好回去。”他跟妻子向门口走去，撇下伊迪丝和儿子在一块儿，妻子在他身旁显得毫无形状，黑乎乎的，小小的。</p>
<p>伊迪丝没有跟斯通纳说什么，可是等他转过身道晚安时，才看见她眼睛里泪水涌流。他俯身去吻伊迪丝，感觉她搭在自己胳臂上的纤细的手指有种脆生生的坚硬劲儿。</p>
<p>二月的午后，清冷的阳光斜穿过达利家门前的窗户，不时被在那间大客厅里活动的人影打碎。斯通纳的父母小心地独自站在房间的一个角落里。博斯特威克夫妇乘那次早班火车刚到一个小时，挨着他们站着，也不看他们。戈登·费奇庄重又焦急地走来走去，他好像负责管着点事儿；人不多，有些伊迪丝或者父母的朋友，斯通纳也不认识。他招呼着自己周围的人，感觉唇间带着笑意，听到各种声音传到自己这里，好像被厚厚的几层衣服消了音。</p>
<p>戈登·费奇就在他旁边，脸上汗渍渍的，那张脸在深色衣服上方闪闪发亮。他神经质地咧嘴笑着。“准备好了吗，比尔？”</p>
<p>斯通纳感觉他的头点了点。</p>
<p>费奇说：“这位万劫不复的男人还有什么最后的请求吗？”</p>
<p>斯通纳笑了笑，摇摇头。</p>
<p>费奇在他肩膀上拍了拍。“你紧跟着我就是了；我说什么你就做什么。一切都在控制中。伊迪丝再过几分钟就下楼了。”</p>
<p>他不知道等这事儿过了后还能不能记住此刻的情景；一切好像都是一团模糊，他似乎在透过一层薄雾看东西。他听到自己在问费奇：“那位牧师——我还没见着他呢。在吗？”</p>
<p>费奇笑着摇摇头，然后又说了点什么。这时一阵细语传到屋子这边来。伊迪丝正从楼梯上款款下来。</p>
<p>她身穿白色礼服，就像一道冰冷的光进了房间。斯通纳就要不由自主地朝她走去，感觉费奇的手放在他胳臂上，抑制住他别动。伊迪丝脸色苍白，但仍然对他微微一笑。接着她就站在斯通纳旁边，两个人一起走着。一个穿着圆领衣的陌生人站在他们面前；这个人又矮又胖，脸庞模模糊糊。他嘴里念念有词，看着手里的一本白色封皮书。斯通纳听到自己沉默以对。他感觉伊迪丝在身旁颤抖着。</p>
<p>接下来是一阵长时间的沉默，然后又是一阵咕哝声，大笑声。有人说：“亲新娘！”他感觉自己转过身；费奇冲他笑着。他俯身冲伊迪丝笑着，她的脸在他面前飘忽不定，他吻了伊迪丝，她的嘴唇跟自己的一样干燥。</p>
<p>斯通纳感觉自己的手被操纵得上下摆动着；人们在他脊背上拍着，笑着；屋子里人潮涌动。不断有新来的人走进门来。一只大雕花玻璃碗盛的潘趣酒似乎出现在客厅某个尽头的一张长桌子上。还有一盘蛋糕。有人把他和伊迪丝的手拉到一块儿；有一把刀子，他明白是要让他提着伊迪丝的手切蛋糕用的。</p>
<p>后来他跟伊迪丝分开了，在这堆人群中看不见她。斯通纳不停地说着话，微笑着，点着头，环顾屋子，看能不能找到伊迪丝。他看见父母亲站在原来那个角落，没有动地方。母亲笑着，父亲笨拙地把手搭在她的肩上。他开始朝他们走过去，但很难摆脱打招呼的人。</p>
<p>后来他终于看见伊迪丝了。她跟自己的父母亲和姨妈在一起，她父亲脸上有一点点不悦，正在扫视着整个屋子，好像对此很不耐烦；她母亲在啜泣着，眼睛红红的，厚重的颧骨上方肿得高高的，嘴巴像孩子般向下撅着。达利太太和伊迪丝在她身旁搂着；达利太太正急切地跟她说着话，好像在试图解释什么。可是即便在屋子对面，斯通纳仍然能看到伊迪丝沉默不语。她的脸庞像副面具，毫无表情，颜色雪白。过了会儿，他们领着博斯特威克从屋子里出来，斯通纳再没见过伊迪丝，直到宴会结束，直到戈登·费奇凑近耳朵给他悄声说了句什么，把他带到通往一个小花园的侧门，把他推了出去。伊迪丝在那里等候着，裹着衣服迎着冷气，她的衣领高得挡住了脸，所以他看不见。戈登·费奇大笑着说了几句话，斯通纳没听明白，然后推搡着他们来到一条通向大街的小路，一辆带顶篷的轻便马车等着要带上他们去火车站。直到上了带他们去圣路易斯度一个星期蜜月的火车时，威廉·斯通纳才意识到婚礼结束了，他有了一个妻子。</p>
<p>他们开始步入婚姻的纯真状态，不过是方式完全不同的纯真。两人都是处子，都意识到谁也没有经验，但是，一直在农场长大的斯通纳把生活的自然过程视为没什么大惊小怪的，而这些过程对伊迪丝来说却完全神秘和出乎意料。她对这些一无所知，内心有种东西不希望知道这些。</p>
<p>所以，像其他许多人那样，他们的蜜月很失败；但他们心里并不承认这点，直到很久以后才认识到这种失败的意味。</p>
<p>他们是星期天的深夜到圣路易斯的。在火车上，在好奇又赞赏地看着他们的陌生人的包围中，伊迪丝兴致勃勃，甚至很开心。他们经常爽朗地大笑，手握着手，谈论着即将到来的日子。有一次在城里，当斯通纳找了辆马车带他们去旅馆时，伊迪丝的开心都变成了隐隐约约的歇斯底里。</p>
<p>他几乎抱着她，大笑着，穿过使节旅馆的入口，这是一幢宏大气派的褐色石砌建筑。大堂里几乎没有什么人，漆黑、压抑得像个洞穴。他们进去后，穿过宽阔的地板向台桌走去时，伊迪丝忽然安静下来，心神不定地在他旁边晃着。他们住进自己的房间时，她几乎快要生病了，浑身发抖，好像发烧感冒了，在粉笔般皮肤的对比下，嘴唇简直变成了蓝色。威廉想给她找个医生，可伊迪丝坚持说只是太累了，需要休息，他们严肃地说起白天多辛苦，伊迪丝暗示性地提到反反复复困扰她的某些棘手隐情。她轻声细语地说着，但并不看斯通纳，而且语调也平淡无奇，说她希望他们第一次在一块儿的几个小时能完美无瑕。</p>
<p>斯通纳说：“会的——一定会的。你一定要好好休息。我们的婚姻将从明天开始。”</p>
<p>他像从别人那里听来的新婚丈夫那样，而且以牺牲他们自己的利益为代价，有那么一两次还开些玩笑，他在新婚之夜与妻子分开过的，长长的身躯僵硬地蜷曲着，在一张小沙发上彻夜未眠，两眼大睁着，望着夜晚渐渐流逝。</p>
<p>他老早就醒来了。他们的套房在第十层——是伊迪丝的父母安排并且付的钱，权当赠送的一件新婚礼物——从上面可以俯瞰全城风景。他轻轻地叫醒伊迪丝，几分钟后，她从卧室出来，系着睡裙的腰带，昏昏欲睡地打着哈欠，面带一丝微笑。斯通纳感觉对她的爱意紧紧卡在喉咙上。他伸手搂住她，两人在起居室的窗前站着，向下望去。汽车、行人、马车在下面狭窄的大街上爬行着，他们好像完全沉浸在自我中，超然地从人类狗苟蝇营的追逐中超脱出来。从这个距离望过去，可以看见那些红砖和石头的建筑，密西西比河在早晨的太阳中蜿蜒而过，河流呈蓝褐色。河船和驳船像玩具，僵硬的绑结上下溜着，可是上面的烟道放出大量灰蒙蒙的烟雾，排向冬天的空气中。镇定感从心中油然而生，他用胳臂搂着妻子，紧紧抓着她，两人同时俯视着一个似乎充满前程又有相当风险的世界。</p>
<p>他们老早就吃了早点。伊迪丝看上去焕然一新，已经完全从昨晚的不适中恢复过来；她差不多又欢乐开心了。她用一种亲密、温馨的眼神望着斯通纳，他觉得这种态度是因为感激和爱。他们没有说昨晚的事；伊迪丝时不时看眼崭新的戒指，偶尔在手指上调整一下。</p>
<p>他们全身裹得紧紧地迎着寒冷，走在圣路易斯的街上，这会儿人流刚刚开始拥挤起来；他们看着橱窗里的商品，谈论着未来，严肃地想着如何打发未来的日子。威廉开始重新恢复了最初跟这个女人求婚时找到的那种轻松和舒畅，如今这个女子已经成了他的妻子。伊迪丝挽着他的胳臂，好像要去干什么他说的而她以前从未做过的事情。他们在一家温暖的小店里喝了杯上午咖啡，看着行人匆匆穿过寒冷。他们找了辆马车，驶到美术馆。他们挽着胳臂，穿过那些高高的陈列室，穿过从那些画作上反射出来的绚丽的光彩。在寂静中，在温暖中，在这些古老的画作和雕塑中散发出来的没有时间概念的氛围中，斯通纳对这个高挑、优雅地走在自己身边的女孩爱意涌流，感觉一种无声的激情从内心升起，温暖又充满形式上的愉悦感，就像从四周的墙上散发出的缤纷色彩。</p>
<p>下午晚些时候，他们离开那里时，天空乌云密布，开始落下淅淅沥沥的雨。但是，斯通纳内心仍然保存着他在美术馆里积聚的那种温暖。日落后他们就很快回到旅馆，伊迪丝回卧室休息了，威廉朝楼下喊着让送一份夜餐到他们的房间。他忽然灵感一闪，亲自下楼到酒吧要了瓶加冰的香槟，要求一个小时内送上来。值班经理闷闷不乐地点点头，告诉他香槟不是太好。到7月1日，禁令将在全国执行，酿造或者提纯酒精已经是非法，旅馆地窖里任何种类的香槟都不超过五十瓶。他交的罚款会远比香槟的价值高。斯通纳笑着说，没关系。</p>
<p>虽然在父母的家里，在某些特殊的庆祝场合，伊迪丝喝过点葡萄酒，但从未品尝过香槟。吃晚饭的时候，菜就放在起居室的一张小方桌上，她紧张地看了眼放着冰块的那个奇怪的瓶子。两根白蜡在暗淡的铜托里，在黑暗的映衬中均匀地散发着光芒；斯通纳把其他灯光都熄灭了。他们说话的时候，两根蜡烛在两人中间闪烁摇曳着，光焰映照出那只光滑的黑瓶子，亮光照在围着瓶子的冰上。两个人都很开心，但又透着紧张和谨慎。</p>
<p>斯通纳并不熟练地拔出香槟瓶的塞子，伊迪丝听到响亮的嘭声后吓了一跳。白色泡沫从瓶颈里喷出来，弄湿了他的手。两人都因他的笨拙大笑起来。他们喝了杯葡萄酒，伊迪丝假装有些微醉。他们又喝了杯。斯通纳心想，他看出伊迪丝已经有一丝倦怠，某种沉静的表情浮现在脸上，一丝忧虑暗淡了她的眼睛。斯通纳站起来，走到她身后，站在小桌边她坐的地方。他把双手放在她的肩膀上，很惊讶自己的手指放在她细嫩的皮肉和骨头上时，感觉自己的手指那么厚实和沉重。在他的触摸下，伊迪丝浑身变得僵硬，他让双手轻轻地滑向她纤细的脖颈两侧，任由它们擦过漂亮的红头发。她的脖颈很僵硬，由于紧张筋骨颤动不已。他双手拉住伊迪丝的胳臂，轻轻地拎起来，这样她也跟着从椅子里站起。她把脸转向斯通纳。她的眼睛大大的，透着淡白色，在烛光中差不多像是透明的，茫然地看着斯通纳。他对伊迪丝有种远远的亲近感，对她的无助有些同情。欲望在他的喉咙中已经积聚得越来越厚，他都没法开口说话了。他轻轻地把伊迪丝朝卧室方向拉了下，感觉她的身体中迅速出现了某种强烈的抵抗倾向，同时又感觉到拿掉这种抵抗的企图。</p>
<p>斯通纳离开通向那间没有开灯的卧室敞开着的门，黑暗中烛光微弱地闪烁着。他轻声咕哝着，好像要安慰她，让她放心，但他的那些话语都被闷着，自己都听不清在说什么。他把双手放在她身上，摸索着将向自己亮出她肉体的纽扣。伊迪丝冷淡地推开他。在黑暗中，她闭着双眼，嘴唇紧紧抿着。她转身躲过斯通纳，动作迅速地松下礼服，全都堆在她的脚上。她的胳臂和肩膀都裸露出来。她全身颤栗不已，好像得了伤风感冒，然后平淡地说：“去别的房间吧。我一会儿就准备好了。”斯通纳抚摸着她的胳臂，把嘴唇按到她的肩膀上，但伊迪丝并没有转过来向着他。</p>
<p>在起居室里，斯通纳盯着那两根蜡烛，它们在他们吃过的残羹剩菜上方闪着微光，中间放着装香槟的瓶子，里面还剩一半多。他往杯子里倒了一小份儿葡萄酒，尝了口，酒已经变温、变甜了。</p>
<p>他再次回去时，伊迪丝已经坐在床上，把被单拉在下巴跟前，脸朝上仰起，眼睛闭着，额头上皱出一条纤细、暗示不悦的皱纹。她好像睡着了，斯通纳悄无声息地脱了衣服，钻到床上，挨在她的身边。躺下的那阵子，他欲火难挨，欲望现在已经变成某种没有感情色彩的东西，只属于他自己。他跟伊迪丝说着话，好像要为自己感觉到的某种东西寻找一个避风港。她并不应答。斯通纳把手放在她的手上，隔着薄薄的睡裙的布料抚摸着渴望已久的肉体。他的手在她身上游动着，她纹丝不动，眉头皱得更深了。斯通纳说话了，冲着寂静叫着她的名字，接着他把身子挪到伊迪丝身上，拙笨中又有温柔。当他抚摸她柔软的大腿时，她猛然别过头，抬起胳臂挡住自己的眼睛。她没有发出任何声音。</p>
<p>过后，斯通纳躺在她身边，怀着全身心的爱意跟她说着话。这时伊迪丝的眼睛睁开了，看着他出现在阴影中，她的脸上毫无表情。忽然，她扔掉身上的被子，迅速穿过屋子朝卫生间走去。斯通纳看见灯亮了，听到她在大声又痛苦地干呕着。他叫着伊迪丝的名字，从房间走过去，卫生间的门锁着。斯通纳又叫着她的名字，没有应答。他又回到床上，等着伊迪丝。沉默几分钟后，卫生间的灯灭了，门打开了。伊迪丝走出来，僵硬地朝床铺走来。</p>
<p>“都是香槟弄的，”她说，“我不该再喝第二杯。”</p>
<p>伊迪丝把被子拉过来，转身背对着他，没多久，她的呼吸开始正常，酣然入睡。</p>
<p>他们比原计划提前两天返回哥伦比亚。由于与外界隔绝，两个人既烦躁又压抑，好像一起在一座监狱里散步。伊迪丝说他们真的应该回哥伦比亚了，这样斯通纳就可以准备要上的课，她也可以开始着手让两人在新家安顿下来。斯通纳马上同意了——同时心里告诉自己，一旦待在属于自己的地方，生活在他们认识的人和熟悉的环境中，很多事情会更好办些。当天下午，他们就收拾好东西，夜里乘上去哥伦比亚的火车。</p>
<p>结婚前匆促、茫然的那几天，斯通纳在距离大学有五个街区远的地方，在一幢类似谷仓的老房子里找了间空置的二层的公寓。里面黑洞洞的，家徒四壁，带一间小卧室，一间小厨房，一间有着高高的窗户的宽敞的起居室。有段时间，一个艺术家，大学里的一个老师住在那儿，不是那种太爱干净的人。黑暗、宽木方镶嵌的地板上留下漂亮的黄色、蓝色和红色斑点污迹，墙壁被涂抹过，脏兮兮的。斯通纳感觉这个地方很浪漫，又够宽敞，断定是个开始新生活的好地方。</p>
<p>伊迪丝搬进这间公寓，好像这是个敌人，需要征服。虽然不习惯体力劳动，她还是亲自从地板和墙壁上刮掉大部分涂画，刮掉她想象无处不隐藏着的脏东西。她的双手已经长出水疱，脸庞变得有些扭曲，眼睛底下露出两个黑黑的小坑儿。如果斯通纳想帮帮，她会很倔强，嘴唇紧闭，摇摇头。他的研究工作需要时间，她说，这是她干的活儿。斯通纳强行要帮忙时，她几乎要恼怒起来，认为自己受到了侮辱。他既不解又无奈，索性不帮了，只好在伊迪丝继续笨手笨脚地刮擦闪亮的地板和墙壁时，自己站在边上郁闷地看着。她还要缝补窗帘，然后歪歪扭扭地挂在高高的窗户上，还要修补、涂刷、再涂刷他们开始积攒的旧家具。虽然开始时她默默不语干得十分卖力，等斯通纳下午从大学回到家里时，她已精疲力竭。她会强撑着准备晚饭，吃上几口，然后咕哝一声就消失在卧室去睡觉了，像个被麻醉过的人，睡到斯通纳第二天早上去上课才起来。</p>
<p>不出一个月，斯通纳就知道自己的婚姻失败了。不到一年，他已经不抱改善的希望。他学会了沉默，不再固执地去爱。如果他要跟伊迪丝说话，或者在温柔的冲动下想抚摸，她就躲开，沉溺在自己的内心里，变得沉默寡言，强忍着，然后会连续好几天强迫自己达到新的疲惫极限。出于两人都有而不曾明说的执着，他们还同睡一张床。有时，晚上睡着的时候，她会不知不觉地活动过来挨着他。然后，有时，他的决心和学问在自己的爱面前粉碎了，就爬到她身上。如果她从睡眠中被彻底弄醒了，就会很紧张，很僵硬，以某种熟悉的姿态朝两侧转着脑袋，把头埋在枕头里，强忍着侵犯。在这种时候，斯通纳就尽可能迅速地表演着自己的爱，痛恨自己的轻率，后悔自己的激情。伊迪丝经常因为睡觉的缘故处于半麻木状态；接着又变得消极被动起来，似睡非睡地咕哝着，他不知道是表示抗议还是吃惊。斯通纳开始渴望看到这种罕见和难以预测的时刻，因为在那种睡瘾般的静默中，他可以欺骗自己找到了某种回应。</p>
<p>斯通纳没法告诉伊迪丝，认为她不幸的根源在哪里。每当他尝试指出，她就把他说的那些话当成对她的不当和私心的回敬，就开始病态地疏远他，像做爱时表现出的态度那样。斯通纳责怪是自己的笨拙导致了这种疏远，对她的感受自己负有责任。</p>
<p>他以某种从绝望中酝酿出的安静、冷酷无情态度，试验过好多取悦她的小窍门。他经常给她买些礼物，她会冷淡地接受下来，有时漫不经心地聊一聊他们的开支；他带她去散步，到哥伦比亚周边树木葱郁的乡下去野餐，但她很快就厌倦了，有时还会生病；他会像求婚期间那样谈谈自己的工作，可是她的兴趣又慢慢变得敷衍和任性。</p>
<p>最后，虽然斯通纳知道她怕羞，还是尽可能温柔地坚持说他们要开始热情地招待朋友。他们搞了一个非正式的茶会，请了系里的几个年轻讲师和助理教授。还举办过几次小型晚餐聚会。伊迪丝没有流露出任何迹象，表明自己开心了还是不开心，但是她为这些活动做准备时如此疯狂和痴迷，等客人一到，却会因为劳累和疲惫而表现得近乎歇斯底里。不过，除了斯通纳，没人真正发觉这点。</p>
<p>伊迪丝是个不错的女主人。她神采飞扬、轻松自如地跟客人们说话聊天，弄得斯通纳觉得她好像成了个陌生人，而且客人在场的时候，她跟他讲话时的那股亲密和爱抚劲儿常常让他吃惊。她管他叫威利，这奇怪地让他很感动，有时还会把一只柔软的手搭在他的肩膀上。</p>
<p>可是等客人们走后，表面上的东西就自动倒塌了，而且崩溃显露无遗。她开始尖酸地议论刚刚走了的客人，想象着龌龊的侮辱和轻蔑；她会冷静和绝望地陈述自以为不可饶恕的失误；她安静地坐着，在客人留下的垃圾中沉思默想，而且不让斯通纳打搅，回答他的问话时既简短又心烦意乱，声音平板单调。</p>
<p>只有一次，这种表面的东西在客人还在场的时候就破裂了。</p>
<p>在斯通纳和伊迪丝婚后几个月，戈登·费奇追上一个女孩，是他在纽约驻扎时偶然遇到的，女孩的父母住在哥伦比亚。学校已经给费奇安排了个助理主任的永久职位，这也就不言自明，等乔赛亚·克莱蒙特死了后，费奇将成为学院主任职务的首先考虑人选。也许有些为时已晚，在费奇的新职位和宣布订婚的庆祝会上，斯通纳请他和未婚妻来吃晚饭。</p>
<p>五月末一个温暖的晚上，天快黑时他们来了，开着一辆银光闪闪、崭新的黑色旅游车，当费奇娴熟地开着车在斯通纳住的楼前刹住时放出一连串爆破声。他按着喇叭，欢快地挥着手，直到斯通纳和伊迪丝下楼来。他身边坐着一个面带微笑的圆脸黑皮肤女孩。</p>
<p>他介绍女孩叫卡罗琳·温盖特，费奇把她从车里扶下来的工夫，他们四个说了会儿话。</p>
<p>“喂，你们觉得这车怎么样？”费奇问道，捏着拳头在小车的前防护板上敲击着，“美吧？是卡罗琳父亲的。我考虑弄一辆跟这一模一样的，这样……”他的声音忽然消失了，眼睛眯缝起来。他对待这辆车的态度显得深思熟虑又挺冷静，好像它就是未来。</p>
<p>接着费奇又变得活泼和兴高采烈起来。带着自嘲的保密劲儿，把食指放在嘴唇上，偷偷地四处看了看，然后从小车前座拿出一只挺大的牛皮纸袋。“私酒，”他悄声说，“刚从船上弄下来。掩护我，伙计；我们可以把它弄到屋里去。”</p>
<p>晚餐进行得很顺利。费奇要比斯通纳前几年看到的样子更和蔼。斯通纳想起自己和费奇、戴夫·马斯特思下课后坐在一起喝酒聊天的那些遥远的下午。未婚妻卡罗琳很少说话，每当费奇开玩笑、挤眉弄眼时就开心地笑起来。斯通纳几乎如同遭到了嫉妒的一击般意识到费奇真心实意喜欢这位漂亮的黑皮肤女孩，而她的沉默不语就是对费奇的深情爱恋。</p>
<p>连伊迪丝的劳累和紧张都舒解了不少。她笑得很轻松，笑声听上去也自然而然。在某种程度上费奇跟伊迪丝嬉笑欢语、熟络得很，斯通纳想，他作为丈夫都办不到，伊迪丝好像比前几个月快乐了不少。</p>
<p>晚饭后，费奇从冰箱里取出牛皮纸袋，他老早把酒放在冰箱里冰着，从里面取出好多深褐色的瓶子。这是家酿的，在他那间单身公寓的密室里，在极其秘密和庄重的氛围中酿造的。</p>
<p>“都没空间放衣服了，”他说，“可是一个男人得保持自己的价值感。”</p>
<p>他细眯着眼睛，漂亮的皮肤和薄薄的金发上油彩闪亮，像个药剂师称量某种罕见物质般，把啤酒从瓶里倒进杯子。</p>
<p>“弄这东西得小心点，”他说，“会在瓶底留下很多沉淀，如果倒得太快了，会把沉淀带进杯子。”</p>
<p>大家每人喝了一杯啤酒，都赞美着费奇调的味道。而且真是惊人地好，纯正，清亮，颜色好。连伊迪丝都喝完一杯后又要了一杯。</p>
<p>几个人开始有些微醉，他们茫然又敏感地笑着，现在他们看彼此都像换了个人。</p>
<p>斯通纳朝灯的方向高高地举着杯子说：“我想戴夫大概也会很喜欢这种啤酒。”</p>
<p>“戴夫？”不解地问。</p>
<p>“戴夫·马斯特思。还记得他以前多馋啤酒吧？”</p>
<p>“戴夫·马斯特思，”费奇说，“挺好的老戴夫。真是太遗憾了。”</p>
<p>“马斯特思。”伊迪丝说。她不明就里地笑着。“不是你们那位战死的朋友吗？”</p>
<p>“是的，”斯通纳说，“就是那位。”昔日的悲伤油然而生，可他依然冲伊迪丝笑着。</p>
<p>“挺好的老戴夫，”费奇说，“伊迪丝，你丈夫和我、戴夫几个经常真的是促膝交谈。——当然早在认识你之前。挺好的老戴夫……”</p>
<p>他们在回忆戴夫·马斯特思时都面带微笑。</p>
<p>“他是你们的一个好朋友吗？”伊迪丝问道。</p>
<p>斯通纳点点头。“他是个好朋友。”</p>
<p>“蒂耶里堡。”费奇喝光了杯中酒。“战争是地狱啊。”他摇了摇头。“可是老戴夫，他没准在什么地方正嘲笑着我们呢。他不会觉得自己有多可怜。我怀疑，他是不是真的看到法国的什么东西了？”</p>
<p>“我不知道，”斯通纳说，“他刚到那儿不久就牺牲了。”</p>
<p>“如果他没看到什么，那真是太遗憾了。我总觉得那是他参军的一个重要原因。去看看欧洲的一些地方。”</p>
<p>“欧洲。”伊迪丝清清楚楚地说。</p>
<p>“是的，”费奇说，“老戴夫想要的东西不多，但是就想在死前看看欧洲。”</p>
<p>“我想去一次欧洲。”伊迪丝说。她微笑着，眼睛里闪着无助的光。“你还记得吗，威利？我想跟姨妈去，就在我们结婚前。你还记得吗？”</p>
<p>“我记得。”斯通纳说。</p>
<p>伊迪丝尖声大笑着，摇了摇头，似乎很不理解。“好像都是很久以前的事了，其实并没有那么久。有多久了，威利？”</p>
<p>“伊迪丝——”斯通纳说。</p>
<p>“我来算算，我们想四月去。然后过了一年。现在是五月。我真该……”忽然她的眼睛噙满泪水，但仍然微笑着，保持着一种不变的明快。“我现在再也去不了那里了，我想。姨妈快要死了，我永远没有机会去……”</p>
<p>这时她的嘴唇上还紧紧挂着那丝笑意，眼里泪如泉涌，她开始抽泣。斯通纳和费奇从椅子里站起来。</p>
<p>“伊迪丝。”斯通纳无奈地说。</p>
<p>“哦，让我一个人待着！”她做了一个奇怪的扭曲的动作，在他们面前笔直地站起来，眼睛紧闭着，双手在身体两侧紧抓着。“你们都走开！让我一个人待着！”她转身踉踉跄跄地走进客厅，在身后摔上门。</p>
<p>一时无人说话了。大家听着伊迪丝在闷声闷气地抽泣着。接着斯通纳说：“请你们原谅她。她有些累，身体不太好。压力——”</p>
<p>“当然，我知道是怎么回事，比尔。”费奇空洞地大笑着。“女人全都这样。想想我也会很快习惯的。”他看了眼卡罗琳，又大笑起来，尽量把声音压低。“好了，我们这就不打扰伊迪丝了。你替我们谢谢她，告诉她饭菜精美可口，等我们安顿进去了，你们可要上我们家来。”</p>
<p>“多谢，戈登，”斯通纳说，“我会跟她说。”</p>
<p>“别担心。”费奇说。他捣了下斯通纳的胳臂。“这种事情常发生。”</p>
<p>戈登和卡罗琳走了后，等听到那辆新车咆哮着冲进黑夜后，斯通纳站在起居室的中间，听着伊迪丝干巴巴又很有规律的抽泣声。这声音听上去好不平板，毫不动情，持续了很久，好像不会停止了。他想去安慰，想去安抚她，但不知道说什么好，只好那么站着，听着。过了会儿，他才意识到以前从来没有听到伊迪丝哭泣过。</p>
<p>那次跟戈登·费奇和卡罗琳·温盖特有些别扭的聚会过后，伊迪丝好像差不多心满意足了，他们比婚后任何时候都要镇定平静。但是，她又不想让任何人到家里来，到公寓外面去都显得很不情愿。斯通纳按照伊迪丝写的单子负责购买他们的大多数东西，这份单子是她用一种奇怪、费劲、像孩子般的笔迹写在小块蓝色便笺纸上的。只要是一个人的时候，她似乎就格外开心。她会坐上几个小时做针线活儿或者绣桌布、围裙之类的，嘴唇上挂着一丝冷淡的微笑。她的姨妈达利开始经常来看她。斯通纳从大学回来后，总是看到她们两个在一起，喝着茶，用一种低得也许是咕哝的声调说着话。两人总是客客气气地跟他打招呼，可斯通纳看得出来，她们很不愿意看到他，他到了后达利太太很少再多待几分钟。他学会了对伊迪丝开始要生活其中的那个世界保持着某种不贸然闯入和小心翼翼的尊重。</p>
<p>1920年的夏天，斯通纳在父母家待了一个星期，其间伊迪丝去圣路易斯拜访了几个亲戚。自从婚礼后斯通纳就没见过父亲和母亲了。</p>
<p>他在田里帮父亲和那个雇来的黑人帮手干了一两天活儿，可是脚下那温暖湿润的泥土和鼻孔里闻到的新翻泥地味道已经难以在他心中唤起过去或者熟悉的感觉。他回到哥伦比亚，夏天剩余的时间全都用来准备下学年要教的新课。一天的大部分时间他都是在图书馆度过，有时很晚才回到伊迪丝身边和家里，穿过忍冬花浓重的香气，那活跃在温暖的空气中和茱萸树柔嫩的叶子间的香气，在黑暗中茱萸像鬼一般沙沙作响，摇曳不已。他的眼睛因为长时间盯着昏暗的书本有些发疼，头脑被看到的东西弄得昏昏沉沉，手指因为还留着陈旧的皮革、封面和纸张的感觉隐隐约约有些刺痛。但是他仍然向这个世界，这个他很快漫步穿过的世界，敞开心扉，并且从中寻找些微欢乐。</p>
<p>系里召开的会上，偶尔会出现几张新的面孔。有时某些熟悉的面孔又不在了。阿切尔·斯隆继续在缓慢地衰老着，斯通纳在战争期间就开始注意到这点了。他的双手抖个不停，总是没法把注意力集中在自己说的内容上。英文系凭着自身的传统聚积起来的能量及其在那儿存在着这个单纯的事实继续运行着。</p>
<p>斯通纳以某种令系里新来的老师敬畏的强度和坚韧不拔的态度投入到自己的教学工作，这在认识他一段时间的同事中引起了小小的关切。他脸庞越来越憔悴，又瘦了不少，肩膀驼得更厉害。那年的第二学期，他获得一个多教课额外加薪的机会，他接受了。同时，为了获得额外的报酬，那年，他还在新成立的暑期学校兼课。他有个模模糊糊的念头，想攒足钱出国去看看，这样就可以让伊迪丝看看因为自己而放弃的欧洲。</p>
<p>1921年夏天，在寻找一首他已经忘记的拉丁诗的参考资料时，他看了一眼三年前提交后再没看过的申请学位的论文。他通读了一遍，认定这篇论文站得住脚。他考虑把它改造成一本书，同时对自己的冒昧有些害怕。虽然又在教整个夏季学期的课程，他又重读了许多以前用过的众多文献，而且开始扩充研究范围。一月底的时候，他已经想好，做成一本书是有可能的。到初春的时候，他已经有充分的把握写出最初的试探的若干页。</p>
<p>同年春天，伊迪丝平静又几乎无动于衷地告诉斯通纳，她决定要个孩子。</p>
<p>这个决定来得很突然，而且没有明显的来由，所以，一天早晨吃饭时她宣布了后，离斯通纳必须离家去上第一节课只有几分钟的时间，她宣布时几乎有些惊讶，好像做出了一项发现。</p>
<p>“什么？”斯通纳问道，“你说什么？”</p>
<p>“我想要个小孩，”伊迪丝说，“我想怀个孩子。”</p>
<p>她轻轻咬着一块面包，然后用围裙的一角擦了下嘴唇，定定地微笑着。</p>
<p>“你难道不觉得我们应该有一个孩子吗？”她问道，“我们结婚都快三年了。”</p>
<p>“当然应该。”斯通纳说。他极其小心地把自己的杯子放在托盘里。他没有看伊迪丝。“你想好了？我们从没说过这事儿。我不想让你——”</p>
<p>“噢，好了，”她说，“我想得很好了。我想我们应该有个孩子。”</p>
<p>斯通纳看了眼手表：“我要迟到了。我希望我们有更多的时间谈谈这事。我要你想清楚了。”</p>
<p>伊迪丝眼睛间出现了一个小小的皱眉动作。“我告诉你我想清楚了。你不想要吗？你干吗老问我？我不想再多谈这事了。”</p>
<p>“好吧。”斯通纳说。他坐在那里看了看伊迪丝。“我得走了。”可他并没有动身，接着很不自然地把手放在伊迪丝搁在桌布上的长长的手指上，按了会儿，直到伊迪丝把手抽回去。他从桌边站起来，从伊迪丝身边绕过去，几乎有些羞怯，然后收拾起自己的书和纸。伊迪丝跟往常一样，走进起居室，等着他走。他吻了下她的面颊——这种事儿已经有段时间没干了。</p>
<p>到门口时他又转过身说，“我——我很高兴你要个孩子，伊迪丝。我知道，在某些方面，我们的婚姻，对你来说是个遗憾。我希望咱们能把这当回事。”</p>
<p>“是的，”伊迪丝说，“你上课要迟到了。最好快点。”</p>
<p>他走了后，有那么几分钟伊迪丝还站在屋子中间，盯着已经关上的门，仿佛在努力回想什么，接着又焦躁不安地走过地板，从这个地方走到另一个地方，在衣服里拧着身子，好像无法容忍它贴着肉体发出的沙沙声和不断地活动。她解开硬巴巴的灰色塔夫绸晨袍，让它掉落在地板上。她双臂从乳房上交错过去，抱住自己，隔着薄薄的法兰绒睡衣揉捏着上臂的肉。接着她再次中断这一动作，很有目标地走进那间小卧室，打开一个柜子的门，里面挂着一面全身镜。她把镜子调整好对着光线，然后站在前面，仔细审视着镜子里照出的穿着笔直的蓝色睡袍的细长身材。她的目光没有从镜子上移开，开始解睡裙上端的纽扣，然后从身子上面拉出去，越过头顶，就这样赤身裸体地站在晨光中。她把睡衣叠好扔进柜子里，接着又在镜子前面转着身子，检查着自己的身体，好像这身子属于别人。她双手掠过小小的下垂的乳房，让双手轻轻地顺着长长的腰部落下去，落在平坦的腹部。</p>
<p>离开镜子，走到还没有收拾的床边。她一把拉过被子，漫不经心地叠好，放进柜子里。她抚平床单，然后躺了上去，双腿伸直，胳臂搁在身边。她眼睛一眨不眨，一动不动地向上盯着天花板，整个早晨和漫长的下午，都在这样等待着。</p>
<p>那天晚上，斯通纳回家时天差不多已经黑了，但是二楼窗户里没有亮着灯。隐隐约约有些担忧，他赶紧上了楼梯，迅速打开起居室的灯。房间空空的。他喊了声：“伊迪丝？”</p>
<p>没有应答。他又喊了声。</p>
<p>他去厨房里看了看，吃过早餐的碟子还在那张小桌上。他迅速穿过起居室打开卧室的门。</p>
<p>伊迪丝赤裸裸地躺在光秃秃的床上。门打开时，起居室的光落在她身上，她把头转向斯通纳，但并没有起来。她的眼睛睁得大大的，就那么盯着，张开的嘴里传出微弱的声音。</p>
<p>“伊迪丝！”斯通纳叫了声，然后走到她躺的地方，在她身边跪下来。“你没事吧？怎么回事？”</p>
<p>她没有回答，但弄出的声音越来越大，身体在他旁边活动着。忽然，她的双手像爪子般伸过来，他几乎跳着躲开了！但是这双手只是伸向他的衣服，紧紧抓住，开始撕起来，把他拉到自己旁边的床上。她的嘴向他贴过来，大张着，热得发烫；她的双手在他全身抚摸着，拽着他的衣服，探索着他；自始至终，她的眼睛都睁着，盯着，毫不厌烦，好像这双眼睛是别人的，而且什么都没有看。</p>
<p>这次他对伊迪丝有了一种全新的认识，这种情欲就像饥饿感，如此强烈，好像与她的自我没关系，还没有开始就很快获得满足，然后又迅速滋生出来，就这样两个人都生活在对欲望出现的紧张期待中。</p>
<p>虽然接下来的两个月是斯通纳和伊迪丝在一起来仅有的充满激情的一段时间，但他们的关系其实并没有改变。很快斯通纳就意识到，把他们的肉体拉到一起的那股力量跟爱没有多大关系。他们交合时那种决心既凶猛又超然，被扯开，然后又交合，并没有那种满足他们需求的力量。</p>
<p>有时，白天，斯通纳在大学里，那种需求来得如此强烈，伊迪丝都无法继续保持身心的安宁。她会离开公寓，在街上快速地走来走去，毫无目标地从这个地方走到另一个地方。然后，又回到家里，把窗帘拉下来，自己脱光衣服，蹲在半明半暗的光线中，等着斯通纳回家。他一打开门，她就贴上来，双手疯狂，贪得无厌，好像这双手有自己的生命，把他拉到卧室，爬上昨晚或者早晨使用过后仍然凌乱的床。</p>
<p>六月的时候，伊迪丝就有了身孕，然后又迅速堕入跟她全天等待的那段时间里一样的、没有完全恢复的病态中。几乎就在她怀上的刹那，甚至在按照她推算以及医生确认这个事实之前，那两个多月的大部分时间在她内心咆哮的对斯通纳的饥渴就已经停止了。她清楚地向丈夫表明，无法忍受他的手在自己身体上的抚摸，开始变得好像连他看看都成为某种冒犯。他们焦渴的激情变成一种回忆，最后斯通纳看它就好像一场梦，与两个人都毫无关系。</p>
<p>于是，那张曾经笼罩着他们激情光环的床成了她疾病的支撑。白天的大部分时间，她都赖在床上，只是早晨起来缓解一下恶心，然后下午又晃晃悠悠地在起居室走上几分钟。下午和晚上，从大学下班匆匆赶回家后，斯通纳负责扫房间，洗碗碟，做晚饭。他把伊迪丝的晚饭放在盘子里端过去。虽然不愿跟他一起吃饭，伊迪丝好像很高兴晚饭后跟他一起喝杯淡茶。然后，晚上，两个人安静地随便聊一会儿，像老朋友或者精疲力竭的对手那样。随后，伊迪丝很快就睡了。斯通纳回到厨房，把家务做完，然后在起居室的沙发前支起一张桌子，在那里批改作业或者备课。接着，午夜过后，他给自己裹一条整整齐齐放在沙发后面的毯子，然后全身蜷曲在沙发上，时断时续地睡到早晨。</p>
<p>1923年三月中旬，经历了为期三天的辛苦后，那个孩子，一个女孩，出生了。他们给孩子取了个名字叫格蕾斯，是照伊迪丝多年前已经去世的一个姨妈的名字取的。</p>
<p>格蕾斯甚至在出生的时候就是个漂亮的孩子，五官分明，头上长着一层淡淡的金色绒毛。几天之内，皮肤最初的红晕就转变成耀眼的金红色。她很少哭，似乎对周围的环境有着清醒的意识。斯通纳立刻就喜欢上她了，他那无法向伊迪丝流露的感情可以向女儿流露，他从对孩子的关爱中找到了意想不到的乐趣。</p>
<p>格蕾斯出生将近一年后，伊迪丝还差不多卧床不起，她担心自己会终身残疾，尽管大夫没有发现任何具体的毛病。斯通纳雇了一个女人来，早上那段时间照顾伊迪丝，同时还重新调整了自己的课程以便下午能早点回家。</p>
<p>因此，差不多一年时间里，斯通纳负责收拾屋子，照顾两个无助的人。他天不亮就起来，批改作业，备课，去大学前先喂饱格蕾斯，给自己和伊迪丝准备早餐，然后给自己做好午餐，然后放在包里去了学校。上完课后又回到公寓，扫地、除尘、清洁。</p>
<p>对自己的女儿，他更像一个母亲而不是父亲。他要换洗孩子的尿布，要给她挑选衣服，破了后还要缝补，给她喂吃的，给她洗澡，在她烦躁的时候抱起来晃悠。伊迪丝又不时吵吵嚷嚷地叫孩子，斯通纳就把孩子抱给她，这时伊迪丝从床上支起身，抱她一会儿，无言无语又很不自在，好像孩子是别的什么陌生人的。很快她就厌倦了，叹口气把孩子递给斯通纳。受到什么说不清的情绪影响，她又哭泣一会儿，轻轻地抹抹眼睛，又转身背过斯通纳。</p>
<p>所以，在出生的第一年，格蕾斯·斯通纳只认父亲的触摸，以及他的声音和疼爱。</p>
<p>1924年初夏，某个星期五的下午，几个学生看到阿切尔·斯隆进了自己的办公室。不久，星期一天亮后，在杰西楼里逐个给办公室倾倒垃圾桶的管理员发现了他。斯隆僵硬地歪坐在桌前的椅子里，脑袋保持着一种奇怪的角度，眼睛大睁着，定定地可怕地凝视着。管理员喊了喊他，然后大叫着从空空荡荡的楼里跑出去。从办公室里搬移尸体的过程稍微延迟了些时间，当那个奇怪地弓起来，盖着被单的身躯被搬出来放在一副担架上，走下楼梯朝等候的救护车送去时，几个早年的学生在走廊里来来回回地走动着。随后确认，斯隆是在星期五晚些时候或者星期六早晨死的，因几种明显自然又从未确诊的原因，整个周末都在桌前无休止地盯着自己的前方。验尸官宣布死因是心脏休克，但威廉·斯通纳总觉得，在愤怒和绝望的时刻，斯隆倒希望自己的心脏停止跳动，好像以最后的沉默的姿态来表达对这个深深地背叛了他的世界的爱与蔑视，他简直难以忍受在这个世界中生活。</p>
<p>斯通纳是葬礼上的抬棺人。在葬礼上，他的头脑总是难以集中在牧师的话上，但他知道这些话都很空洞。他想起自己第一次看到斯隆在教室的样子；他想起两人第一次在一起的谈话；他想起这个人，这个遥远的朋友的慢慢衰老。仪式结束后过了些时候，当他提起那个灰色的棺材的把手，帮着把它放进灵柩中，他抬的东西似乎如此之轻，简直难以置信，这个窄窄的盒子里装着什么东西。</p>
<p>斯隆没有家人，只有一些他的同事和城里的人围聚在那个狭窄的坑地周围，庄严、尴尬、心怀敬重地听着牧师的祷词。因为没有家人或者爱着的人哀悼他的逝去，当棺材放下去时，只有斯通纳在哭泣，好像那种哭泣能够减弱这最后沉降时的孤独。是为自己，为他已经沉入土地的过去和年轻时代而哭泣，或者为这个可怜单薄的身体，这个曾经支撑着他热爱过的人的身体而哭泣，他并不知道。</p>
<p>戈登·费奇开车送他回到城里，路上大多数时候，他们谁都不说话。快到城里的时候，戈登问起伊迪丝，斯通纳说了些话，然后又询问了下卡罗琳的情况。戈登答完后接着又是一阵长时间的沉默。他们快到斯通纳的公寓时，戈登·费奇又讲话了。</p>
<p>“我不知道为什么，整个葬礼期间，我都在想着戴夫·马斯特思。想着戴夫死在法国的情景，想着老斯隆在他的桌边坐着，已经死了两天的样子。好像他们的死法是一样的。我对斯隆不是很了解，但我想他是个好人，至少我听说他过去是这样。现在我们要招别的人进来，得找个新的系主任。这就像一切不断地循环轮替，然后不断向前发展。这事让人感到很奇妙。”</p>
<p>“是啊。”斯通纳说，然后没有继续深谈。但刹那间他非常喜欢戈登·费奇，他从小车里出来，看着戈登开着车远去时，感觉清醒地认识到，自己的另一部分，自己的另一部过去，正缓缓地，几乎是无法察觉地离开了他，没入黑暗。</p>
<p>除了要干助理主任的许多工作，戈登·费奇还被委以英文系临时主任的职务，找一个阿切尔·斯隆的替手成为他的当务之急。</p>
<p>七月的时候，这件事情还没有着落。后来，费奇召集夏天时仍然留在哥伦比亚的系里的工作人员宣布了这个替代人选。费奇告诉大家，主任将是19世纪专家，霍利斯·N.劳曼克思，最近刚从哈佛大学获得博士学位，但是他已经在本州一所小型大学纽约自由艺术学院教过几年书。他过来时获得很多极高的推荐评价，已经开始出版著作，受雇时将是助理教授级别。费奇强调说，目前还没有有关系主任的规划，他仍然是临时系主任，至少再担任一年。</p>
<p>夏天还没结束的那段时间，劳曼克思仍然是那些终身教职工心中的神秘人物和猜测对象。他在杂志上发表的文章被挖掘出来，阅读传诵，获得不少审慎的首肯。在新生周期间，劳曼克思并没有现身，在星期一学生报名前的星期五召开的全体教工会上也没有出现。报名时，系里的老师都呈一条线坐在一长条桌子后面，辛苦地帮助学生选课，协助他们填表时注意那些必填项目，都私下里打量着寻找一张新面孔。劳曼克思仍然没有露面。</p>
<p>直到星期二下午的系务会上才见到他，那已经是报名注册工作全部结束后。到那时，前两天单调枯燥的工作，加上新学年开始时的兴奋导致的紧张，英文系的教工们差不多已经忘了劳曼克思的事儿。他们在杰西楼东翼一间大讲堂带桌面的椅子里懒散地伸开四肢坐着，同时怀着轻蔑但又渴望的期待，向上望着讲台，戈登·费奇站在那里，带着宽厚、仁慈的神情扫视着大家。一种低低的嗡嗡声充斥整个房间，椅子在地板上刮擦着，不时有人故意粗哑地放声大笑。戈登·费奇抬起右手，举着手掌对着观众示意；嗡嗡声小了些。</p>
<p>安静下来的片刻正好让房间的每个人听到礼堂后门吱呀地打开了，听到一声清晰、缓慢、拖沓的脚步从光秃秃的木地板上走来。大家都转过头，说话的嗡嗡声完全消失。有人轻声说，“是劳曼克思。”这声音尖刻响亮地划过房间。</p>
<p>他从门里穿过来，然后又关上，朝前走了几步，在门槛不远处坐了下来。他身高差不多超过五英尺，体形有些怪异地扭曲。左侧肩膀隆起一小块包，直到脖子跟前，左臂在体侧松弛地垂着。他的上半身很粗重，而且有些弯曲，所以，看上去他好像在顽强地维持着某种平衡。他双腿细瘦，走路时僵硬的右腿总是抽搐地拉一下。有那么一会儿，他站着，垂下长着金发的脑袋，好像要查看擦得极其锃亮的黑皮鞋和褶缝清晰的黑裤子。接着他又抬起头，右臂向外猛然伸出去，露出一段浆洗过的白色袖口，上面带着金边。他的长长的苍白的手指上还夹着一根烟。他深深地抽了口烟，吸进去，然后又吐出一长溜细细的烟雾。这时大家才看清他的脸。</p>
<p>这是一张像万人迷的脸，又长又瘦，不停地摆动着，然而五官极为分明；他的额头又高又窄，布满粗壮的筋脉，长着一头厚厚的波浪式的头发，颜色像成熟的小麦，从额头向后铺过去，有点像戏里的大背头。他把烟扔到地板上，在鞋底下踩了下，然后开始讲话了。</p>
<p>“我是劳曼克思。”他停顿了下，声音既华丽又深沉，咬词清晰准确，还带点戏剧性的宏亮。“我希望没有打搅大家开会。”</p>
<p>会议继续进行，但没有人关注戈登·费奇讲的什么。劳曼克思一个人坐在房间的后面，吸着烟，望着高高的天花板，明显不在乎不时转过来看他的人头。会开完后，他仍然坐在椅子里，让同事们走到他跟前自我介绍，说些不得不说的话。他逐一简短地跟每个人打一下招呼，带着一种奇怪的嘲讽般的彬彬有礼劲儿。</p>
<p>随后的几个星期，情况已经很明朗，劳曼克思并不想迁就自己去适应密苏里哥伦比亚的社会、文化、学术规矩。虽然他对同事的态度和气中略带嘲讽，自然既不接受也不排斥任何社交邀请。他甚至也不参加克莱蒙特院长每年一度的家庭露天聚会，尽管这项活动早已成为传统，出席几乎成为某种义务。在大学的音乐会或者讲座上也看不见他的人影。据说他的课讲得非常生动，还说他在教室里的举止荒诞不经。他是一个颇受欢迎的老师，休息时间，学生们都围在他的讲桌周围，在大楼里都跟在他后面。据说，他偶尔会邀请几拨学生到自己的房间，以谈话和弦乐四重奏的唱片招待大家。</p>
<p>威廉·斯通纳挺想多了解他，可是不知如何着手。他有什么想要说时就去找他讲，邀请他吃晚饭。当劳曼克思像对其他任何人一样回答他——讽刺性的礼貌和不带主观色彩——当他拒绝吃晚饭的邀请时，斯通纳就想不出还有什么方法可施。</p>
<p>过了些时间，斯通纳才找到了霍利斯·劳曼克思吸引他的根源。从劳曼克思的狂妄，不拘一格，开心的尖酸劲中，斯通纳看到，虽然经过变形，但仍然辨认得出，其中有他朋友戴夫·马斯特思的影子。他希望像跟戴夫那样跟劳曼克思聊天，可是做不到，即便他内心对自己承认了这个愿望。青年时代的青涩还没有从他身上消退，但是可能缔结这份友谊的渴望和直率已经不在。他知道，自己希望的东西不可能实现，这样的认识让他心里很难过。</p>
<p>晚上的时候，清理完家，洗好晚餐的碗碟，把格蕾斯放进支在起居室角落一个摇篮的床上时，斯通纳又开始修改自己的那本书。到年底时，那本书终于写完，虽然自己还不是完全满意，他还是寄给一家出版社。让他惊讶的是，这本学术研究著作被接受了，而且计划1925年秋季出版。凭借这本尚未出版的书作助力，他升为助理教授，并被授予终身教职待遇。</p>
<p>他的升职确认书是在那本书被接受后几个星期到的，因为有了这份确认书，伊迪丝宣布她和孩子到圣路易斯住上一周，看看自己的父母。</p>
<p>还不到一星期，伊迪丝就又回到哥伦比亚，依然苦恼、疲倦，但流露出某种镇定的得意感。她缩短了逗留的时间，是因为母亲照料一个婴儿太辛苦了，而且行程又让她累极了，根本就没法自己照顾格蕾斯。不过，她还是有些收获。她从包里抽出一叠纸，把一张小纸条交给斯通纳。</p>
<p>这是一张六千美元的支票，是给威廉·斯通纳先生和夫人开的，用狂放、几乎认不清楚的霍勒斯·博斯特威克的手书签的名。“这是什么？”斯通纳问。</p>
<p>她又把另外几张纸递给斯通纳。“是一笔贷款，”她说，“你全都得签名。我已经签过了。”</p>
<p>“这可是六千美元啊！干什么用？”</p>
<p>“买一幢房子，”伊迪丝说，“一幢真正属于我们自己的房子。”</p>
<p>威廉·斯通纳又看了看那些纸片，迅速翻看了一遍说：“伊迪丝，我们不能这样。真抱歉，可是你瞧，明年我才赚一千六百美元。偿还这笔债每月支出超过六十美元——这差不多是我工资的一半。而且还有扣税、保险和——我真不知道我们怎么偿还。你真该跟我商量下才对。”</p>
<p>伊迪丝的表情开始悲伤起来，她转身离开斯通纳。“我本来想让你惊喜一下。我可做的事情这么少。我能还得起。”</p>
<p>斯通纳争辩说，他很感激，可是伊迪丝仍然难以释怀。</p>
<p>“我是为你和孩子着想，”她说，“你可以好好做研究，格蕾斯还能有个院子在里面玩。”</p>
<p>“我知道，”斯通纳说，“也许过几年就能行。”</p>
<p>“过几年。”伊迪丝又重复了一遍这话。一阵沉默。接着她又闷声闷气地说：“我没法过这种生活了。一点都受不了了。住在一套公寓里。不管我在哪儿都能听到你的声音，听到孩子的声音，而且——还有那气味。我——受——不了——那——气味！一天又一天，那尿布的气味，还有——我受不了，我又躲不掉那气味。你难道不知道吗？你难道不知道吗？”</p>
<p>最后，他们接受了那笔钱。斯通纳心想，自己得重新捡起教暑期课的活儿了，而他本来计划要用暑期时间进行研究和写点东西的，至少得教上好几年。</p>
<p>伊迪丝自己承担起责任，去找房子。整个春末和初夏，她都在毫不疲倦地寻找着，这似乎对她的疾病产生了某种直接的疗效。只要斯通纳上完课回家，她就出去，经常到黄昏才回来。她有时步行，有时跟卡罗琳·费奇开着车兜圈子。她跟卡罗琳已经诚心实意地相好了。六月末，她终于找到想要的房子了，她签了份购买契约，同意八月中旬时接手。</p>
<p>那是一幢老旧的两层楼房，距离大学校园只有几个街区远。以前的主人们都任由它破败，深色的绿漆正从木板上剥落，草地的颜色已经发黄，而且杂草猛长。但是院子很大，房间都很宽敞；还有一种灰头土脸的宏伟气派，伊迪丝心想这个最终都可以重现光彩。</p>
<p>她又从父亲那里借了五百美元来买家具，在夏季学期和秋季学期开始的间隙，斯通纳又把房子重新刷了一遍，伊迪丝想要白颜色，他只好刷了三层，这样，那种深绿色就不会透露出来。忽然，在九月的第一个星期，伊迪丝决定办个派对——她称之为暖房。她宣布这个决定时还下了点决心，好像这将是一个新的开始。</p>
<p>他们邀请了系里所有暑假回来的老师，以及伊迪丝在城里的几个熟人。霍利斯·劳曼克思接受了邀请，让所有的人很意外，这是他一年前到哥伦比亚后接受的第一份邀请。斯通纳找了个私酒贩子，买了几瓶杜松子酒，戈登·费奇答应带些啤酒来，伊迪丝的姨妈贡献了两瓶陈年雪利，给那些不能喝烈酒的人用。伊迪丝根本就不情愿上酒，这样从技术上讲是违法的。但是卡罗琳·费奇私下说，大学里没有人会觉得不合适，所以她就听了这话。</p>
<p>那年，秋天来得早。9月10日就下了一场小雪，就在注册的头一天；晚上一股挺硬的微风扫过大地。那个星期的周末，就是聚会的时候，寒冷的天气结束了，所以空气中只有一丝冷风，但是树木的叶子都落了，草地开始发黄，遍地都是光秃秃的，预示着今年将是一个冷冬。外面冷飕飕的天气，以及在院子里光秃秃地竖立着剥了皮的杨树、榆树，以及室内即将来临的派对的温暖和排列得整整齐齐的用具，这一切让威廉·斯通纳想起另一天。有那么片刻，他弄不清自己想要回忆什么——接着他意识到，就是在这样的日子，差不多在七年前，他去乔赛亚·克莱蒙特家，第一次见到伊迪丝。在他看来那好像已经很遥远了，是很久以前，他已经辨认不出这些年来铸成的变化。</p>
<p>派对前将近整整一星期的时间里，在狂热的准备期间伊迪丝简直忙晕了，她雇了个黑人女孩帮她干一星期，到时招待客人，她们两个又是擦地板，擦墙，又是给木器打蜡，清除家具上的灰尘，把家具摆来放去，反反复复——所以，到聚会的那天，伊迪丝已经处于快要虚脱的状态了。眼睛下面出现了两个黑黑的小坑，说话时声音已经快到歇斯底里的边缘。六点钟时——客人应该是七点钟到——她又数了一遍杯子，发现按照预计来的客人，还不够。她忽然哭了起来，冲下楼去，哭泣着说，无论发生什么，她都不管了，她不想回来了。斯通纳想安抚她，可她根本就不吭声回答。他叫伊迪丝不要担心，他会去找杯子。他对女佣说，他出去会儿很快就回来，然后匆匆走出屋子。他花了将近一个钟头的时间，寻找还开着的店铺可以买些杯子。等他终于找到一家，挑好了杯子，回到家时，已经早过七点了，第一批客人已经到家。伊迪丝在起居室里陪着他们，面带微笑聊着天，好像根本就不在乎或者担心；她热情地向斯通纳迎过来，告诉他把那包东西放进厨房。</p>
<p>这次聚会跟其他许多聚会没什么两样。谈话开始时漫无边际，聚集着短暂又微弱的能量，然后毫无关联地逐渐转入其他聊天。笑声很短促又很紧张，爆发时整个房间像发生了微型爆破，如同连续又互无关联的齐射，参加聚会的人随机地从这个地方流动到另一个地方，好像在默默地占据不断变化的战略位置。其中有些人，像间谍一般，在房子里进进出出，由伊迪丝或者斯通纳领着溜达，称赞这样的旧房子要远远超过那种在郊外这里起一栋那里竖一幢的单薄的新建筑。</p>
<p>十点钟的时候，大多数客人已经拿起盘子，上面堆着切成薄片的冷香肠、火鸡、腌杏，以及各种小西红柿装饰品，芹菜秆、橄榄、杏仁、脆萝卜和切成小块的生菜花。有少部分人只喝酒，不吃菜。十一点时，大多数客人都走了，留下的有戈登和卡罗琳两口子，还有几个系里的同事，斯通纳认识好几年了，还有霍利斯·劳曼克思。他喝得大醉，但坚决不认为自己醉了。他走路时小心翼翼，好像背了个重东西从崎岖不平的台地上走过，那张苍白的瘦脸透过一层汗水的薄膜闪着亮光。在酒精的作用下他的舌头已经松弛，虽然说话还准确，声音已经失去了讽刺性的棱角，人好像已经毫不设防。</p>
<p>他讲起自己在俄亥俄度过的孤独童年，父亲是当地一个颇为成功的小商人。他仿佛换了个人，说到残疾促使他远离人群，说到早年的这种自惭形秽，既没有自己能理解的由头，也没有什么防御手段可以掌握。当他说到独自在房间度过的那些漫长的白天和夜晚，通过阅读来逃避扭曲的身体加给自己的限制，然后慢慢找到了一种自由感，这种感觉随着他对自由本质的理解的加深而越来越强烈。他说到这个时，斯通纳感觉有种不曾想到的亲近感，他知道，劳曼克思已经进入某种谈话状态，一种顿悟状态，从言语中领悟到、但难以再通过言辞传达出来的某种顿悟，这很像斯通纳本人曾经在阿切尔·斯隆教的课上有过的体验。劳曼克思早就达到了那种境界，而且是独自达到的，所以这种领悟更接近他自己而不是斯通纳内心的某个部分，可是在某种意义上，最终那才是最重要的东西。这两个人很像，虽然谁都不愿彼此向对方承认，甚至对自己承认。</p>
<p>他们一直谈到凌晨四点钟；虽然都喝得多了点，但谈话却越来越镇定，直到最后谁都无话可说了。两人在聚会留下的垃圾中挨得很近地坐着，像坐在一个孤岛上，为了温暖和安全搂在一块儿。过了一会儿，戈登和卡罗琳站起来，说要开车送劳曼克思回住处。劳曼克思握了握斯通纳的手，问了下他的书的情况，希望他成功。他又走到伊迪丝跟前，伊迪丝笔直地坐在椅子里，然后抓住她的手，感谢办了这次聚会。接着，好像是一时冲动，他略微弯了下腰，用自己的嘴唇碰了下伊迪丝的嘴唇。伊迪丝的手微微朝他的头发举过去，在别人的注视下他们这样持续了片刻。这是斯通纳见过的最纯洁的亲吻了，好像完全是天然浑成。</p>
<p>斯通纳看着他的客人从大门走出去，然后又逗留了会儿，望着他们下了台阶，从走廊那儿走到灯光照不到的地方。寒冷的空气裹着他，粘着他，他深深地吸了口气，刺骨的寒冷让他神清气爽。他不情愿地关上门，转身回去，起居室里空空的，伊迪丝已经上了楼。他关了灯，穿过凌乱的房间朝楼梯走去。他觉得这屋子已经逐渐亲切起来，他抓住一个看不见的扶手，自动沿着扶手往上爬去。他上到楼梯顶时才看清路面，因为从半开的卧室门里透出的灯光照亮了客厅。他走过厅堂向卧室走去时地板吱吱呀呀地响着。</p>
<p>伊迪丝的衣服胡乱扔在床边的地板上，被子马虎地抛在后面，她一丝不挂地躺着，在没有丝毫皱褶的洁白的床单上，在灯光的映照下，闪闪发亮。她的身体慵懒地松弛着，赤裸裸摊开四肢的样子显得很放荡，像放射着淡淡的金光。斯通纳朝床靠近些。她睡得很死，但在一丝灯光中，微微张开的嘴的形状似乎在诉说着无声的激情和爱的甜言蜜语。他站着看了很长时间，心里激起淡淡的同情、勉强的友情和熟悉的敬重感。他又感觉到一丝疲惫的伤感，因为他知道，伊迪丝的样子再也引不起自己熟悉的那种情欲的痛苦，而且，他再也不会被感动了，像从前她的存在让自己感动的那样。这种伤感淡化了许多，他轻轻地给她盖上被子，关了灯，上了床在她旁边躺下。</p>
<p>第二天早上，伊迪丝生病了，而且无精打采，在自己的房间待了一整天。斯通纳既要清理房间，又要照顾女儿。星期一，斯通纳看到了劳曼克思，带着聚会那天晚上残留的热情跟他打招呼，劳曼克思回答他时自然还带着一种嘲讽味儿，像是冷漠的愤怒，对那天的聚会或者后来的事只字不提。好像他发现了一个仇恨事儿，让他躲开斯通纳，而且还不会轻易放过。</p>
<p>正如斯通纳害怕的那样，很快就证明那幢房子几乎成为一个毁灭性的财力负担。虽然他尽量小心地分配自己的工资，到月底的时候发现总是没钱了，每个月都要减少他靠暑期教学挣来并且持续变少的储蓄。他们买下房子的第一年，他就没有还上向伊迪丝父亲借的两笔债。他收到一封冷漠和公事公办的信，忠告如何合理安排开支计划。</p>
<p>然而，他开始从这份家产中体会到一种乐趣，领会到从前不曾料到的慰藉。他的书房在一楼。离起居室不远的地方，带一个高高的朝北的窗户，白天的时候，屋里光线柔和，木质格子地板闪耀着岁月的绚丽光芒。他在地窖里发现了许多木板，经过灰尘和细菌的蹂躏，模样已经与房间的木格很匹配。他把这些木板重新抛光后打了好几个书架，这样他就可以被书包围了。在一个旧家具店，他找到几把破椅子，一个长沙发，一张老旧的桌子，这些他只花了几美元，但重新打理却花了好多个星期的时间。</p>
<p>当斯通纳在收拾屋子，当屋子逐渐变得有模有样时，他意识到，很多年来，自己并不知道，他有过一份憧憬，一直锁在内心某个地方的憧憬，就像一个见不得人的秘密，这个憧憬表面上是一个地方，其实就是他自己。所以，当他在打造书房的时候，他打算定义的是他自己。当他为做书架打磨这些旧木板的时候，当他看着表面的粗糙消失，灰色的风雨侵蚀消失，露出基本的木质，最终露出花纹和质地华丽的纯粹时，他逐渐打造成形的是他自己，他要置于某种有序状态的是他自己，他想创造某种可能性的是他自己。</p>
<p>因此，虽然不断定期出现借债和窘迫的压力，随后那几年仍然很开心，而且他依然过着很像年轻时读研究生和刚结婚时梦想可能会过的那种生活。伊迪丝并没有像他曾经希望的那样在自己的生活中占据多么大的份额。其实，他们似乎已经进入一种漫长的休战期，仿佛陷入一场僵局。他们大多数时候都是分开过的，伊迪丝把屋子收拾得一尘不染可又很少来客人。不扫除，不抹灰尘，不用清洗或者擦东西的时候，她就待在自己的屋里，好像这样就很心满意足。她从来不进斯通纳的书房，好像在她眼中就不存在。</p>
<p>斯通纳还在照顾女儿上倾注了大量精力，下午的时候，他从大学回到家里，就从楼上的卧室抱起格蕾斯，他已经把卧室改成婴儿房。他工作的时候就让格蕾斯在自己的书房里玩。在地板上安安静静又心满意足地玩着，自己一个人待着很满意。斯通纳不时地跟她说说话，她有时带着严肃又迟钝的欢乐表情看着他。</p>
<p>有时斯通纳会请学生过来讨论和闲聊。他在一个小小的电热炉上给他们煮茶，这个电热炉就放在他书桌旁边，当学生们别扭地坐在椅子上，评论着他的藏书，恭维女儿多美时，他会流露出不安的柔情。他很歉意妻子不在身边，解释说她生病了，直到最后发现他反复道歉是强调她不在场，而不是解释原因，他不再多说话，希望沉默是解释而不是打圆场。</p>
<p>除了伊迪丝不在，他的生活差不多就是自己想要的样子。不备课或者批改作业、读论文的时候，他就研究、写作。他希望抓紧时间给自己创造出学者与教师兼具的声名。他对第一本书的期望既审慎又保守，这些期望是很合理的。有个评论家称之为“平淡无奇”，另一个人又说是“才华横溢的研究”。起先，他对这本书很得意，经常拿在手里抚弄着朴素的封皮，逐页翻弄着。它好像很娇贵，有生命似的，就像个孩子。他反复阅读印刷出来的文字，微微有些惊讶它既没有自己想的那么好，也没有那么糟。很快他就懒得看了，但他每当想起它，想起它的作者时，对自己的鲁莽以及本来应承担的责任无不带着惊奇和不信任感。</p>
<p>1927年春天的一个晚上，威廉·斯通纳很晚才回家。还是蓓蕾的鲜花香气弥漫，飘浮在湿漉漉的温暖的空气中，蟋蟀在阴影中低唱，远处一辆孤单的汽车扬起灰尘，给这片寂静送来响亮、粗鲁的咔嗒声。他慢步行走着，沉浸在新季的芳香中，灌木和树丛的暗影中闪着发光、纤细的绿色花蕾，让他兴致盎然。</p>
<p>他走进家时，伊迪丝在起居室遥远的另一头，把电话筒按在耳朵上，望着他。</p>
<p>“你回来这么晚？”她说。</p>
<p>“嗯，”他愉快地说，“我们有些博士要答辩。”</p>
<p>伊迪丝把听筒递给他。“找你的，长途，有人找了你一下午了。我告诉他们你在大学，但他们每隔一小时就又打到这里来了。”</p>
<p>斯通纳接过听筒冲着送话口讲起来。没有人应。“你好。”他又说了声。</p>
<p>一个陌生男人细细的声音应答了。</p>
<p>“是比尔·斯通纳吗？”</p>
<p>“是的，你是谁？”</p>
<p>“你不认识我。我是过路人，你妈妈让我打给你。我打了整整一下午。”</p>
<p>“是吗？”斯通纳说。他握着送话口的手开始颤起来。“出什么事儿了吗？”</p>
<p>“是你爸，”这声音说，“我不知道怎么说才好。”</p>
<p>这个干巴巴、言语不多、惊恐不安的声音继续说着，威廉·斯通纳麻木地听着，好像按在耳朵上的听筒这边不存在似的。他听到的内容跟父亲有关。他有（这声音说）将近一个星期感觉不好，因为他雇的帮手赶不及犁地栽种，虽然发着高烧，他今天早上还是早早起来去种了些东西。帮手今天十点左右发现他脸朝下趴在犁开的地上，失去知觉了。帮手把他背回家，放在床上，就去找大夫，可是到中午的时候他就死了。</p>
<p>“谢谢你打电话，”斯通纳机械地说，“告诉我妈妈，我明天就赶回来。”</p>
<p>他把听筒放回挂钩，盯着连在那个细细的黑色圆筒的传话口看了很长时间。他转过身看着屋子。伊迪丝不出所料关切地看着他。</p>
<p>“怎么了？怎么回事？”她问。</p>
<p>“我父亲出事了，”斯通纳说，“他死了。”</p>
<p>“噢，威利！”伊迪丝说。接着她点点头。“这个星期剩下的几天，你恐怕都得出去了。”</p>
<p>“是。”斯通纳说。</p>
<p>“那我就让艾玛姨妈过来，帮着照料格蕾斯。”</p>
<p>“好吧，”斯通纳机械地说，“好吧。”</p>
<p>斯通纳找了个人替他上这星期剩下的课，第二天一大早就搭上去布恩维尔的班车走了。从哥伦比亚到堪萨斯城的高速公路，在布恩维尔横穿而过，之前，从上大学开始，他在这条路上走过七年，现在变得宽敞了很多，路面都铺过，干净笔直的护栏圈着小麦和玉米地，在车窗外从他身旁闪过。</p>
<p>布恩维尔在他没见过的这些年有了点变化。几幢新楼升起了，一些旧楼已经扒倒，但小城依然光秃、脆弱，看上去好像不过是个临时凑起来的，随时可能被拆除。虽然最近几年，大多数街道都铺过了，一片薄薄的尘雾总是悬浮在小城周围，几辆马拉的车，钢圈轮子敞篷车还在附近放着，车轮有时刮擦街道和路沿时会散发出火星。</p>
<p>自己家的那幢房子却没有什么实质性的变化。也许比以前更干枯、更灰暗了，护墙板连一片漆都不剩了，没有漆过的门廊的木头塌陷得离光秃秃的地面更近了。</p>
<p>屋里有些人——邻居们——斯通纳已经记不得了，一个身穿黑色上衣、白衬衫、扎着领结的瘦高男子正俯身对着斯通纳的母亲，她坐在装着父亲遗体的那个窄窄的木棺材旁边的靠背椅里。斯通纳穿过屋子。那个高个子男人看见他了，走过来迎接。这个人的眼睛是灰色的，有些扁，像两块上过釉的瓷片。深沉、油滑的男中音，小声又浑厚地说了几句什么话。这个人管斯通纳叫“兄弟”，说着“表亲”、“上帝，是他带走了”之类的话，想知道斯通纳想不想跟他一起祷告。斯通纳从这人身边擦过去，站在母亲前面，她的脸在他前面晃着。他透过一团模糊看见母亲在冲自己点头，而且从椅子里站起来。母亲抓住他的胳臂说，“你还是看看你爸吧。”</p>
<p>这么一触碰，轻得他几乎感觉不出来，母亲带着他走到打开的棺材旁边。他向下看去。他一直看着，直到眼睛清亮起来，然后又吃惊地往后退去。他看到的好像是个陌生人的尸体，萎缩了，而且变得很小，脸像一张薄薄的牛皮纸面具，应该是眼睛的地方变成两个深深的黑色的小坑儿。裹住身体的深蓝色的上衣显得离奇地宽大，放在胸上从袖口里伸出的双手像某种动物干枯的爪子。斯通纳转过身面向母亲，他知道自己感觉到的那种恐怖就停留在眼睛里。</p>
<p>“最近一两个星期来，你爸爸的体重减了不少，”她说，“我求他别去田里了，可我还没醒来他就起床出去了。他已经头脑糊涂了。他病得太厉害，都糊涂了，而且不知道自己在干什么。医生说，他大概还能行，否则应付不了。”</p>
<p>母亲说话的时候，斯通纳看得清清楚楚，她这样说的时候，好像自己也快要死了似的，她的一部分好像无可挽回地跟丈夫钻进那个棺材了，已经不再出来。现在他看着母亲，她的脸瘦瘦的，缩了进去，即便在休息的时候，脸都绷得紧紧的，齿尖都从薄薄的嘴唇底下露了出来。她走路时好像没有重量或者力气。斯通纳含含糊糊地说了个词，然后就离开客厅。他走进自己小时候长大的那个房间，在光秃秃的屋子里站着。他的眼睛又热又干，都哭不出来。</p>
<p>他做了些葬礼必须要做的安排，签了几个需要签的文书。像所有的乡下人一样，他的父母有丧葬保险，为此，生活中的很多时候，每星期他们都要留出几美分，甚至在极度需要钱的时期。这几张契约说来有些可怜，是母亲从卧室的一只旧箱子里取出来的，上面镀金的繁复的印刷文字已经斑驳脱落，那张廉价的纸因为年代久远已经很脆薄了。他跟母亲谈到未来的事儿，他想让她跟自己回哥伦比亚。房间多得很，而且（他对这个谎言感到痛心）伊迪丝也会欢迎她来做伴。</p>
<p>可是母亲不愿跟他回去。“我会感觉别扭，”她说，“你爸和我——我在这里住了将近一辈子。在别的任何地方我都觉得不安心，不舒服。还有，托贝”——斯通纳想起托贝是父亲多年前雇的那个黑人田间帮手——“托贝说只要我需要他就留在这儿。他在地窖里给自己安顿了个不错的屋子。我们能对付。”</p>
<p>斯通纳跟母亲争辩了会儿，但她不为所动。他终于意识到，她只想等着死，想在她曾经生活的地方死去。他知道，母亲还维护着那个小小的尊严，当她想这样做时在这个过程中能找到的那份尊严。</p>
<p>他们在布恩维尔周边一小块地里埋葬了父亲，斯通纳又跟母亲回到农场。那天晚上他无法入睡。他穿得整整齐齐，走进父亲年复一年干活的那片田地，走到他现在能寻找到的尽头。他努力回想着父亲，年少时就熟悉的那张脸就是不肯出现在他脑海。他在田里跪下，手里抓了把干燥的土块。他把土块捏碎，看着沙子，在月光下黑黑的，土碎了，从手指间流出去。他在裤腿上擦了把手，然后站起来，走回家。还是睡不着，他躺在床上，望着唯一的那扇窗户，直到天亮，直到地上没有任何阴影，直到大地把灰色、贫瘠和无限的空间舒展在他面前。</p>
<p>父亲去世后，斯通纳尽自己最大可能，经常在周末时回农场看看。每次看到母亲，发现她变得越来越消瘦、苍白和沉默，直到最后，看上去好像只有她那塌陷、明亮的眼睛还是有生命的。在她弥留的那几天，她都压根不和他说话了，当她从床上抬头张望时，那双眼睛微弱地闪耀着，偶尔从嘴唇里发出一声轻微的叹息。</p>
<p>他把母亲埋葬在她丈夫身边。葬礼结束，不多的几个追悼者走了后，斯通纳一个人站在十一月的寒风中，看着两座坟墓，一座朝它的重负敞开着，另一座冒出一个土丘，上面盖着薄薄的一层草。他在这块小小的光秃、没有树木的土地上转过身，这块地像承载着其他好多东西一样，也承载着他的父亲母亲。他的目光又越过这片平地，望着农场方向，他就出生在那里，父亲和母亲在那里度过了他们的岁月。他想到年复一年被这片土地压榨付出的代价，而它一如从前——更加贫瘠，也许，更加歉收。一切都没有改变。他们的生活在毫无欢乐可言的劳作中延续着，他们的意志崩溃了，他们的心智麻木了。现在他们都在给予自己生命的土地里安息了。慢慢地，年复一年，土地将接纳他们。慢慢地，潮湿和腐烂将侵扰那副承放着他们尸体的松木棺材，慢慢地，这些将触碰到他们的肉体，最后将消蚀掉他们最后的物质的痕迹。他们将变成执拗的土地毫无意义的组成部分，而在很久以前，他们就把自己献给土地了。</p>
<p>他让托贝在农场待到过完冬季。1928年春天，他把农场交付出售。可以理解的是，托贝继续待在农场，直到农场卖掉了，他种植的不管什么东西都归他所有。托贝尽自己所能把这块地方修整得好好的，并且修补了下那幢房子，重新把那个小谷仓刷了一遍。即便如此，直到1929年春天，斯通纳才找到一个合适的买主。他接受了第一个报价的人，开价两千美元多点。他给了托贝几百美元，八月底，他把剩下的钱寄给岳父，减了些买哥伦比亚那幢房子时欠的钱数。</p>
<p>那年十月，股票市场不景气，本地一些报纸登了不少有关华尔街的消息，以及有关财富毁灭和豪华生活改变的报道。哥伦比亚没有多少人受到触动，这还是一个很保守的社会，城里人几乎没有钱投进股票或者证券生意中。但是全国范围的银行倒闭的消息已经传来，不确定的兆头开始影响到部分城里人，一些农民开始取出他们的存款，还有一些人（在当地银行家的怂恿下）又增加了存款。但是，没有人真正害怕，直到圣路易斯的“商人信托”，一家小型私人银行倒闭的消息传来。</p>
<p>听到这个消息时，斯通纳正在大学食堂吃午饭，他立刻回家告诉了伊迪丝。商人信托银行持有他们家的抵押贷款，而且就是伊迪丝的父亲当董事长的银行。伊迪丝当天下午就给圣路易斯那边打了个电话，跟母亲说了这事。她母亲兴致很高，告诉伊迪丝说，博斯特威克先生向她保证过没有什么可担心的，过不了几星期，一切都会好起来。</p>
<p>打完电话后过了三天，霍勒斯·博斯特威克就死了，是自杀。一天早晨，他像往常一样心情愉快地走进银行办公室，他跟几个在银行开门营业前来上班的员工打过招呼，跟秘书说他将不接任何电话，然后走进自己的办公室，锁上门。大约早晨十点的时候，他用一把前一天刚买来、放在公文包里的左轮手枪朝自己的头开了一枪。他身后没有留下任何遗言，但是办公桌上整齐排列好的各种文件告诉了他想要说的一切。他想说的很简单，就是财政已经崩溃。跟波士顿的父亲一样，他做了不明智的投资，不是用自己的钱，而是银行的钱。而且他的崩溃非常之彻底，自己难以想象会获得挽救。最后发现，就在他自杀的那一刻，这场崩溃还不至于完全不可挽救。房地产安定下来后，家里的房子完全没有动，在圣路易斯郊外的一些小型地产足以有小笔收入维持妻子的余生。</p>
<p>但是，这个情况没有及时知悉。威廉·斯通纳接到电话通知说霍勒斯·博斯特威克生意崩溃并自杀后，他把这个消息尽可能以跟伊迪丝冷淡的关系所许可的温柔态度透露给了她。</p>
<p>伊迪丝对待这个消息的态度十镇定，几乎好像早就料到。她看了斯通纳片刻，什么话都没说。接着她摇摇头出神地说：“可怜的妈妈。她该怎么办？一直都有人照顾她。这下她该怎么过？”</p>
<p>斯通纳说：“跟她说——”他尴尬地停顿了下——“跟她说，如果她愿意，可以过来跟我们住一起。她会开心的。”</p>
<p>伊迪丝用一种亲密和蔑视兼有的奇怪表情冲他微笑着。“噢，威利。她宁肯自己一个人老死。你难道不知道吗？”</p>
<p>斯通纳点点头。“我想我知道吧。”他说。</p>
<p>所以，在斯通纳接到那个电话的当天晚上，伊迪丝就离开哥伦比亚去圣路易斯参加葬礼，在那里根据需要尽可能多待些时间。她去了一个星期后，斯通纳就收到一个简短的便条，告诉他要陪母亲一起再住两个星期或者更长。她去了将近两个月，斯通纳一个人跟女儿在那幢大屋子里住着。</p>
<p>最初的几天，房子的空荡让人有种奇怪和出其不意的焦虑。但是很快他就习惯了这种空荡，开始很享受了。不到一个星期，他就知道自己会像这些年一样愉快，当他想到伊迪丝必然还要回来，反而感到非常难过，这点没有必要再对自己掩饰了。</p>
<p>那年春天格蕾斯过了六岁生日，秋天就开始上小学一年级了。每天早晨斯通纳都要给她做上学准备，下午他从大学回来，等孩子快要回家时就去接。</p>
<p>六岁时格蕾斯就已经长成一个高高瘦瘦的孩子，头发中的金色盖过了红色，皮肤好得几乎完美无缺，两只眼睛是深蓝色，几乎像紫罗兰了。她既安静又开心，对什么东西都欢欢喜喜的，给她父亲一种类似怀旧的敬意感。</p>
<p>有时格蕾斯会跟邻居的孩子们玩，但更多时候跟父亲坐在那间大大的书房里，他批改作业、读书或者写东西时就看着。她有时跟父亲说说话，两人还会交谈起来——既安静又严肃，那种料想不到的温柔令斯通纳很感动。格蕾斯经常在黄色纸上画些稚嫩又好玩的图画，然后一本正经地拿给父亲看，有时还会拿一年级的阅读课本上的文章大声读给父亲听。晚上，斯通纳把她放在床上，然后又回到书房，他感觉孩子已经不在自己的房间，但知道她在头顶安然睡着，他又很欣慰。他开始以自己隐约想到的各种方式对她进行教育，当孩子在他眼皮底下逐渐成长，当她的脸蛋上开始显露出自己头脑里面运转的聪慧时，斯通纳满怀好奇和爱抚地观察着。</p>
<p>伊迪丝直到第二年一月过后才回到哥伦比亚，所以威廉·斯通纳和女儿独自过的圣诞节。圣诞节的早上，他们互相交换了礼物，送给父亲的礼物是个简单的烟灰缸，虽然他并不抽烟，那是格蕾斯在大学附属的那所谨慎开明的学校里自己做的。斯通纳给她送了一件亲自在城里的一家店铺挑选的新衣服，几本书，还有一套彩色玩具。那天大部分时间，他们都坐在那棵小树前，说着话，看着树上饰物闪烁的灯光，看着黑绿色的冷杉上的金丝线一闪一烁的，就像埋好了的火。</p>
<p>圣诞节期间，在这个急匆匆的学期有趣而心神不安的暂时休整期，威廉·斯通纳开始意识到两件事：开始知道格蕾斯在他生活中具有多么核心的重要地位；他开始明白自己是有可能成为一名好老师的。</p>
<p>他本来已经准备自认不是个好老师。从慌慌张张地上完新生的第一堂英文课开始，他总觉得自己想实现的目标和课堂上传达的东西之间横着一条鸿沟。他曾希望时间和经验会修补这道鸿沟。然而这两种东西并没有起效。当他在课堂上讲到这些时，那些他深信不疑的事物，对他的背叛却最彻底，那些最生动的东西，在他的表达中却萎靡枯燥，那些最感动他的东西，说出来后却变得冷冰冰的。不称职的想法让他苦不堪言，而且这种感觉慢慢变得根深蒂固起来，就像自己的驼背，成为他的组成部分。</p>
<p>但是，伊迪丝在圣路易斯的那几个星期，他讲课时，发现在内容上完全放开了，忘记了自己的不够格，忘记了自我，甚至忘了眼前的学生。他常常激情迸涌，乃至说话结结巴巴，打着手势，完全忽略了平常左右他说话的演讲声调。刚开始，这种迸发弄得自己心绪难宁，好像会被认为对自己讲的内容太熟悉了，他还向学生们道歉。可是，课后，学生们开始向他围拢过来，而且作业中开始流露出想象力以及某种试探性的爱的启迪等迹象时，他备受鼓舞，继续发挥自己从来没有被教过要做的东西。对文学、语言以及心智神秘性的热爱，在字母和词语的细腻、奇妙、出其不意的组合中，在最漆黑和冰冷的印刷文字中自动呈现出来——这种爱，他曾经深藏不露，好像那是非法和危险的，现在开始表现这种爱了，起先还是试探性的，接着大胆勇敢，最后就完全是自豪地表现了。</p>
<p>他为自己发现的这种可能性既沮丧又深受鼓舞，并非故意，他感觉自己同时欺骗了学生和自己。那些直到那时还能够通过机械的步骤的重复吃力地上完他的课的学生，开始带着迷茫和悔恨的表情看着他，以前那些没有选过他的课的学生开始每节课都来听，在大楼里碰到时还向他点头打招呼。他怀疑迟至十年后，才开始发现自己，他看到的这个形象比自己曾经想象的样子既不足又有些过头。他终于感觉自己开始成为一个教师了，教师不过是这样一个人，对他而言，他的书就是真，对他来说就是给予一种艺术的尊严，与自己作为一个人的蠢傻、不足或者不够格没有多大关系。这种领悟他无法言传，但是，一旦有了，就会改变自己，所以不会有人弄错它的存在。</p>
<p>因此，当伊迪丝从圣路易斯回来后，她发现斯通纳有点变了，她说不清楚，但立刻就感觉出了。她毫无预兆地乘下午的一趟火车回来，穿过起居室走进书房，丈夫和女儿正安静地坐着。她故意想通过自己忽然出现和改变了的外形让他们两个都大吃一惊。可是当斯通纳抬头看着她时，她从他眼中看到了惊讶，她立刻明白，他才是真正发生了改变，而且看得出，改变如此之深，连她出现的效果都荡然无存了。她暗自思忖，多少有些超然，同时又有些许意外，我比以前任何时候都更了解他了。</p>
<p>斯通纳对她的出现和外形的改变很意外，但是现在已经不会像从前那样让他感动了。他看了看她，然后从桌边站起身，穿过屋子，隆重地去迎接她。</p>
<p>伊迪丝把头发剪短了，上面戴了顶帽子，这种帽子紧紧地包住头发，乃至被剪短的头发像不规则的框子般贴在她的脸上，她的嘴唇涂成鲜艳的橘红色，两块小小的腮红把颧骨衬托得更加尖削。她穿了件短礼服，战后那几年在年轻女子中特别流行，衣服从肩上直垂下来，就到膝盖上方为止。她不自然地冲丈夫微笑着，穿过屋子向女儿走去，女儿坐在地上抬头安静又严肃地看着她。伊迪丝笨拙地跪下膝盖，新衣服紧紧裹着双腿。</p>
<p>“格蕾斯，宝贝，”她说，声音在斯通纳听来既压抑又尖厉，“想妈妈吗？你想过妈妈不再回来吗？”</p>
<p>格蕾斯在面颊上吻了下她，然后严肃地望着。“你看上去不一样了。”她说。</p>
<p>伊迪丝大笑了声，从地板上站起来，双手举过头顶，身子转了一圈。“我穿了件新衣服，穿了双新鞋子，还做了个新发式。你喜欢这个样子吗？”</p>
<p>格蕾斯犹豫地点点头。“你看上去不一样了。”她又说了遍。</p>
<p>伊迪丝笑容绽放，她的牙齿上还残留着一块淡淡的口红的污迹。她转过身面向斯通纳，“我看上去不一样了吗？”</p>
<p>“是的，”斯通纳说，“很有魅力。很漂亮。”</p>
<p>她冲着斯通纳大笑，摇摇头。“可怜的威利。”她说，然后又转身对着女儿。“我是不一样了，我相信。”她对女儿说。“我真觉得不一样了。”</p>
<p>可是，斯通纳知道，她这是在对自己说。那一瞬间，不知怎么，他同时清楚：可能并非故意或者想清楚了，连她自己都不一定知道，伊迪丝正在向他宣告，一场新的战争开始了。</p>
<p>这个宣战是伊迪丝在父亲死后去圣路易斯的“家”里待的那几个星期开始发生的变化的一部分，而且，因为另一个变化，即斯通纳发现自己会成为一个好老师而在内心逐渐酿成的变化加剧了，并最终释放出尖刃和野蛮。</p>
<p>伊迪丝在父亲的葬礼上奇怪地无动于衷。在各种繁复的礼仪上，她都直挺挺地坐着，板着脸，从父亲遗体旁边过去时表情毫无改变，遗体在装饰华丽的棺材里显得雍容华贵，丰满圆胖。可是在墓地，棺材沉入用人工草席遮掩的狭窄的土坑时，她低下那张没有表情的脸，捧在手中，直到有人碰了下她的肩膀才抬起。</p>
<p>葬礼过后，她在自己从前住过的老房子里待了几天，那是她从小长大的房间。她只是在早饭和晚饭的时候才见到母亲。客人们都以为她是因为悲伤而离群索居。“他们是很亲近的，”伊迪丝的母亲费解地说，“要比表面看上去更亲近。”</p>
<p>可是，在那间屋子里，伊迪丝随意地走来走去，好像是第一次进来，抚摸着墙壁和窗户，试探着它们的坚固程度。她有一只装满了从阁楼上拿下来的童年时代的东西的箱子。她翻遍梳妆台的抽屉，这些抽屉十多年来未曾动过。她怀着某种愉悦的闲情逸致翻看着自己的东西，亲抚着它们，把东西这样那样转来转去，带着几近仪式感的关怀检查着，好像自己在这个世界上有的是时间。她无意中发现了童年时收到的一封信，从头到尾读了遍，好像是第一次读。她又看了一个早已忘记的玩具人，她冲着玩具微笑，抚摸着脸蛋上过彩的瓷质，好像又变成了收到一件礼物的孩子。</p>
<p>最后，她把所有童年时代的东西整整齐齐地排成两堆。一堆是自己收集的玩具和小玩意儿，还有学校朋友的私密照片和书信，以及一段时间从远方的亲戚那里收到的各种礼物。另一堆是父亲送给她，或者直接间接与他有关的东西。她对这堆东西格外上心。她有条不紊，无动于衷，既不生气也不高兴地把这些东西逐一放在这里，然后彻底捣坏。信件和衣服，包括那些玩偶上的填充物，针垫和照片，她放在火炉里烧了，玩偶，陶泥和瓷质的头、手、胳臂、脚，她都在火炉上捣成粉末。焚烧和捣碎后残存的东西，她扫成一堆，从自己卧室旁边的卫生间的池子里冲下去。</p>
<p>这桩活儿干完后——屋里的烟雾消除了，炉台打扫了，不多的几件残余物品放回五斗柜里——伊迪丝·博斯特威克·斯通纳坐在自己的小梳妆台前，看着镜子里的模样，镜子的银光背面很薄，而且已经斑驳脱落，所以，照出的她的形象并不完整，或者压根儿就照不出来，弄出的她的脸的样子残缺不全，很好玩。她已经三十岁了。青春的光泽开始从她的头发上掉落，细细的皱纹开始出现在眼睛周围，脸上的皮肤开始紧紧地绷在尖削的颧骨周围。她冲镜子里的形象点了点头，突然站起来，走下楼，愉快地而且简直亲密地跟母亲说起话来，这可是几天来第一次这样。</p>
<p>她想（她说）要让自己内心有个改变。她这个样子已经太久了。她说起自己的童年，说起自己的婚姻。从她讲出来但又模糊和不确定的东西里，逐渐确定出一个自己渴望实现的样子。跟母亲在圣路易斯待的差不多整整两个月的时间里，她决心全力以赴地去实现那个愿望。</p>
<p>她从母亲那里借了笔钱，母亲权当冲动之下送了件礼物。她买了整套全新的衣服，把自己从哥伦比亚带来的衣服全烧了；她把头发剪短了，做成当时流行的式样；她买来化妆品和香水，每天在自己的屋子里学着使用。她学会了抽烟，她训练出一种全新的说话口吻，那是一种冷淡、含糊的英国味道，而且略微有些尖利。她带着这些控制得游刃有余的外在变化以及内心另一种隐秘和潜在的变化回到哥伦比亚。</p>
<p>回到哥伦比亚的最初几个月里，她活跃得近乎暴躁，似乎再也没有必要对自己假装病了或者虚弱不堪。她参加了一个小型剧团，热情地投入到分配给自己的工作中，她设计、描画舞台背景，给剧团筹集资金，甚至还在制作方面发挥着一些小作用。斯通纳下午回家时，发现客厅里坐满了她的朋友，这些陌生人都看着他，好像他是一个擅入者，他对这些人礼貌地点点头，就退到自己的书房中去了，在那里能够听到他们的声音，闷声闷气地在慷慨激辩，就在墙壁那边。</p>
<p>伊迪丝买了架二手的直立式钢琴，放在起居室里，靠着把这间屋子与斯通纳的书房隔开的那面墙。她在结婚前不久就放弃了钢琴，现在几乎是重新开始，练习着音阶，辛苦地做着对她来说已经太困难的练习，有时一天弹两三个钟头，经常是在晚上，把格蕾斯放到床上后弹。</p>
<p>斯通纳邀请到他书房里谈话的学生规模变得越来越大，而且聚会更加频繁。伊迪丝不再满足于继续待在楼上，远离这些聚会。她执意要给他们斟茶倒咖啡，做完后就自个儿坐在房间里。她说话高声，一派开心的样子，设法把话题转到她在小剧院的工作，或者她的音乐、绘画、雕塑上来，后者（她宣布）自己将重新捡起来，只要一找到时间。这些学生既不解又难为情，渐渐不来了，斯通纳开始在大学咖啡馆或者散布在校园周围的某家小咖啡店里请他们喝咖啡聚会。</p>
<p>他没有跟伊迪丝讲起自己的新动向，她的活动在他心里只是激起一些小小的烦恼，她好像很开心，尽管也许有那么点故意的味道。最终，是他自己对伊迪丝选择的新的生活方向负有连带责任。他已经无法从他们一起的生活以及婚姻中为她找到任何意义。因此，对她来说去追寻在那些与他毫无关系的领域里自己能找到的意义，并且走上他无法追随的道路，就是合情合理的了。</p>
<p>作为一个老师，斯通纳取得了崭新的成功，而且在优秀的研究生中日益受欢迎，在这一事实的大胆激励下，1930年夏天，他开始着手写一本新书。现在，他几乎所有的空闲时间都在书房里度过。他和伊迪丝两人互相还保留着共用那间卧室的表面默契，但他很少去那间屋子，晚上更不去。他就睡在书房的沙发上，甚至把衣服放在他在书房一角打造的一个小小的壁柜里。</p>
<p>他可以跟格蕾斯在一起。跟母亲第一次长时间不在身边的那段时间里他们养成的习惯一样，孩子很多时候都跟父亲在书房里待着。斯通纳甚至给她支了张桌子和椅子，这样她就有个地方可以读书和做家庭作业了。他们一起吃饭的次数比不止两个人的时候要多。伊迪丝经常长时间不在家里，不出去的时候又频繁地举办小型派对招待剧团的那些朋友，这些聚会根本不把一个小孩的存在当回事儿。</p>
<p>后来，忽然间，伊迪丝开始在家里待着了。他们三个人又开始一起吃饭，伊迪丝甚至做出一些举动，想收拾屋子。屋子很安静，连那架钢琴都不使用了，所以琴键上蒙了层灰尘。</p>
<p>他们很少谈论自己或者互相谈论时，又进入一起生活的那个点，以免让他们一起生活的那个微弱的平衡打破。所以，在长时间的犹豫和对后果反复考虑后，斯通纳终于问她，是不是出什么事了。</p>
<p>他们坐在餐桌边，格蕾斯找了个借口，拿了本书回到斯通纳的书房。</p>
<p>“你这话是什么意思？”伊迪丝问。</p>
<p>“你的朋友们，”斯通纳说，“他们有段时间没来了，你好像也不再参与你们的戏剧工作。我只是纳闷，是不是出什么事儿了。”</p>
<p>伊迪丝差不多用一种男性的姿态，从身边自己的烟盒里抖出一根烟，用她抽了一半的另一根烟头点燃。她深深地吸了口，没有从嘴唇上拿掉烟，然后把脑袋向后仰过去，这样，当她看着斯通纳时，两只眼睛眯成一条缝，带着好奇和算计的神情。</p>
<p>“没出什么事儿，”她说，“我只是厌倦了他们和那种工作。难道总有那么多坏事儿吗？”</p>
<p>“不是，”斯通纳说，“我只是觉得也许你感觉不舒服了或者什么的。”</p>
<p>他觉得已经没有什么好说的了，然后迅速离开饭桌回到书房，格蕾斯正坐在自己的书桌旁边，全神贯注地看着书。桌灯的光亮在她的头发中闪烁着，投射出她那张严肃的小脸清晰的轮廓。去年来，她成熟多了，斯通纳想，顷刻间一种小小的舒服的伤感涌上喉头。他笑了笑，静悄悄地朝自己的桌子走去。</p>
<p>没过多久，他就沉浸在自己的工作中了。黄昏之前，他已经赶完了例行的课堂工作，作业批改好了，未来整整一周的讲稿都准备好了。他想，晚上接下来的时间，以及未来几个晚上，他将有空闲时间写自己的那本书。他要在这本新书里写什么，目前还不清楚，总体上，他希望能超越第一部著作，无论时间还是跨度。他想研究英国文艺复兴，同时把古典和中世纪的影响的研究延伸到那个时代。他还处于规划研究阶段，而且这个阶段给了他巨大的快感——从各种备选方法中进行选择，某些手段的否定，掩藏在各种未曾探索过的可能性中的神秘和不确定性，选择的后果……可以预见的各种可能性让他欣喜备至，自己都心神不安。他从桌边站起来，踱了会儿步，然后怀着压抑的愉悦心情跟女儿说起话来，女儿从书本上抬起头，应答着他。</p>
<p>女儿感染了他的情绪，他说的几句话逗得孩子哈哈大笑。接着两个人一起毫无意义地笑起来，好像都成了小孩子。忽然，书房的门打开了，从起居室里照过来的强光像溪水般流进书房每个暗淡的角落。伊迪丝的身影出现在那片光中。</p>
<p>“格蕾斯，”她吐词清晰又缓慢地说，“父亲要工作了。你别打搅。”</p>
<p>斯通纳和女儿刹那间对这种突如其来的撞入吃惊不已，两个人既不动弹也不说话。接着斯通纳又应付着说：“没事儿，伊迪丝，她不影响我。”</p>
<p>他好像无话可讲了，伊迪丝说：“格蕾斯，听见我说的了吗？赶快出来。”</p>
<p>格蕾斯满脸困惑，从椅子上下来，穿过书房。走到正中间时，她站住不动了，先是看看父亲，又看看母亲。伊迪丝又发话了，但斯通纳设法打断她。</p>
<p>“没关系，格蕾斯，”他尽量温柔地说，“没关系。到你妈妈那儿去吧。”</p>
<p>格蕾斯穿过书房门，走进起居室时，伊迪丝对丈夫说，“这孩子太放任自流了。这样沉默寡言、怕羞内向对她来说太不自然了。她一个人待的时间太久了。她应该更活泼些，多跟同龄的孩子玩。你难道没有看出她多不开心吗？”</p>
<p>不等斯通纳回答，她就关上了门。</p>
<p>斯通纳好长时间都没有动一下。他盯着书桌，上面摆满了笔记和打开的书。他慢慢穿过书房，漫无目标地重新规整了下那些纸张和书籍。他站在那里，皱着眉头，站了好几分钟，好像在努力回想什么。接着他又转过身，走到格蕾斯的小桌前，他在桌前站了片刻，就像站在自己桌前那样。他关了桌上的灯，于是桌面变成一片灰色，没有了生命，接着他走过去来到沙发前，躺在沙发上，睁着眼睛盯着天花板。</p>
<p>他的心头渐渐升起某种憎恶感，所以，又过了好几个星期他才肯在心里承认伊迪丝干的事；当他最终确认了那种承认时，自己几乎毫不惊讶。伊迪丝是施展这种聪明和技巧进行竞争的高手，他还找不出合理的证据抱怨。那天晚上，她突然而且几乎是残忍地撞进书房后，回想起来这种撞入貌似一场意外的袭击，此后，伊迪丝的策略变得更加曲折，更加悄无声息和克制。这种策略把自己伪装成爱和关心，所以，他根本无可反击。</p>
<p>现在，伊迪丝几乎整天都待在家里。早上和晌午的时候，格蕾斯在学校期间，她全身心地投入，来重新装饰格蕾斯的卧室。她把那张小桌从斯通纳的卧室里搬走，重新倒饬，刷成一种浅粉红色，在桌面的边上装了一道宽宽的配着波浪纹丝缎的带子，这样一来，它跟孩子长期使用的那张桌子已经没有任何相似之处了。一天下午，格蕾斯默默地站在她身旁，伊迪丝翻遍了斯通纳给孩子买的所有衣服，把大多数衣服都给拆解了，答应格蕾斯这个周末两人进城用更合适、“更女孩子气”的东西去换掉这些碎片。她们还真去了。下午晚些时候，虽然疲惫但又洋洋得意的伊迪丝带着一个大包裹和精疲力竭、穿了件浆得干硬、有着无数褶饰的新衣服、极不自在的女儿打道回府，在泡泡裙边下面，女儿的两条细腿像可怜的柴棍般踉跄着。</p>
<p>伊迪丝给女儿买了许多娃娃、玩具，女儿跟这些东西玩儿时她就在身边走来跑去的，好像这样做就是尽责任；她开始给孩子上钢琴课，孩子练习时她们并排坐在条椅上；她只是在非常偶然的场合，给孩子办几场小小的聚会，都是邻居的孩子参加，都穿着僵硬、正式的衣服，都心怀恨意，闷闷不乐。她还严格监控女儿阅读、做家庭作业，绝不允许孩子学习，除非在她指定的时间里。</p>
<p>现在，伊迪丝的客人都是街坊邻居的母亲们。她们早晨就过来，在孩子们上学的时间喝咖啡、聊天。下午，她们又带来自己的孩子，看着孩子们在宽敞的起居室里玩耍，在玩耍和奔跑声中漫无目标地聊着天。</p>
<p>有那么一次，噪声中出现了一阵暂时的宁静，斯通纳听到伊迪丝说：“可怜的格蕾斯。她那么喜爱父亲，可他却没有多少时间花在她身上。他总是忙工作，你们知道。他又开始写一本新书……”</p>
<p>他有些好奇，而且几乎是超然地看着自己的手，这双手捧着一本书，开始颤抖起来。等他把双手深深地塞进衣服兜里，紧紧攥住，握着放在兜里控制住后，双手才不再颤抖。</p>
<p>现在斯通纳已经很少见到女儿。三个人经常一起吃饭，但在那种场合他几乎不敢跟女儿说话，因为如果他说了，格蕾斯回答了，伊迪丝很快就会找到什么茬子说格蕾斯坐在桌边的姿势不对，或者坐在椅子里样子不好，话说得那么尖刻，在随后吃饭的时间里女儿沉默不语，垂头丧气。</p>
<p>格蕾斯本来就纤细的身子变得越来越瘦，伊迪丝有时温和地嘲笑她“正在长大但还没有出脱”。她的目光越来越戒备，几乎是警惕了，曾经那么文静的表情，现在有时隐隐约约透露出郁郁寡欢，另一方面又开心和活跃得快要滑向歇斯底里的边缘。她已经很少微笑了，虽然经常放声大笑。她微笑的时候，好像一个幽灵从脸上飘然掠过。有一回，伊迪丝在楼上，斯通纳和女儿迎面从起居室里相遇。格蕾斯冲他羞怯地笑了笑，他不由自主地在地板上跪下来，抱住孩子。他感觉格蕾斯身子僵硬，发现她的脸上茫然无措，而且有些害怕。他温柔地站起来离开孩子，说了几句无关紧要的话，然后就退回书房了。</p>
<p>那天早上这事过去后，他在餐桌旁一直坐到格蕾斯去上学，即便他知道九点的课会迟到。看着格蕾斯走出大门后，伊迪丝还没有回餐室，他知道她在躲自己。他走进起居室，妻子坐在沙发的一头，端着一杯咖啡，手里拿着一根烟。</p>
<p>他开门见山说：“伊迪丝，我不知道格蕾斯怎么了。”</p>
<p>顷刻间，她好像捡到了话头，说：“你什么意思？”</p>
<p>他自行坐到沙发的另一端，跟伊迪丝离得远远的。一种无奈感涌上心头。“你知道我的意思，”他疲惫地说，“我们还是放了她，别把她逼得太厉害了。”</p>
<p>伊迪丝在杯托里把手里的烟拧灭了。“格蕾斯从来没有这么快乐过。她现在有许多朋友，忙的事儿多着呢。我知道你很忙，顾不上这些事，可是——你肯定看出来了，最近她外向多了。而且经常笑声不断。以前她可从来不笑的。几乎不笑。”</p>
<p>斯通纳饶有兴致地看着她。“你相信吗？”</p>
<p>“我当然相信了，”伊迪丝说，“我是母亲。”</p>
<p>而且她真的相信，斯通纳意识到。他摇摇头。</p>
<p>“我心里始终不肯承认这点，”他有些镇定地说，“但你其实挺讨厌我，是吗，伊迪丝？”</p>
<p>“什么？”她话音中透出的惊奇是真的。“噢，威利！”她清晰地放声大笑，而且抑制不住。“别犯傻了。当然不讨厌。你是我丈夫。”</p>
<p>“不要利用孩子，”他抑制不住声音的颤抖，“你再也没有什么可利用的了，你知道这点。其他任何东西。可是，如果你继续利用格蕾斯，我就要——”他没有把话说完就打住了。过了会儿，伊迪丝说，“你想要什么？”她平静地说，没有任何挑战意味。“你能做的无非是离开我，而你永远不会这样做。我们都知道这点。”</p>
<p>他点点头。“我想你是对的。”他什么也不看地站起来走进书房。他从壁柜里取出外套，从旁边的桌子上拿起公文包。当他穿过起居室时，伊迪丝又跟他说话了。</p>
<p>“威利，我并不想伤害格蕾斯。你应该知道这个的。我爱她。她是我亲生的女儿。”</p>
<p>他知道这话是真心的，她是爱着孩子。这种真切的顿悟几乎让他要哭出来。他摇摇头，走了出去，踏进外面的恶劣天气中。</p>
<p>晚上，他回家后发现，白天的时候，伊迪丝在本地一个杂工的帮助下，把他的所有东西都搬出书房，把他的书桌和沙发全都挤压在起居室的一个角落里，然后用他的衣服、纸张和所有的书围起来。</p>
<p>因为在家里要待的时间更多，伊迪丝决定（她告诉他的）重又捡起绘画和雕塑爱好。斯通纳的书房，由于光线从北边照来，能够给她送来屋里唯一真正优质的照明效果。她知道他不会介意挪动，他可以用屋后那间玻璃装饰的向阳的门廊，那里要比书房离起居室更远些，将更加安静，适合做自己的事情。</p>
<p>可是那个玻璃门廊太小了，无论如何摆放，都放不下他的那些书，而且也没有空间摆放曾经放在书房里的桌子或者沙发，所以他只好把这两样东西都存在地窖里。冬天的时候，很难在那间玻璃门廊里取暖，夏天的时候，他知道，太阳会透过围住门廊的玻璃板照射进来，所以，那里将几乎无法待下去。但他仍然在那里工作了几个月。他弄来一张小桌，权当书桌使用。他又买了个便携式散热器，稍微缓解下晚上透进薄薄的楔形护墙板的冷气。夜里，他就裹一条毯子在起居室的沙发上睡了。</p>
<p>过了几个月相对平静但并不舒服的日子后，当斯通纳下午从大学回来后，他开始发现，七零八落地有些家用碎东西——比如破损的灯，地毯碎片，小匣子，小装饰品的盒子——胡乱扔在他目前当书房用的房间。</p>
<p>“地窖里太潮湿了，”伊迪丝说，“全都毁坏了。我把它们在这里放一段时间，你不介意吧？”</p>
<p>春天的一天下午，斯通纳冒着瓢泼大雨回到家里，发现好像一块玻璃破了，雨损坏了他的好几本书，而且弄得他的许多笔记字迹看不清了。几个星期后，他进去时发现格蕾斯和她的几个朋友被放进那间屋子里玩儿，而且还发现，更多的笔记和那部新书的前几页手稿被撕掉，完全损坏了。“我只是让他们进去待一会儿，”伊迪丝说，“他们总得找个地方玩儿。可是我想不出去哪儿好。你应该告诉格蕾斯。我跟她讲过你的工作有多么重要来着。”</p>
<p>斯通纳后来也不追究了。他尽可能把更多的书搬到大学自己的办公室，那间办公室是跟另外三个年轻讲师共用的。从那以后，他在大学里待的时间跟以前在家里待的时间一样多了，只是当渴望尽快看一眼女儿或者想跟她说句话的孤独感让自己无法继续在办公室待下去时，才早早回家。</p>
<p>可是他在办公室里的空间只能容纳一小部分书，手稿书写工作经常因为没有必要的文本参考而中断，而且他的一个办公室同事，一个非常热情的年轻人，有晚上安排学生讨论的习惯。那些在整个办公室里举行的咝咝咝的艰苦谈话经常让他分心，他发现很难全神贯注。他对自己那本书的写作也没有了兴致，工作进展缓慢，几乎要停滞了。最后，他意识到，那已经成为一个避难所，一个港湾，一个晚上去办公室的借口。他阅读、研究，终于从中找到了点儿安慰，找到了点儿乐趣，甚至那个古老的愉悦的幽灵，也在他做的其中，这是一种没有具体目标的学问探求。</p>
<p>伊迪丝早已松懈了她的追求和对格蕾斯着迷般的关心，所以，这孩子又开始偶尔笑一笑，甚至能放松地跟他说说话了。这样，他发现生活下去不仅是可能的，甚至偶尔有些欢乐也是可能的。</p>
<p>英文系临时系主任，这个职位，在阿切尔·斯隆去世后由戈登·费奇担任，后来一年又一年地顺延，直到系里所有的人都渐渐习惯了一种漫不经心的无政府状态，因此有时有些课排进计划，有人去教，有时做出几项新的员工任命，系里微不足道的小事备受关注，在这种状态下，一年又一年地过去了。总体上大家都能理解，要尽快任命一个新的长久的系主任，这样就可以让费奇接任文理学院的院长，这个职位他其实还没有掌握实权。乔赛亚·克莱蒙特威胁不会死，虽然在大楼里已经很少再见到他蹒跚而行。</p>
<p>系里的员工都各行其是，教着前一年上的课，课间互相串串办公室的门子。他们只在每学期开始的时候才集体正式聚会一次，戈登·费奇称之为临时系务会。在那种场合，研究生院的院长会给发些备忘录，要求他们给快要完成学业的研究生举行答辩和论文考试。</p>
<p>这种考试占去斯通纳越来越多的时间。让他吃惊的是，作为一个老师，他开始享受某种的适度的声望了，他得拒绝要来上他开的拉丁传统和文艺复兴文学的研究生班的学生，他的本科生概论课总是人满为患。几个研究生要求他指导论文，还有些请他担任自己的论文答辩会委员。</p>
<p>1931年秋季，研讨班甚至在报名之前就差不多人满了，许多学生在前一学年末或者暑期就安排好了上斯通纳的课。新学期开始一个星期，而且在研讨班已经举行过一次讨论后，一个学生走进斯通纳的办公室，请求允许上这门课。</p>
<p>斯通纳坐在办公室桌前，眼前放着一份研讨班的学生名单，他正打算为他们确定研讨班的任务，这是桩很棘手的事儿，因为许多人都是新生。这是九月的一天下午，他开着靠桌的窗户，大楼的正面沉浸在阴影中，所以，前面的绿色草坪映现出大楼的精确形象，半圆形的拱顶和不规则的屋顶轮廓线让绿色变得更暗淡，不知不觉地向外爬出校园，留在外面。一阵凉爽的微风穿过窗户流进来，带来秋天清新的芳香。</p>
<p>一阵敲门声传来，他转向开着的门说，“进来。”</p>
<p>从过道的黑暗中闪出一个人影出现在办公室的明亮中。斯通纳对着那片黑暗昏昏欲睡地眨巴了几下眼，认出是一个学生，他在楼道里见过，但并不认识。这个年轻人的左臂僵硬地垂在体侧，走路时拖着左脚。他脸色苍白，面庞圆乎乎的，角质边的眼镜也是圆的，稀薄的黑发在一侧精准地分开，紧贴着倒向圆圆的头骨。</p>
<p>“是斯通纳博士吗？”他问道，声音细弱又短促，他说话时发音清清楚楚。</p>
<p>“是的，”斯通纳说，“你找个椅子坐会儿吧？”</p>
<p>年轻人放低身段坐在斯通纳办公桌旁边的一把木质靠背椅里，他的双腿呈一条直线状伸出来，那只永远拧成一个半握拳头的左手，放在那条腿上。他笑着，快速地摆着脑袋，用一种奇怪的自贬口吻说：“你也许不认识我，先生，我叫查尔斯·沃尔克。我是二年级的博士生，协助劳曼克思博士工作。”</p>
<p>“哦，沃尔克先生，”斯通纳说，“我能为你做点什么吗？”</p>
<p>“嗯，我来这儿是想请你帮个忙，先生。”沃尔克又笑了，“我知道你研讨班的人已经满了，可是我非常想上这门课。”他停顿了下，然后直截了当地说，“劳曼克思博士建议我来跟你说一说。”</p>
<p>“我明白了，”斯通纳说，“你主攻的专业是什么，沃尔克先生？”</p>
<p>“浪漫派诗人，”沃尔克说，“劳曼克思博士将担任我的论文导师。”</p>
<p>斯通纳点点头。“你打算多久完成必须的课业要求？”</p>
<p>“我希望在两年内吧。”沃尔克说。</p>
<p>“哦，这样会更从容些。”斯通纳说。“我每年都开研讨班的课。现在真是太满了，作为一个研讨班几乎都办不下去了，不止一个人要完成这个活儿。如果真想上这门课，你干吗不等到明年呢？”</p>
<p>沃尔克的目光从他身上移开。“嗯，坦率地讲，”他说，然后又绽放出微笑，“我是一场误会的受害者。当然，全是我的错。我没有想到每个博士生为了拿到学位至少得上过四个研讨班的课，我去年压根就没有上过一个班。你知道，他们不许每学期选修的研讨班课超过一个以上，所以，如果要两年内毕业，我这个学期就得选一门研讨班的课。”</p>
<p>斯通纳叹了口气。“我知道了。所以你并不是真正对拉丁传统的影响有什么特别的兴趣了？”</p>
<p>“噢，感兴趣，先生。真的感兴趣，这门课对我的论文会有很大帮助。”</p>
<p>“沃尔克先生，你应该知道，这是一门非常专业化的课，我并不鼓励人们去听，除非他们有特别的兴趣。”</p>
<p>“是的，先生，”沃尔克说，“我向你保证，我真的有特别的兴趣。”</p>
<p>斯通纳点点头，“你的拉丁文怎么样？”</p>
<p>沃尔克晃了晃头。“哦，挺好，只是，我还没有参加拉丁文考试，但阅读拉丁文没问题。”</p>
<p>“你会法语或者德语吗？”</p>
<p>“噢，会，先生。同样，我还没有参加考试，我想今年底同时都能过，不过，我能流畅地阅读这两种语言。”沃尔克停顿了下，又补充了一句：“劳曼克思先生说，他认为我肯定能跟上研讨班的课。”</p>
<p>斯通纳叹了口气。“很好，”他说，“大量的阅读内容都将是拉丁文学的，有少量法语和德语，但没有这些你也能过。我会给你一个阅读书目，下周三我们再商量你的研讨题目。”</p>
<p>沃尔克热情地谢过斯通纳，然后有些困难地从椅子里站起身。“对付阅读我不会有问题，”他说，“我向你保证，让我上你的课，你不会后悔的，先生。”</p>
<p>斯通纳看着他，微微有些惊讶。“这种情况我还没碰到过，沃尔克先生，”他干巴巴地说，“星期三见。”</p>
<p>研讨班的课在杰西楼南侧的一间小小的地下室里开起来。阴湿但不见得多么难闻的气味从水泥墙里渗出来，在光秃秃的水泥地板上，脚步发出空洞的细音拖过去。仅有的一只灯泡从屋子正中间的天花板上挂下来，发着光芒，所以，那些在正中间坐在带桌椅子里的学生在那道强光中昏昏欲睡，但墙壁都呈暗灰色，角落里几乎全为黑色，好像光滑、没有涂过颜色的水泥吸着从天花板上倾斜而下的光。</p>
<p>在第二次星期三的研讨班上，斯通纳晚几分钟走进教室，跟学生们讲完话后，他开始把书和纸摆在那张方方正正地矗立在一堵黑墙中心位置前脏乎乎的橡木桌上。他看了眼散落在教室各处的这一小群人。有些他认识，有两个博士生，他负责指导他们的学习，另外四个是系里的硕士生，跟他读完本科生的课，剩余的学生有些是想拿现代语言的高级学位的候选生，有一个是在写经院哲学论文的学哲学的学生，另外一个是位中年妇女，一个高中老师，想利用公休时间拿一个硕士文凭，最后一个是位长着黑头发的年轻女子，系里新来的讲师，在东部一所大学读完必修课程后，在完成一篇论文期间找了份工作干两年。她问斯通纳能不能来听研讨班的课，他同意说不妨来听听。查尔斯·沃尔克不在这群人中。斯通纳等了好几分钟，翻阅着那些稿纸，后来他清了清嗓子说开始讲课。</p>
<p>“在第一堂课上，我们讨论了这门课的范围，决定把中世纪拉丁传统的研究限定在文科七艺的前三艺上——即语法、修辞和论理。”他停顿了下，看着这几张脸——带着试探、好奇的表情，如同面具——全专心向着他，听着他讲的内容。</p>
<p>“这种限定对你们中的某些人来说也许严苛得有些愚蠢，可是我不怀疑，我们会发现有足够多的东西可供我们掌握，哪怕只是浮光掠影地追溯下这三学科到16世纪。重要的是我们会认识到语法、修辞、论理这些艺术对一个中世纪晚期和文艺复兴早期的人是很有意义的，我们在当代只能隐隐约约感觉到这点，即便没有受过历史想象力的训练。对这样一个学者而言，举例说，语法艺术就不仅仅是一种对言语各个部分的机械处理。从希腊化时代晚期到整个中世纪，对语法的研究和实践不仅仅包括柏拉图和亚里士多德提到的‘书面的艺术’。同时还包括，而且这点变得至为重要，包括诗歌技术得体性的研究，对诗歌形式和内容的诠释，以及风格的微妙特点，乃至区别于修辞的东西。”</p>
<p>他感觉自己对这个主题渐渐热络起来，发觉几个学生已经向前倾过来，停下来不记笔记了。他继续说：“再者，如果我们生活在20世纪，被问到这三艺中哪项最重要，我们可能会选择论理，或者修辞——我们最不可能选择的是语法。可是罗马和中世纪的学者——包括诗人——几乎肯定会认为语法最重要。我们必须记住——”</p>
<p>一声响亮的噪音打断了他的演说。门打开了，查尔斯·沃尔克走进教室；他关门时夹在那条残疾的胳臂底下的书滑落下来，砸到地板上。他笨拙地弯下腰，那条坏腿在身后拖着，慢慢地收拾起书和纸。接着他自己把身子拉直了，拖着步子走过教室，他的脚刮擦光水泥地时发出一阵响亮刺耳的嘶嘶声，在教室里听上去空洞地咝咝作响。他在前排找了把椅子坐下。</p>
<p>沃尔克把自己弄安稳了，把带椅桌上的纸和书都弄整齐后，斯通纳继续往下讲：“我们必须记住，中世纪的语法概念要比古希腊晚期或者罗马时代的概念更宽泛。它不仅包括正确讲话的科学和诠释的艺术，同时还包括现代的类比、词源学、陈述、结构的方法，诗体所许可的条件，以及那种条件下的多种例外——甚至隐喻语言或者言语的修辞格。”</p>
<p>斯通纳继续继续讲着，勾勒着他名之为语法的范畴，这时他的目光从全班同学头上掠过去，他发觉，沃尔克进来时他忘了要讲的东西，而且也知道得过会儿才能说服它们自行出来。他的目光一次又一次好奇地落在沃尔克的身上，他急躁地记了会儿笔记后，逐渐把铅笔扔在笔记本上，眼睛盯着斯通纳，带着一丝茫然的不悦。沃尔克终于举起手，斯通纳说完刚开了个头的句子，朝他点点头。</p>
<p>“先生，”沃尔克说，“请原谅我，我真不懂。怎么可能——”他停顿了下，让嘴巴绕着那个词扭曲起来，“语法跟诗歌有关系？我是说本质的关系。真正的诗歌。”</p>
<p>斯通纳温和地说：“在你进来之前，我就解释过了，沃尔克先生，语法这个术语对罗马和中世纪的修辞学家而言，都有着比今天更为宽泛综合的意义。对他们来说，语法意味着——”他停顿了下，意识到他又要重复刚才讲的部分了，他感觉学生们开始烦躁地骚动起来。“我认为，这种关系，随着我们继续讲下去，等我们看到文艺复兴中后期的诗人，甚至剧作家是何等受惠于拉丁的修辞学家后，你就会越来越清楚。”</p>
<p>“他们全都这样吗，先生？”沃尔克笑着在椅子里向后靠过去。“萨缪尔·约翰逊不是说过莎士比亚本人跟拉丁文和希腊传统都没多大关系吗？”</p>
<p>当某种尽量克制的笑声在教室里扰动时，斯通纳感觉一种怜悯涌上心头。“你当然是指本·琼森了。”</p>
<p>沃尔克摘掉眼镜，擦了擦，无奈地眨了几下眼。“当然了，”他说，“舌头打滑了。”</p>
<p>虽然沃尔克打断了好几次，斯通纳还是设法把课讲完，没有碰到太严重的困难，还能顺当地布置第一篇报告的作业。这堂课他提前将近半个小时就结束了。看到沃尔克拖着腿脸上挂着一丝不变的咧嘴而笑的表情向他走来时，他就匆忙离开教室。他咔嗒咔嗒地从地下室踏上木楼梯，然后一次登上两级通向二楼的光滑的大理石楼梯。他有种奇怪的感觉，仿佛沃尔克像狗一般慢腾腾地尾随其后，试图在他飞翔的时候追上来。一股羞愧和内疚感从心中急速地奔涌而出，弥漫全身。</p>
<p>到了第三层后，斯通纳直接走进劳曼克思的办公室。劳曼克思正跟一个学生谈话。斯通纳把脑袋伸进门去说：“霍利，你们结束后我能过来找你一会儿吗？”</p>
<p>劳曼克思和蔼地招招手。“进来吧。我们马上就谈完了。”</p>
<p>斯通纳走进去，当劳曼克思和那位学生在说着最后几句话的时候，他假装看着放在书架上的那一排排书。学生走了后，斯通纳在学生空下的那把椅子里坐下。劳曼克思好奇地盯着他。</p>
<p>“是一个学生的事儿，”斯通纳说，“查尔斯·沃尔克。他说是你打发过来找我的。”</p>
<p>劳曼克思把手指尖扣在一块儿，边点头边专注地望着指尖。“没错。我确实建议过，他也许会在你的研讨班上受益匪浅——什么专题来着——拉丁传统。”</p>
<p>“你能给我介绍些他的情况吗？”</p>
<p>劳曼克思抬起头不看手了，盯着天花板，下嘴唇英明地伸出来。“是个好学生。一个极其出色的学生，我可以这样说。他在写有关雪莱和古希腊理念论的论文。可以想象将非常精彩，真的很精彩。可能算不上人们所说的那种——”他在斟酌这个词时稍事犹豫，“扎实过硬，但肯定极具想象力。你询问他的情况有什么具体原因吗？”</p>
<p>“有，”斯通纳说，“他在今天专题研讨班上的举止相当鲁莽。我在想，其中是否有什么特别用意，不禁让我联系起来。”</p>
<p>劳曼克思刚才还摆出的和蔼消失了，那副更为熟悉的嘲讽式面具从他脸上溜过。“噢，这个，”他带着一丝冷淡的微笑说，“年轻人都是这样，莽撞又傻乎乎的。由于各种你可以理解的原因，沃尔克有些怕生，这很尴尬。所以有时会表现出防卫性，而且过于武断自信。跟我们大家一样，他有自己的问题。但是我希望，不要根据他那些完全可以理解的心理困扰来评判他的学术和批评能力。”他直视着斯通纳说，带着某种欢快的恶意，“你也大概注意到了，他是个跛子。”</p>
<p>“也许吧。”斯通纳意味深长地说。他叹了口气，从椅子里站起来。“我觉得，对我来说如此受到关注，真是太快了点。我只是想来跟你确认下。”</p>
<p>忽然，劳曼克思的声音变得急促起来，几乎带着因为压抑着愤怒而导致的颤抖。“你会发现他是一个超常的学生。我向你保证，你会发现他是个出色的学生。”</p>
<p>斯通纳凝视了他片刻，不解地皱着眉头，然后点了点头，走出房间。</p>
<p>研讨班每星期聚一次。最初的几次课堂聚会，沃尔克总是用各种问题和意见打断授课，而这些问题和评论让人很为难，远远超出了讨论的主题，以至于斯通纳在如何应对这些东西时不知所措。很快，沃尔克的问题和声明就迎来哄堂大笑，或者被学生自己就尖刻地予以蔑视掉，过了几个星期，当研讨班的同学在他周围群情激动时，他就完全不说话了，只是坐在那里，面带难以释怀的愤慨和遭到侮辱后的清高劲儿。斯通纳心想，如果沃尔克的愤怒和憎恨中，有什么东西不要如此赤裸裸，那样也许还会显得很有趣。</p>
<p>虽然有沃尔克搅局，研讨班的教学还是很成功的，是斯通纳教过的最好的课之一。几乎从一开始，这门课的主题的意味就抓住了学生，当一个人发觉近在手边的主题其实就在一个更宏观的主题的中心里，而且当一个人强烈地感觉到对这个主题的探寻很可能引向——什么地方，人们还并不知道时，都会有种恍然若悟的感觉。研讨班自发组织，而且学生都极其投入，斯通纳自己都变成了其中的一员，跟他们一样勤奋地探究着。甚至那位旁听生——那位完成自己的论文期间在哥伦比亚暂时逗留的年轻助教——都提出能否做一个研讨题目的报告。她认为，自己偶然遇到的东西或许对别人也有价值。她名叫凯瑟琳·德里斯科尔，大概二十八九岁的样子。斯通纳从来没有真正注意过她，直到下课后跟他说起做报告的事，并问他自己的论文写完后是否愿意读一读，这才留心起来。斯通纳说很乐意她做报告，也很乐意读她的论文。</p>
<p>研讨班的报告计划安排在本学期的后半段，即圣诞假期过后。沃尔克报告的题目是“古希腊历史主义和中世纪拉丁传统”，应该在本学期早些时候做，但一直拖着，跟斯通纳解释说，很难找到需要的参考书，大学图书馆里借不着。</p>
<p>可以理解，德里斯科尔小姐，作为一个旁听生，将在正式注册学生做完后才会做自己的报告。但是，斯通纳同意研讨班报告的最后一天，在本学期结束前两周截止，沃尔克又恳求允许他宽限一周：他生病了，眼睛不舒服，一本最关键的著作还没有通过馆际借阅拿到手。所以，德里斯科尔小姐就在沃尔克空出的那天做了报告。</p>
<p>她的报告题目是“多纳图斯与文艺复兴悲剧”。她的中心论点是莎士比亚对多纳图斯传统的借鉴，这种传统在中世纪时代的语法和各种手册中持续存在了很久。她开讲后没多久，斯通纳就知道这个报告会很不错，他兴奋地听着，这种激动已经很久没体验过了。她讲完报告后，全班开始讨论。其他学生走出教室后，斯通纳让她多留了会儿。</p>
<p>“德里斯科尔小姐，我只是想说——”他停顿了下，顷刻间尴尬和不自然的浪潮冒了出来。她睁着黑色的大眼睛好奇地看着斯通纳，在头发黑色边际的衬托下，她的脸蛋显得格外白皙，头发紧紧地往后梳过去，在脑袋后面扎成一个小小的圆髻。斯通纳接着说，“我只是想说，你的报告，就我所知，可以说是对这个主题最好的讨论了，我真的很感激，你主动来做这个报告。”</p>
<p>她没有答话，表情毫无变化，但斯通纳刹那间以为她生气了，她的眼睛背后闪烁着某种激情。接着她脸色立刻潮红，低下头，然后匆匆离去，斯通纳不知道这是生气了还是认可。斯通纳慢慢走出教室，心绪难平，感觉困惑不解，害怕自己如此笨拙可能会冒犯了她。</p>
<p>斯通纳曾尽可能温和地提醒过沃尔克，下个星期三必须得提交报告了，如果还想要这门课的分数的话。如他隐约所料，沃尔克对这样的提醒态度冷淡，而且故作恭敬，实则生气，反复说了各种推迟的原因和困难，同时向斯通纳保证，没有必要担心，他的报告快写好了。</p>
<p>星期三最后一堂课，斯通纳因为被一个不顾一切缠着的本科生耽误，迟到了几分钟，这个本科生在他的办公室里待着不走，希望保证他的大二概论课能得一个C，这样就不会被蹬出他参加的联谊会了。斯通纳匆匆下了楼，走进研讨班的地下教室，微微有些气喘。他发现查尔斯·沃尔克坐在自己讲桌前，傲慢又沮丧地看着这群学生。显然，他完全沉浸在某种隐秘的异想天开中。他转过来面向斯通纳，不逊地盯着，好像一个教授在制服一个粗暴好闹的新生。接着沃尔克的表情撑不住了。他说：“我们正要在你缺席的情况下开始呢。”——他在最后一刻把话打住，让一丝微笑溜过嘴唇，接着抖了抖脑袋，又说了句，让斯通纳知道不过是开玩笑——“先生。”</p>
<p>斯通纳盯了他片刻，然后转向全班。“很抱歉我迟到了，你们都知道，沃尔克先生今天要宣读他的研讨班报告，题目是‘古希腊历史主义与中世纪拉丁传统’。”他在第一排找了个座位，挨着凯瑟琳·德里斯科尔坐下。</p>
<p>查尔斯·沃尔克胡乱拨弄了几下眼前放在桌上的几页纸，弄出某种超然感，让这种表情浮现在脸上。他用右手食指敲了敲稿纸，然后朝远离斯通纳和凯瑟琳·德里斯科尔坐的位置的教室一角望着，好像在等什么事情发生，接着，不时扫几眼放在桌上的那叠纸，开始讲了。</p>
<p>“当我们面对文学中的谜题，面对它难以描述的魅力时，我们有责任去揭示这种力量和谜题的根源。但是，说到底，有什么用呢？文学作品在我们面前抛出一张深沉的面纱，我们无法测度。在它面前，我们只有崇拜，在它的摇晃中无可奈何。谁会有那种愚勇揭起那块面纱，去揭开那原本无法揭开的东西，去抵达不可抵达的境界？在那个永恒的神秘面前，我们中最强有力的人都不过是最微不足道的低能儿，都不过是叮作响的钹子和声音浑厚的铜管。”</p>
<p>他的声音忽高又忽低，右手向外伸出，手指灵活地向上弯曲着，身体随着话语的节奏摆动着，眼睛微微上翻，好像在做一场招魂法会。他说的话和做的动作里有种怪异的熟悉感。斯通纳忽然想起那是什么。这是霍利斯·劳曼克思——或者，是对他的一种泛泛的拙劣模仿，而且毫无疑问出自拙劣的模仿，它不是某种轻蔑或者不喜欢的姿态，而是尊重和喜爱的姿态。</p>
<p>沃尔克把声音降到一种交谈的程度，对着教室的后墙发表着演讲，声调中带着理性的镇定与平和。“最近，我们听过一篇报告，就学术思想而言，肯定称得上极为出色。下面的评论并非针对个人。我想举一个观点。我们在这篇报告中听到一种解释，声称是对这种神秘性以及莎士比亚艺术中激昂的抒情性的一种解释。好吧，我要对你们说。”——他伸出一根食指朝观众戳过去，好像要钉住大家——“我要对你们说，事实并非如此。”他往椅子后面一靠，查看着桌上的稿纸。“有人要我们相信，某个多纳图斯——四世纪时一个名不见经传的罗马语法学家——有人要我们相信，这样一个人，一个学究，有足够的力量裁决艺术史上某位最伟大天才之一的作品。对此，难道我们就不能质疑这种理论吗？我们就一定不能质疑吗？”</p>
<p>愤怒，简单，愚钝，这些念头从斯通纳心中涌起，完全占据了他在初听这篇报告时的复杂感觉。他马上就要冲动起来，想打断这场正在上演的闹剧。斯通纳知道，如果他不立刻阻止沃尔克，就无异于纵容他随心所欲地继续讲下去。斯通纳的头微微转过来些，这样就能看清凯瑟琳·德里斯科尔的脸。这张脸安静，不带任何表情，除了一丝礼貌和超然的好奇，那双幽深的眼睛用一种漫不经心、像是倦怠的神色看着沃尔克。斯通纳偷偷地看了她几眼，他发现自己在琢磨她会有何感想，她希望自己采取什么行动。他终于把目光从她身上移开后，意识到自己已经做好决定。他等了太久，居然没有去打断，而沃尔克却正滔滔不绝地大谈吐之而后快的东西。</p>
<p>“……那座雄伟的大厦就是文艺复兴时期的文学，那座大厦的基石就是十九世纪的伟大诗歌。证据问题，与文学批评迥异的乏味的学术路径特有的东西也令人遗憾地缺乏。提供了什么证据认为莎士比亚甚至读过这位名不见经传的罗马语法学家的东西？我们必须记住，是本·琼森——”他稍微犹豫了下，“是本·琼森本人，莎士比亚的朋友和同时代人，说过他没有多少拉丁和希腊的东西。可以肯定的是，琼森把莎士比亚偶像化了，在偶像崇拜的这个方面，他并没有给这位伟大的朋友添加任何没有的东西。相反，他想像我这样指出，莎士比亚激昂的抒情性跟挑灯夜战无关，而是跟一个天才本性卓越，想超越规矩和俗世的律法有关。跟那些更为逊色的诗人不同。莎士比亚并不是天生有着不为人知的羞怯，把自己的温柔浪费在荒凉的空中；那种神秘源泉的养分，所有的诗人都从那里去寻找自己的养料，这位不朽的吟游诗人，又何必要需要这些荒唐可笑的规则，乃至只能从一种语法里去寻找它们？即便他读过多纳图斯的著作，这对他又有什么意义？这位天才是极其稀罕的，他自身就定规矩，无需类似这种向我们描述的‘传统’的支撑，无论它类属于拉丁还是多纳图斯，或者别的什么。天才，激昂，自由，必须……”</p>
<p>等斯通纳已经适应了愤怒时，他发现自己心里悄然产生了一股并不情愿和别扭的佩服之情。无论言辞多么华丽和不够精确，这个人在修辞和虚构方面的本领留下令人惊异的印象；无论多么怪诞，他的气质还是真实的。他眼中有几许冷漠、算计和警惕，有几许毫无必要的鲁莽，同时却又高度谨慎。斯通纳开始觉得他是临时虚张声势，气派如此宏大和无所畏惧，乃至根本就没有现成的手段应付它。</p>
<p>因为，连教室里心不在焉的学生们都很清楚，沃尔克是在进行一场纯属即兴的表演。斯通纳怀疑他自己并没有什么想得很清楚的观点要表达，直到在桌边坐下，以那种冷漠、傲慢的表情看着学生时才知道要讲什么。很显然，他前面放的那叠纸不过是一叠纸而已；讲到热烈激动时，甚至都不看一眼在场的同学们，快要结束演讲时，他既兴奋又冲动，完全把同学们推开，离他远远的。</p>
<p>他讲了将近一个小时。快要结束时，班里的同学都忧虑地面面相觑，简直感觉大家好像陷入某种危险境地，好像琢磨着要逃离，他们小心地回避着，不要去看斯通纳或者这位年轻的女子，她无动于衷地坐在他旁边。突然，好像感觉到了这种不安，沃尔克的演讲收尾了，往桌子后面的椅子背上一靠，然后得意地微笑起来。</p>
<p>沃尔克停止演说的刹那，斯通纳就站起来宣布下课，虽然他并不知道现在已经到了时间，他这样做隐隐约约是为沃尔克着想，这样，就没人有机会去讨论他讲的东西了。接着斯通纳走到沃尔克还坐着的桌子前，问他是不是还要待一会儿。沃尔克的思绪好像还在别的地方，淡淡地点了点头。接着斯通纳转身跟在几个落在后面的学生走出教室来到走廊。他看见凯瑟琳·德里斯科尔就要走了，一个人在过道里走着。斯通纳叫了声她的名字，她站住时，斯通纳走上前去，站在她面前。他跟她说话时，感觉上星期夸赞她的报告时出现的那种不自然又来了。</p>
<p>“德里斯科尔小姐，我——我很抱歉。其实这很不公平。我觉得自己是有责任的。也许我应该及早出面阻止。”</p>
<p>她仍然不回答，脸上同样没有流露出什么表情。她看着斯通纳，就像从教室里远远地看着沃尔克那样。</p>
<p>“说来，”他继续说，而且还更加难为情了，“我很难过，他攻击了你。”</p>
<p>这时她笑了。这是一种慢慢绽放的微笑，先从眼睛里开始，接着在嘴角绽开，最后她的整个脸都萦绕在灿烂、暗自克制和亲密的愉悦中。斯通纳几乎从这种突如其来和不由自主的热情中缩了回去。</p>
<p>“噢，那不是针对我，”她说，收敛的笑声中一丝细微的颤抖让她低沉的声音带上某种特质。“根本就不是针对我。他想攻击的是你。几乎就没有涉及我。”</p>
<p>斯通纳感觉连自己都不知道携带的痛悔和担忧的重负从身上揭掉了，这种放松几乎是生理上的，他感觉脚下顿时轻了，而且还有那么点小小的轻浮。他放声大笑。</p>
<p>“当然了，”他说，“当然是这样。”</p>
<p>那丝微笑很快从她脸上淡去，她严肃地看了斯通纳一会儿，接着摆摆头，转身离去，迅速走进过道。她身材纤细，笔直，举止低调谦逊。斯通纳站在那里朝走廊看了好一阵子，直到她消失。接着他叹息一声，回到沃尔克还等待的教室。</p>
<p>沃尔克在那张桌子前没有挪动。他盯着斯通纳笑着，脸上带着一种顺服和傲慢兼有的奇怪表情。斯通纳在自己几分钟前腾空的椅子里坐下，好奇地打量着沃尔克。</p>
<p>“怎么了，先生？”沃尔克说。</p>
<p>“你想解释一下吗？”斯通纳平静地问。</p>
<p>沃尔克的圆脸掠过一副受到伤害的惊讶神色：“你是什么意思，先生？”</p>
<p>“沃尔克先生，请吧，”斯通纳疲惫地说，“已经这么长时间了，我们都疲倦了。你愿意对今天下午的表演解释一下吗？”</p>
<p>“我肯定，先生，没有故意冒犯的意思。”他摘掉眼镜，迅速擦了擦，接着他脸上那种赤裸裸的粗俗让斯通纳吃了一惊。“我说了，我的意见并不是针对个人。如果有被伤害的感觉，我很乐意向那位年轻女士解释——”</p>
<p>“沃尔克先生，”斯通纳说，“你知道，关键不是这个。”</p>
<p>“这位年轻女士向你抱怨过吗？”沃尔克问道。他把眼镜戴回去时，手指不停地抖着。戴好眼镜后，他的脸又做出生气的愁苦表情。“其实，先生，一个学生觉得自己的感情受到了伤害，这种责怪不应该——”</p>
<p>“沃尔克先生！”斯通纳听到自己的声音有点要失控。他深深地吸了口气。“与这位年轻女士毫无关系，或者跟我自己，跟任何事情都没有关系，只跟你的表演有关。我还想等着听你做出个解释来呢。”</p>
<p>“这样的话，我恐怕完全不理解了，先生，除非……”</p>
<p>“除非什么，沃尔克先生？”</p>
<p>“除非这只是个不同意的问题，”沃尔克先生说，“我明白，自己的观点与你不合，可是我向来认为意见不同是很健康的事情。我以为你心胸开阔足够——”</p>
<p>“我不希望你回避问题。”斯通纳说。他的声音冷漠又平淡。“好吧，给你布置的研讨题目是什么？”</p>
<p>“你生气了。”沃尔克说。</p>
<p>“没错，我生气了。给你布置的研讨题目是什么？”</p>
<p>沃尔克开始生硬地正经和礼貌起来。“我的题目是‘古希腊历史主义与中世纪拉丁传统’，先生。”</p>
<p>“你什么时候完成这个报告的，沃尔克先生？”</p>
<p>“两天前，我跟你说过，差不多在两周前就完成了，可是我要通过内部图书馆借的一本书没有借到，直到——”</p>
<p>“沃尔克先生，如果你的报告是差不多两星期前完成的，你怎么可能把自己的报告完全建立在德里斯科尔小姐的报告之上，而且这个报告是上个星期刚做的？”</p>
<p>“我做了大量修改，先生，在最后时刻。”他的声音开始透出浓重的讽刺味儿。“我认为，这是可以的吧。而且我还不时地脱稿发挥。我注意到，别的学生也这样做，我想这个特权也同样会给我。”</p>
<p>斯通纳克制住几乎是歇斯底里的大笑冲动。“沃尔克先生，能解释一下你对德里斯科尔小姐报告的抨击，与古希腊历史主义在中世纪拉丁传统中的延续有什么关系吗？”</p>
<p>“我是间接靠近主题的，先生，”沃尔克说，“我想，我们可以在形成概念的过程中，允许有一定范围的回旋余地吧。”</p>
<p>斯通纳沉默片刻，接着又疲惫地说，“沃尔克先生，我不喜欢给一个研究生打不及格。特别是不喜欢给一个自己头脑中有点东西的学生打不及格。”</p>
<p>“先生！”沃尔克愤怒地说。</p>
<p>“可是你不让我打不及格却很难。现在，我想到的恐怕只有不多的几个方案可供你选择。我可以给你这门课未完成，咱们达成谅解，你在未来三个星期里提交一篇让人满意、以已经布置的这个题目为主题的报告。”</p>
<p>“可是，先生，”沃尔克说，“我已经做过报告了。如果我同意再做一篇，就等于承认——我就等于承认——”</p>
<p>“好吧，”斯通纳说，“那么，如果你给我看看手稿——今天下午你发挥用的这份手稿——我再看看事情能否挽救。”</p>
<p>“先生。”沃尔克大声喊道，“我还拿不准现在就让它脱手。初稿非常粗糙。”</p>
<p>斯通纳以某种毫不留情，不依不饶的赤裸裸继续说：“没关系。我会从中找到我想要的东西的。”</p>
<p>沃尔克狡黠地看着他。“告诉我，先生，你可曾请别的什么人把手稿交给你吗？”</p>
<p>“没有。”斯通纳说。</p>
<p>“那么，”沃尔克得意地，几乎是快乐地说，“原则上，我肯定也拒绝把我的手稿交给你。除非你要求其他所有的人都把自己的手稿交上来。”</p>
<p>斯通纳定定地看了他会儿。“很好，沃尔克先生。你已经作出决定了。那就这样吧。”</p>
<p>沃尔克说：“我怎么理解这话呢，先生？这门课我能得什么分数？”</p>
<p>斯通纳忽然大笑一声。“沃尔克先生，你真让我好奇。你当然会得一个F。”</p>
<p>沃尔克试图把自己的圆脸拉长了。他露出烈士般耐心备至的痛苦说：“我明白了。很好，先生。一个人必须得准备好为自己的信念忍受痛苦。”</p>
<p>“还要为自己的懒惰和不诚实以及无知忍受痛苦，”斯通纳说，“沃尔克先生，这样讲可能非常肤浅，可我还是要郑重劝告你，重新审视一下你在这里的位置。我严重怀疑，你是否在研究生学业中有位置。”</p>
<p>沃尔克第一次真动情了，愤怒让自己显得几近清高。“斯通纳先生，你太过分了！你不能故意这样做！”</p>
<p>“我肯定就是故意的。”斯通纳说。</p>
<p>沃尔克刹那间安静下来了。他意味深长地盯着斯通纳，然后说：“我愿意接受你给我的分数。但是你必须明白我无法接受这个。你是在质疑我的能力！”</p>
<p>“是的，沃尔克先生。”斯通纳无力地说。他从椅子里站起来。“好了，希望你谅解我……”他已经向门口走去。</p>
<p>可是大声喊叫自己的名字的声音又让斯通纳站住不走了。他回过头。沃尔克的脸变成了一种深红色，皮肤肿胀，所以厚厚的镜片背后的眼睛就像两个小小的圆点。“斯通纳先生！”他又大喊了一声。“这事没完。相信我，这事没完！”</p>
<p>斯通纳麻木地看着他，一点都不觉得奇怪。他失神地点点头，转过身，走出教室来到走廊上。他步履沉重，双脚在光光的水泥地板上慢腾腾地拖着。他的感觉已经透支了，感觉非常苍老和疲惫。</p>
<p>然而他并没有听到这事还有什么没完。</p>
<p>那学期结束日星期五过后，星期一他就把分数发了回去。这是他教学活动中最不喜欢的部分，总是尽可能迅速把这件事办完了。他给了沃尔克F，对这事儿也没有再去多想。两个学期之间的那一周的大部分时间他都用来读两稿中的初稿，这一稿应该最迟在春季提交。这稿写得很拙劣，需要他更加费心。沃尔克事件已经从他头脑中挤了出去。</p>
<p>但是，第二学期开学两个星期后他又想起了这事。一天早晨，他在邮箱里发现有一张戈登·费奇写的纸条，请他在方便的时候顺便来办公室聊聊。</p>
<p>戈登·费奇和威廉·斯通纳之间的友谊已经达到了这样的程度，所有这些维系了很久的关系，都出现了。它随意而深沉，那种亲密如此小心，几乎没有了个人色彩。他们很少互相有社交性的看望，但卡罗琳·费奇偶尔会临时来拜访下伊迪丝。他们聊天时就回忆下自己年轻时代，各自都会想起在另外那个时代眼中对方的样子。</p>
<p>刚刚进入中年，费奇就已经有了使劲想控制体重的那种人特有的挺得板直的柔和风度。他的脸庞宽大粗厚，而且已经没有了棱角线条，面颊已经开始下垂，脖子后面的肉开始成团地堆积起来。头发稀薄，他开始梳理了，这样秃顶看着还不是那么太明显。</p>
<p>斯通纳去费奇办公室的那天下午，两人热情地聊了会儿自己家里的情况。费奇仍然保持着那种轻松的默契，假装斯通纳的婚姻还很正常。而斯通纳则一如既往声称不敢相信戈登和卡罗琳会是两个孩子的父母，大些的那个已经上幼儿园了。</p>
<p>两人把各自的那种习惯性姿态调整到很随便的亲密状态后，费奇心烦意乱地望着窗外说：“瞧，我想要跟你说什么来着？噢，是这样。研究生院的院长——他心想，因为我们是朋友，我应该跟你提提这事。也没什么大不了的。”他看着自己备忘录册子里的一张纸条。“其实就是一个怒气冲冲的研究生，觉得你在上学期教的一门课上对他太苛刻了。”</p>
<p>“沃尔克吧，”斯通纳说，“查尔斯·沃尔克。”</p>
<p>费奇点点头。“是这位。他是怎么个情况？”</p>
<p>斯通纳耸耸肩。“我能告诉的只有，他压根就没有做布置给他的阅读——是在我的拉丁传统研讨班上。他想混过研讨报告，我给了他机会，要么重写一个，要么把报告的原件拿出来，他拒绝了。我别无选择，只有给他打不及格。”</p>
<p>费奇又点点头。“我想可能就是这种事儿吧。天知道，我希望他们不要拿这种事浪费我的时间。可是又还得核实清楚，主要是为了保护你。”</p>
<p>斯通纳问：“有什么——特别为难之处吗？”</p>
<p>“没有，没有，”费奇说，“完全没有。只是抱怨而已。你知道这种东西是怎么回事儿。其实，沃尔克读研究生时在这儿选的第一门课得了个C。如果我们想要这样做的话，他可能会立刻被踢出这个项目。但是，我想，我们可以考虑让他参加下个月的预答辩，到时候让事实说话。实在抱歉，我拿这种事来打扰你。”</p>
<p>他们又聊了些别的话题。然后，正当斯通纳要离去时，费奇热情地留住他。</p>
<p>“噢，还有别的事儿，我也想跟你说说。校长和领导班子最终决定，克莱蒙特的事情还是要解决。所以我想，从明年开始，我就要担任文理学院的院长了——正式。”</p>
<p>“我很高兴，戈登，”斯通纳说，“是时候了。”</p>
<p>“所以，这就意味着我们得弄个新的系主任。你对此有什么想法吗？”</p>
<p>“没有，”斯通纳说，“我真的毫无想法。”</p>
<p>“我们要么从系外找，招个新人进来，要么就是找个现成的人当主任。我一直在琢磨，想心里有个底儿，如果我们真的从系里选个什么人——嗯，你对这个活儿看上眼吗？”</p>
<p>斯通纳想了想。“我没想过这个，不过——没有。算了，我想自己没有这个意愿。”</p>
<p>费奇的释然如此明显，斯通纳都笑了。“好吧。我想你也不愿意干。那意味着会有大堆破事儿。应酬招待，社交往来，还有——”他把目光从斯通纳身上移开。“我知道你不愿意掺和那种事情。但是，自从老斯隆死了，自从希金斯和那叫什么名字来着，库珀，去年退休后，你就是系里的老资格员工了。但是，既然你眼里不贪这个，那就——”</p>
<p>“算了，”斯通纳很肯定地说，“我可能会成为一个很烂的系主任。我既不期待，也不想要这项任命。”</p>
<p>“好吧，”费奇说，“好吧。这样事情就简单多了。”</p>
<p>他们互相道过别，斯通纳一度忘了这次谈话。</p>
<p>查尔斯·沃尔克的综合预答辩安排在三月中旬，让斯通纳有些吃惊的是，他收到费奇的通知说他将是考查沃尔克的三人委员会的成员。他提醒费奇他给沃尔克打了不及格，而且沃尔克个人接受了不及格，他请求放弃这个特殊的任务。</p>
<p>“规矩啊，”费奇叹了口气说，“你知道是怎么回事。委员会由候选人的导师，他的研讨班的一名任课教授，这个专业外的一个构成。劳曼克思是导师，你是他上的唯一一门研讨班课的老师，我已经找了个新人，吉姆·霍兰，作为他专业外的评委。研究生院的院长卢瑟福和我将列席。我想尽量别有什么痛苦就过了。”</p>
<p>然而这将是一场考验，不可能没有痛苦就过了。虽然斯通纳希望尽量少提些问题，但预答辩的管理规则并不灵活。每个教授允许有40分钟的时间向候选人提他想提的任何问题，虽然其他教授都是照例参加。</p>
<p>安排考试的那天下午，斯通纳特意晚到杰西楼三层的研讨室。沃尔克坐在一张长长的、擦得锃亮的桌子旁边。四个考官已经到场——费奇、劳曼克思，那位新人霍兰，还有亨利·卢瑟福——从沃尔克开始，依次顺着桌子坐定。斯通纳从门里溜进来，在桌子头上沃尔克的对面一把椅子里坐下。费奇和霍兰朝他点点头，劳曼克思沉重地塌在椅子里，直视着前方，长长的白白的手指轻轻叩着明镜般的桌面。沃尔克扫了眼整张桌子的阵容，他的脑袋僵硬地高昂着，流露出几分冷冷的蔑视劲。</p>
<p>卢瑟福清了清喉咙。“噢，先生——”他看了眼摆在前面的纸，“斯通纳先生。”卢瑟福稀疏的头发有些灰白，肩膀浑圆，眼睛和眉毛朝靠外的眼角两边垂着，所以他的表情看上去总是一副温柔的绝望模样。虽然他认识斯通纳多年，但永远记不住名字。他又清了下喉咙。“我们这就开始吧。”</p>
<p>斯通纳点点头，把前臂搭在桌子上，手指扣在一起，当卢瑟福的声音嗡嗡嗡地穿过答辩的正式预备程序时，他凝望着自己的手指沉思着。</p>
<p>沃尔克先生正在接受考查（卢瑟福的声音降成一种四平八稳、调门毫无变化的哼哼声）以确定他有没有继续在密苏里大学英文博士班读下去的能力。所有博士候选人都要参加这项考试，它设计的初衷不仅仅是要判断候选人的整体适宜性，同时用来明确优点和不足，这样他未来的学习方向就可以得到有益的引导。有三种可能的结果：一是通过，一是有条件通过，一是不通过。卢瑟福描述着这些可能性的术语，也不抬头看看就对考官们和这位候选人进行礼节性的介绍。接着他把那页纸推开，绝望地看着自己周围的那些人。</p>
<p>“根据惯例，”他柔和地说，“候选人的论文导师开始提问。先生。”——他又瞥了眼那张纸——“劳曼克思先生是，我想，是沃尔克先生的导师。所以……”</p>
<p>劳曼克思的头抽搐般向后仰去，好像打盹时突然醒来。他环顾了下桌子四周，眨巴着眼睛，嘴唇上浮出一丝微笑，可是他的眼睛依然保持着犀利和警惕。</p>
<p>“沃尔克先生，你打算写一篇关于雪莱与古希腊理念论的论文，想必你不可能已经把这个课题思考得十分透彻了，但是不妨给我们介绍一下有关背景，你选做这个题目的原因，等等。”</p>
<p>沃尔克点了点头，开始快速地讲起来。“我想追溯下雪莱在《解放了的普罗米修斯》的‘智性美礼赞’中，因为一个多少有些柏拉图色彩的理念，通过对那种理念的娴熟应用，对戈德温决定论所做的首次否定，这部诗剧是他早期无神论、激进主义、基督教以及科学决定论的全面综合，最终解释在诸如《希腊》这样的晚期作品中提出的理念的衰落。在我心目中，这是一个很重要的题目，原因有三：首先，它能揭示雪莱的思想特质，因此引领我们对其诗歌进行更深入的理解；其次，它可以揭示19世纪初期主流哲学和文学的冲突，因此拓展我们对浪漫派诗歌的理解和欣赏；第三，这个题目与我们自己的这个时代有特殊关系，在这个时代，许多冲突与雪莱和他同时代的人面临的冲突一样。”</p>
<p>斯通纳听着，他这样听着的时候，渐渐惊愕起来。他无法相信此人与选修他研讨班课的竟是同一个人，那个他教过并且熟悉的人。沃尔克的陈述流畅、直接、充满智性，有时，几乎可谓才华横溢。劳曼克思说得对，如果这篇论文实现了它期许的目标，将会非常精彩。希望、温暖和喜悦之情涌上他的心头，他专心致志地向前倾过去。</p>
<p>沃尔克对论文主题的介绍花了大约有十分钟，接着戛然而止。劳曼克思迅速又问了一个问题，沃尔克立刻做出回应。戈登·费奇盯着斯通纳的眼睛，投去淡淡的质问的一瞥。斯通纳微微笑了笑，略带自嘲的意味，然后微微耸了耸肩膀。</p>
<p>当沃尔克再次停住时，吉姆·霍兰立刻讲话了。他是个瘦削的年轻人，热情、脸色苍白，两只蓝眼睛略微向外突出。他说话时故意放慢语速，声音好像面对某种强有力的遏制而总是颤抖不已。“沃尔克先生，你提到稍早些的戈德温的决定论。我不知道你能否把它与约翰·洛克的现象主义联系起来做一分析？”斯通纳记得霍兰是个18世纪研究专家。</p>
<p>沉默片刻。沃尔克转向霍兰，把圆眼镜摘下，擦了擦，眼睛眨了几下，漫无目标地盯着。他又把眼镜戴回去，又眨了几下眼。“请你再重复下问题。”</p>
<p>霍兰又开始说起来，但劳曼克思打断了。“吉姆，”他和蔼地说，“你不介意的话，我再把这个问题引申一下？”不等霍兰回答，他就迅速转向沃尔克。“沃尔克先生，从霍兰教授的问题的意义接着往下说——名义上，戈德温接受洛克的知识的情感本质论——the tabula rasa，诸如此类的说法——而且戈德温跟洛克一样相信，被偶然的激情和不可避免的无知歪曲了的判断和知识可以通过教育纠正过来——考虑到这些言外之意，你能谈谈雪莱的知识原理——特别是，美的原则——在《阿多尼斯》最后一节引的那句诗吗？”</p>
<p>霍兰在椅子里往后靠过去，脸上露出不解的愁容。沃尔克点了下头，滔滔不绝地说：“虽然《阿多尼斯》开始的那一节，雪莱献给他的朋友和伙伴约翰·济慈的致辞，传统上是很经典的，那些对母亲、时光，对乌拉尼亚等等的暗示，还有他们的反复祈祷——真正经典的时刻，直到最后一节才出现，这一节事实上是对美的永恒原则的崇高礼赞。如果允许的话，我们不妨花片刻工夫把注意力集中到这几行著名的诗句上来：</p>
<p>生活，犹如多彩玻璃的穹顶，</p>
<p>玷污了永恒的洁白光彩，</p>
<p>直到死神将其踩成碎片。</p>
<p>“在这几行诗里，象征主义的意味并不清晰，除非我们放在整体背景中来理解。‘只有一还幸存着’，雪莱早先写了这几行，‘而多已改变和消逝。’我们会想起济慈同样著名的诗：</p>
<p>‘美就是真，真就是美，’——这就是</p>
<p>你在人世知道的一切，你需要</p>
<p>知道的一切。</p>
<p>“那么，这个原则就是美，但美又是知识。这是一个其来有自的概念……”</p>
<p>沃尔克的声音继续回响着，流畅又充满自信，从他快速活动的嘴里吐出的每个词几乎好像——斯通纳坐不住了，刚刚从心里萌生的希望跟它突然出现时一样，又突然破灭了。一瞬间，他几乎有种生理上的不舒服。他向下看着桌子，看到两臂间自己的脸影反射在锃亮的栗色桌面上。影子黑乎乎的，几乎认不出五官，好像看到一个鬼魂隐隐约约从硬木中闪出来，过来迎接他。</p>
<p>劳曼克思的提问结束，霍兰开始了。斯通纳得承认，这是一场控制得游刃有余的表演，毫不唐突，充满了某种巨大的魅力和不错的幽默感，劳曼克思全盘掌控着。有时，当霍兰提一个问题时，劳曼克思装出一副善意困惑的模样，请求澄清。别的时候，又为自己的热情表示抱歉，拿自己的某个猜度跟一下霍兰的某个问题，把沃尔克拽进讨论中，这样一来他好像成为一个实际参与者。他经常换种措辞提问（不断地致歉），把问题变换一下，这样本来的意图又消失在解释中了。他把沃尔克带入貌似复杂的理论辩解中，而主要说话的则是他本人。最后，仍然道着歉，拿自己的问题切进霍兰的问题，把沃尔克引到他想让去的方向。</p>
<p>这段时间，斯通纳一直默不作声。他听着萦绕在自己周围的对话；他盯着费奇的脸，现在已经变成一副厚重的面具；他看看卢瑟福，紧闭双眼坐着，微微颔首。他看着霍兰的狂乱激动，看着沃尔克谦恭有礼的傲慢，看着劳曼克思狂热的兴奋。他等着自己知道必须要做的事情，他怀着随着时间每分每秒流逝而日益强烈的厌恶、愤怒和悲哀心情等待着。他很高兴，这样凝视的时候，他们谁的目光都不曾跟他相遇。</p>
<p>终于，霍兰提问的时间段结束了。好像要加入斯通纳感觉的厌恶中，费奇看了眼手表，点了下头。他没有说话。</p>
<p>斯通纳深呼一口气。他仍然看着桌子镜子般光洁的表面里自己脸上的鬼影，面无表情地说：“沃尔克先生，我想问你几个有关英国文学的问题。这些问题都挺简单，不需要过于复杂的回答。我会早点开始，然后按照时间顺序往前推进，只要时间允许我这样做。你能向我描述下盎格鲁-撒克逊的诗韵格律吗？”</p>
<p>“可以，先生。”沃尔克说。他脸皮僵硬。“最初盎格鲁-撒克逊诗人，正如他们在蒙昧时代生活的那样，并没有情感的优势，像后来的英国传统中的诗人一样。的确，我应该说，他们的诗歌具有鲜明的原始主义特征。但是，在这种原始主义内部却有潜在的活力，虽然可能，对某些人的眼睛而言是隐蔽的，但还是有潜在活力，即感觉的微妙性，这是需要提炼总结的——”</p>
<p>“沃尔克先生，”斯通纳说，“我问的是诗韵格律。你能给我讲讲吗？”</p>
<p>“好的，先生，”沃尔克说，“非常粗略和不规律。诗韵，我是说。”</p>
<p>“这就是你能告诉我的全部吗？”</p>
<p>“沃尔克先生，”劳曼克思急着说——有一点点慌乱，斯通纳心想——“你所说的这种粗略——你能解释下这个意思，给——”</p>
<p>“不用。”斯通纳坚定地说，谁也不看。“我只想让他回答我的问题。这就是你能告诉我的有关盎格鲁诗韵的全部吗？”</p>
<p>“嗯，先生。”沃尔克说。他笑了笑，接着微笑变成神经质的咯咯声。“坦率地说，我还没有上盎格鲁-撒克逊方面的必修课，我拿不准，有没有那种资格探讨这种问题。”</p>
<p>“很好。”斯通纳说。“我们跳过盎格鲁-撒克逊文学。你能给我说出一部对文艺复兴时期戏剧的发展产生过影响的中世纪戏剧吗？”</p>
<p>沃尔克点点头。“当然可以，所有中世纪的戏剧，以自己的风格方式，对文艺复兴的巨大成就做出过贡献。很难想象，莎士比亚的戏剧会从中世纪的贫瘠土壤里生发出来，仅仅过了几年，就开花和——”</p>
<p>“沃尔克先生，我问的问题很简单。我必须要求答案也很简单。我可以把这个问题提得更简单。说出三部中世纪的戏剧名称。”</p>
<p>“早期还是后期，先生？”他又摘掉眼镜，急躁地擦起来。</p>
<p>“任意三部，沃尔克先生。”</p>
<p>“太多了，”沃尔克说，“很难——有《凡人》……”</p>
<p>“你能再多举几部吗？”</p>
<p>“不能了，先生，”沃尔克说，“我必须坦率承认在这个领域的弱点，你——”</p>
<p>“你能说出任意几部中世纪其他文学作品的名称吗——只要名称？”</p>
<p>沃尔克的手开始抖起来。“我说了，我必须承认弱点，在——”</p>
<p>“那我们就来谈谈文艺复兴时期。你觉得在这个时期，你最自信的体裁是哪种，沃尔克先生？”</p>
<p>“是——”沃尔克犹豫不决，但又求救似的看着劳曼克思，“是诗歌，先生。或者——戏剧。戏剧，也许。”</p>
<p>“那就戏剧吧。用英语写的第一部以素体诗形式写成的悲剧是什么，沃尔克先生？”</p>
<p>“第一部？”沃尔克舔了下嘴唇。“学术界在这个问题上有分歧，先生，我不知道该——”</p>
<p>“你能说出任意一部莎士比亚之前的重要戏剧吗？”</p>
<p>“当然可以，先生，”沃尔克说，“有马洛——最精彩的台词——”</p>
<p>“请说出几部马洛戏剧的名称”。</p>
<p>沃尔克使劲把自己一缩。“当然，最著名的有《浮士德博士》，还有——还有——《马尔菲的犹太人》。”</p>
<p>“是《浮士德悲剧》和《马耳他的犹太人》。你还能多说几部吗？”</p>
<p>“坦白地说，先生，这是我去年有机会重读的仅有的两部戏。所以我更愿意不要——”</p>
<p>“好的。跟我讲讲《马耳他的犹太人》的内容。”</p>
<p>“沃尔克先生，”劳曼克思大声喊道，“允许我把这个问题再说开些。如果你想——”</p>
<p>“不用！”斯通纳无情地说，也不看劳曼克思。“我要回答我的问题。沃尔克先生？”</p>
<p>沃尔克绝望地说，“马洛最精彩的台词——”</p>
<p>“我们且不提‘最精彩的台词’，”斯通纳疲惫地说，“这部戏里都发生了些什么？”</p>
<p>“嗯，”沃尔克有些慌张地说，“马洛批判了反闪米特主义的问题，正如它在16世纪早期自行宣称的那样。这种同情，我甚至可以说，这种深刻的同情——”</p>
<p>“不要紧，沃尔克先生。我们继续来——”</p>
<p>劳曼克思大声说，“让候选人回答问题！至少给他时间回答。”</p>
<p>“很好，”斯通纳轻描淡写地说，“你还想继续刚才的回答吗，沃尔克先生？”</p>
<p>沃尔克犹豫了下。“不了，先生，”他说。</p>
<p>斯通纳毫不留情地继续提问。对沃尔克和劳曼克思两人的怒火和愤慨化作一种怜悯和病态的内疚。过了会儿，斯通纳好像觉得自己又出神游离出来了，他仿佛听到一个声音反反复复地说着什么，没有感情色彩，死气沉沉令人厌烦。</p>
<p>他终于听到这个声音说，“好吧，沃尔克先生。你的专业时代段是十九世纪。你好像对更早世纪的文学了解得不多，也许你对浪漫派诗人感觉更加裕如些。”</p>
<p>他尽量不去盯着看沃尔克的脸，可是他又无法阻止眼睛不时地抬起来看到那张圆圆的盯着人的面具，给他的脸装上一种冷漠、苍白的恶意。沃尔克草草地点了点头。</p>
<p>“你熟悉拜伦勋爵的许多重要诗歌，没错吧？”</p>
<p>“是的。”沃尔克说。</p>
<p>“那麻烦你评点一下‘英国吟游诗人和苏格兰评论家’可以吗？”</p>
<p>沃尔克怀疑地看了看他。然后，他得意地笑了。“噢，先生。”他说，接着猛然点了几下头。“我明白了。现在我才明白了。你是想戏弄我。当然可以。《英国吟游诗人和苏格兰评论家》根本就不是拜伦写的。是济慈在第一批诗发表后，对那些试图玷污他诗人声名的记者的著名答复。很好，先生。很——”</p>
<p>“好了，沃尔克先生，”斯通纳疲惫地说，“我没有别的问题了。”</p>
<p>在这伙人中出现了片刻沉默。接着卢瑟福清了下喉咙，翻着前面桌上的纸说，“谢谢你，沃尔克先生。请你去外面散会儿步，等一等，委员会要讨论你的考试情况，到时通知你决定。”</p>
<p>卢瑟福花了几分钟的时间讲了些必须要说的话，沃尔克恢复了镇定。他站起来，把那只残疾的手搁在桌面上。他几乎是屈尊地对这伙人笑了笑。“谢谢大家，先生们。”他说。“这是一次最有价值的经历。”他一瘸一拐地走出房间，掩上身后的门。</p>
<p>卢瑟福出了口气。“好了，先生们，有什么意见要发表吗？”</p>
<p>又一阵沉默笼罩在教室上空。</p>
<p>劳曼克思说：“我认为，他在我的考查环节表现相当好。霍兰部分也很好。我得承认，考试后半部分的表现我有些失望，但我想象那时他已经非常疲惫了。他是个好学生，但在可能出现的压力下表现不够出色。”他冲斯通纳露出一丝空洞、苦涩的微笑。“而且，你对他造成些许压力，比尔。你必须承认这个。我赞成通过。”</p>
<p>卢瑟福说：“先生——霍兰先生呢？”</p>
<p>霍兰的目光从劳曼克思身上移向斯通纳，他正愁眉苦脸不知所措，眨巴了几下眼睛。“可是——嗯，我好像觉得他太差了。我不知道该怎么办。”他别扭地克制着。“这是我坐在这儿参加的第一次口试。我真不知道该以什么为标准，可是——嗯，他好像太差了。让我考虑会儿。”</p>
<p>卢瑟福点点头。“先生——斯通纳先生呢？”</p>
<p>“不过，”斯通纳说，“显然过不了。”</p>
<p>“噢，拜托，比尔，”劳曼克思大声说，“你对这孩子有些苛刻，对吧？”</p>
<p>“没有。”斯通纳平淡地说，他的目光看着前方。“你知道我没有，霍利。”</p>
<p>“你这是什么意思？”劳曼克思问，他好像试图通过抬高声调来在自己的话音中制造某种情绪。“你到底是什么意思？”</p>
<p>“别这样说，霍利。”斯通纳疲惫地说。“这个人毫无才能。这点没有疑问。我问他的问题都是应该向一个中等水平本科生问的问题。他是一个问题都没有令人满意地回答出来。他既懒惰又不诚实。在上学期我的研讨班上——”</p>
<p>“你的研讨班！”劳曼克思唐突地笑了下。“哦，听过那件事。再说了，这是另一码事。问题是，他今天的表现如何。很显然——”他的双眼眯缝起来，“很显然，他今天的表现始终都很好，直到你开始为难他。”</p>
<p>“我问了他几个问题，”斯通纳说，“都是我能想得出的最简单的问题。我准备要给他机会的。”他停顿了下，又小心地说，“你是他的论文导师，很自然，你们两个应该反复交流过他的论文主题。所以，当你基于他的论文提问时，他的表现很好。可是当我们超出这个——”</p>
<p>“你什么意思！”劳曼克思吼道。“你是在暗示我——暗示有什么——”</p>
<p>“我什么都没有暗示，只想说，依我看，这位候选人的表现不如意。我不同意他通过。”</p>
<p>“瞧，”劳曼克思说，他的声音已经镇定下来，想弄出点微笑，“我看出来了，我对他的学业评价比你高一点。他上过我的几门课，而且——没关系。我想折中下。虽然我觉得这太苛刻，我愿意给他一个有条件通过的机会。这意味着他可以复读几个学期，然后他——”</p>
<p>“好吧，”霍兰有些释然地说，“这样好像比给一个毫不含糊的通过要好些。我不认识这个人，但显然他还没有准备好去——”</p>
<p>“好了。”劳曼克思说，充满活力地冲霍兰笑着。“那就这样定了。我们来——”</p>
<p>“不行，”斯通纳说，“我必须投不过票。”</p>
<p>“老天啊，”劳曼克思大声说，“你想到过你这是干吗啊，斯通纳？你知道你在对这孩子干什么吗？”</p>
<p>“当然，”斯通纳平静地说，“我对他感到挺抱歉。我这是阻拦他拿这个学位，我这是阻拦他在某个学院或者大学教书。说穿了我就是想这样做。对他来说，要是当上教师，那将是一场——灾难。”</p>
<p>劳曼克思非常镇定。“这是你的最后定论了？”他冷冷地问道。</p>
<p>“是的。”斯通纳说。</p>
<p>劳曼克思点点头。“好吧，我提醒你，斯通纳教授，我不想让这件事就这样过去。你干了——你今天在这儿暗示了好几项指控——你暴露出某种偏见，这是——这是——”</p>
<p>“先生们，好了，”卢瑟福说，他那样子简直快要哭了，“我们不妨保留自己的观点。你们知道，候选人要通过，必须一致同意。我们就没有办法解决这个分歧吗？”</p>
<p>谁也不说话。</p>
<p>卢瑟福叹了口气说：“很好，那么，我也没有别的选择，只好宣布——”</p>
<p>“稍等。”戈登·费奇说话了，整个考试期间，他始终非常安静，别人几乎都忘记了他的存在。这时他在椅子里略微欠了下身，对着桌面用一种疲惫但很坚决的声音发表意见了。“作为代理系主任，我想推荐一个意见。我说出来后大家可以发表意见。我建议推迟宣布决定，等明天再说。这样会给我们些时间，冷静冷静，多些余地商量这件事。”</p>
<p>“没有什么好商量的，”劳曼克思怒冲冲地说，“如果斯通纳想——”</p>
<p>“我已经提了自己的建议，”费奇和气地说，“可以发表不同意见。卢瑟福院长，我建议通知候选人我们在这件事上的决定。”</p>
<p>他们发现沃尔克十分惬意地坐在会议室外面的走廊上。他右手满不在乎地拿了支烟，正无聊地看着天花板。</p>
<p>“沃尔克先生。”劳曼克思喊道，然后瘸着腿向他走去。</p>
<p>沃尔克站起来，他比劳曼克思高出几英寸，所以得俯视着老师。</p>
<p>“沃尔克先生，我负责通知你，委员会在你的考试问题上未能达成一致同意，你明天等通知吧。不过我向你保证——”他抬高声音——“我向你保证，你不用担心这事。完全不用担心。”</p>
<p>沃尔克站住等了片刻，冷冷地逐一打量着这几个人。“再次感谢你们，先生们，多谢费心。”他盯住斯通纳的眼睛，一丝微笑从他的唇间掠过。</p>
<p>戈登·费奇跟谁都没有说话就匆匆离去。斯通纳、卢瑟福和霍兰一起漫步走进过道，劳曼克思还在后面没动，热情地跟沃尔克交谈着。</p>
<p>“哦，”卢瑟福说，他走在斯通纳和霍兰中间，“这可不是桩痛快活儿。无论怎么看，都不是桩痛快活儿。”</p>
<p>“是的，没错。”斯通纳说，然后转身离开他们。他走下大理石台阶，接近一楼时，脚步变得越来越快，然后走了出去。他深深地吸了口午后空气中烟雾般的香气，然后又吸了一口，好像游泳的人从水里冒了出来。接着他慢慢朝家的方向走去。第二天下午还很早，来不及吃午饭，斯通纳就接到戈登·费奇的秘书打来的电话，请他立刻去一趟办公室。</p>
<p>斯通纳走进办公室时，费奇正焦躁不安地等着。他起身过去请斯通纳坐在他拉到桌子旁边的那把椅子里。</p>
<p>“是沃尔克的事吧？”斯通纳问道。</p>
<p>“算是，”费奇答道，“劳曼克思要和我见个面，想把这事解决了。很可能让人不愉快。我想在劳曼克思过来之前单独跟你谈几分钟。”他又坐下，在转椅里来回摇晃了好一会儿，沉思默想地看着斯通纳。他很突兀地说，“劳曼克思是个好人。”</p>
<p>“我知道他是个好人，”斯通纳说，“在某种程度上，他可能是系里最好的人。”</p>
<p>好像斯通纳没有讲话般，费奇继续说：“他也有自己的毛病，但这些毛病又并不经常露头，等露头的时候，他总能控制住。真不幸，这事在这个节骨眼上发生，时机又如此尴尬。系里在这个时候出现了一场分裂——”费奇摇摇头。</p>
<p>“戈登，”斯通纳很不自然地说，“我希望你没有——”</p>
<p>费奇举起一只手。“等等，”他说，“我要是早告诉你就好了。可那时又不允许泄露出去，而且又算不得正式决定。现在自然还处于保密阶段，可是——你还记得几周前，我们聊过系主任的事儿吗？”</p>
<p>斯通纳点了点头。</p>
<p>“唉，是劳曼克思。他是新头儿了。已经决定，成定局了。是上面的建议，但我应该告诉你，我跟这事有牵连。”他急促地笑了声。“我也不是处在一手遮天的位置。可是，即便我在那个位置，我也会牵连进去——当时。现在我拿不准了。”</p>
<p>“我明白了，”斯通纳意味深长地说，过了会儿，他继续说，“我很高兴你没有告诉我。我不觉得这有什么区别，但至少会在这件事上罩上一层阴影。”</p>
<p>“真糟糕，比尔，”费奇说，“你要理解。我才不在乎什么沃尔克或者劳曼克思呢，或者——可你是老朋友了。你瞧。我认为你在这件事上做得对。真混账，我知道你是对的。可我们实际点。劳曼克思把这个看得很重，他不会善罢甘休的。如果最后为这个拼起来，那就尴尬死了。劳曼克思会报复的。你我都知道这个，他不会辞了你，但几乎会事事让人恶心的。某种程度上我还得跟他站在一起。”他又苦涩地大笑了声。“见鬼，很大程度上我得跟他站在一起。如果院长推翻系头儿的决定，他只好自己从主任的位置上下来。喏，如果劳曼克思违规了，我可以把他从系主任的位置上挪开，或者至少我可以试试。我可能甚至因此离开，也可能不会。但是，即便我这样做了，必然也会有一场拼斗，弄得这个系四分五裂，甚至学院也会分裂。而且，真见鬼——”费奇忽然不好意思起来，他含含糊糊地说，“真见鬼，我想到了学院。”他直勾勾地盯着斯通纳，“你明白我想说什么了吗？”</p>
<p>一股对老朋友爱意和亲密敬重的温暖感涌上斯通纳的心头。他说：“当然明白，戈登。你以为我不懂吗？”</p>
<p>“好吧，”费奇说，“还有件事。不知怎么的，劳曼克思把校长戳怒了，逗得他四处打转，像头被刺伤的公牛。所以情况比你想象的要棘手。你瞧，你只要说声重新考虑就是了。你甚至可以责备我——说我让你这样做的。”</p>
<p>“这不是挽救我脸面的问题，戈登。”</p>
<p>“我知道，”费奇说，“我说错了。可以这样看。这跟沃尔克有什么关系？真的，我知道，这是有关这件事的原则问题。不过，还有另一个原则，你也应该考虑到。”</p>
<p>“这不是原则问题，”斯通纳说，“是沃尔克。让他轻易地走进教室，那会是场灾难。”</p>
<p>“见鬼，”费奇疲倦地说，“如果他在这里过不了，可以去别的地方拿到学位，何况他可能在这里什么都能拿到。这件事上你会输了的，你知道，无论你做了什么努力。我们没法把沃尔克们弄出去。”</p>
<p>“也许不能吧，”斯通纳说，“但我们可以试试。”</p>
<p>费奇沉默片刻。他叹了口气。“好了。让劳曼克思再等会儿也没用。我们得把这事儿解决了。”他从桌边站起来，迈步向通往那个小小候见室的门走去。可是他从斯通纳身边经过时，斯通纳手拉住他的胳膊，拖延了他一会儿。</p>
<p>“戈登，你还记得戴夫·马斯特思曾经说过的话吗？”</p>
<p>费奇不解地竖起眉毛。“你干吗提起戴夫·马斯特思来？”</p>
<p>斯通纳望着房间对面，从窗户看出去，使劲回想着往事。“我们三个在一起的时候，他说——对那些贫困者、瘸子们来说，大学就像一座避难所，一个远离世界的庇护所，但他不是指沃尔克。戴夫会认为沃尔克就是——就是外面那个世界。我们不能让他进来。因为我们这样做了，我们就变得像这个世界了，就像不真实的，就像……我们唯一的希望就是把他阻止在外。”</p>
<p>费奇凝视了他片刻，接着又咧嘴笑了。“你这个混账，”他开心地说，“我们现在得见劳曼克思了。”他打开门，弯了下腰，劳曼克思走进房间。</p>
<p>他走进房间时身子挺得很直很硬，而且还很正式，右腿的轻微抽搐几乎看不出来。他板着瘦削、清秀的脸，表情冷冷的，脑袋昂得老高，长长的、蜷曲的头发快要挨着右肩下方让后背走形的罗锅了。房间里跟他在一起的两个人，他谁都不看。他在费奇办公桌对面的一把椅子里坐下，尽可能坐得笔直，盯着费奇和斯通纳之间的那块空间。他微微朝费奇转过去。</p>
<p>“我请咱们三个人聚一下，目的很简单。我想知道，斯通纳教授考虑过他昨天的不当表决了没有。”</p>
<p>“斯通纳先生和我刚才就在商量这件事。”费奇说，“我担心我们怕是解决不了。”</p>
<p>劳曼克思转过来盯着斯通纳，那双淡淡的蓝眼睛显得很浑浊，好像一张透明的薄膜落在上面了。“那我恐怕就要把一些相当严重的指控公开化了。”</p>
<p>“指控？”费奇的声音有些惊讶，有点生气。“你从来没有说过任何有关——”</p>
<p>“对不起，”劳曼克思说，“可这也是必要的。”他对斯通纳说，“你第一次跟查尔斯·沃尔克谈话是他请求允许上你的研讨班课，这个对吧？”</p>
<p>“没错。”斯通纳说。</p>
<p>“你勉强收了他，没错吧？”</p>
<p>“是的，”斯通纳说，“这个班已经有十二名学生了。”</p>
<p>劳曼克思看了眼右手捏着的几张纸条。“当这位学生对你说，他不得不上，你勉强收了他，同时说，他进来事实上会毁了这个班。没错吧？”</p>
<p>“完全不是这样，”斯通纳说，“根据我的记忆，我说班里多一个人将——”</p>
<p>劳曼克思摆摆手。“这不重要。我只是想明确一个情景。第一次谈话时，你没有质疑过他在研讨班的学习能力吧？”</p>
<p>戈登·费奇厌倦地说：“霍利，这是想让我们干吗？你究竟想——”</p>
<p>“拜托，”劳曼克思说，“我说过，有指控要公开。你必须要允许我把它们详细讲出来。好了。你质疑过他的能力吗？”</p>
<p>斯通纳镇定地说，“我问过他几个问题，没错，想看看他能不能完成这门课。”</p>
<p>“然后你表示满意，他能行，对吗？”</p>
<p>“我拿不准，我认为，”斯通纳说，“很难想得起来。”</p>
<p>劳曼克思转过来面向费奇。“我们已经弄明白了，那么，首先，斯通纳教授不情愿沃尔克进他的研讨班；其次，他不情愿的程度强烈到拿那个事实来威胁沃尔克，即收下他会毁了这个研讨班；第三，他至少怀疑沃尔克完成学习任务的能力；第四，虽然怀疑，加上怀有这种强烈的憎恨情绪，但他还是同意让沃尔克进了这个班。”</p>
<p>费奇绝望地摇了摇头。“霍利，这完全不是问题的关键。”</p>
<p>“且慢。”劳曼克思说。他急匆匆地看了眼手里的纸条，然后又精明地抬头看着费奇。“我还有许多其他观点要陈述呢。我可以通过交叉考查的方式逐渐陈述出这些观点来——”他让这几个词带上一种讽刺味儿，“但我不是律师。不过，我要让你知道，我是准备要详细列举这些指控的，如果必要的话。”他停顿了下，好像在积蓄力量。“我准备揭发，第一，斯通纳教授允许沃尔克先生进他的研讨班，同时从一开始就对他怀有偏见；我准备揭发，这种偏见情绪被在这个班上课期间带出的脾性和情感上的某些冲突这样一个事实更加强化了。而且，这种冲突又因斯通纳先生本人的原因而得到支持和强化，他允许而且事实上有时还鼓励，班里其他学生嘲讽和取笑沃尔克先生；我准备揭发，不止一次，这种偏见被斯通纳教授通过向学生和其他人宣告而明朗化，说他谴责沃尔克先生‘攻击’班里的一个学员，而沃尔克先生只是表达了一个相反意见而已，他承认对这种所谓的‘攻击’很愤怒，而且在对沃尔克先生的‘愚蠢行为’没完没了地讲个不停；我还要准备揭发，斯通纳教授在毫无刺激的情况下，出于这种偏见指责沃尔克先生懒惰，无知，不诚实；最后，班里所有十三个学员中，沃尔克先生是唯一一个——唯一的一个——斯通纳教授单挑出来怀疑的人，只让他一个人递交研讨班的报告。现在，我要求斯通纳教授驳斥这些指责，逐一或者全面反驳都可以。”</p>
<p>斯通纳摇摇头，几乎是赞叹了。“我的天，”他说，“你的论证是何其充分！说实话，你讲的每件都是事实，可没有一个是真的。根本就不是你说的那样。”</p>
<p>劳曼克思点点头，他好像期待的就是这个回答。“我准备揭露我说的。这事儿很简单，如果需要的话，叫班里的学员来，一个个问他们就好了。”</p>
<p>“行了！”斯通纳尖声喊道，“在某种程度上这是你今天下午讲的最令人发指的话了。我不想把学生拖进这团混乱中。”</p>
<p>“你别无选择，斯通纳，”劳曼克思柔声说，“你也许毫无选择。”</p>
<p>戈登·费奇看着劳曼克思，平静地说：“你这是想干什么？”</p>
<p>劳曼克思不理费奇。他对斯通纳说，“沃尔克先生跟我说了，虽然他是出于原则拒绝那样做，现在他愿意递交那份备受你的丑陋怀疑的研讨班专题报告，他愿意服从你和另外两位系里的资深老师可能做出的任何裁决。如果从这三位中的多数那里得到通过的分数，他就会得到研讨班通过分数，他将被允许继续留在研究生院。”</p>
<p>斯通纳摇摇头，他都羞于看着劳曼克思。“你知道，我不会这样做的。”</p>
<p>“很好，我不喜欢这样做，可是——如果你不改变昨天的投票，我只好被迫拿出对你的正式指控了。”</p>
<p>戈登·费奇抬高声音。“你要被迫做什么？”</p>
<p>劳曼克思冷冷地说，“密苏里大学校规允许任何终身教职工指控其他终身教职工，如果有令人信服的理由相信这位被指控的员工无能、行为失范，或者按照宪法第三条第六款规定的道德标准失职的话。这些指控以及支持它们的证据，将由全体员工审听，在审判结束时，这位员工要么通过三分之二的投票维持指控，要么因为投票不足而撤销指控。”</p>
<p>戈登·费奇坐回椅子，张着嘴，难以置信地摇着头。他说：“瞧，这事快要失控了。你别太当真，霍利。”</p>
<p>“我向你保证，我是当真的，”劳曼克思说，“这是件严肃的事情。这是事关原则的事情，而且——而且我的正直遭到质疑。提出指控是我的权利，如果我认为合适的话。”</p>
<p>费奇说：“你可千万别把事情弄僵了。”</p>
<p>“然而，这是我的权利，提出指控。”</p>
<p>费奇看了眼劳曼克思，接着平心静气，几乎是和蔼可亲地说：“不会有指控的。我不知道这种事本来是怎么解决的，我并不特别在乎。但是不存在指控。我们过会都要走出去离开这儿了，我们谁都要忘了今天下午说的大部分话，或者至少要努力假装忘了。我不想让英文系或者学院拖进一团糟中。不存在指控。因为，”他愉快地补充道，“如果有的话，我向你保证，我会拼了命要让你无论如何遭到灭顶之灾。我不会善罢甘休的。我要动用我拥有的一分一厘影响力。如果需要的话，我撒谎都在所不惜。如果必要的话，我会诬陷你。我现在就去向卢瑟福院长报告沃尔克先生的表决结果维持原判。如果你还想在这件事上纠缠，你可以去跟他讲，跟校长讲，或者跟上帝讲。但是，在这间办公室里，这件事到此为止。我不想再听了。”</p>
<p>费奇慷慨陈辞的时候，劳曼克思脸上的表情开始变得若有所思和冷静起来。费奇讲完话，劳曼克思几乎热情地点点头，从椅子上站起来。他又看了眼斯通纳，然后瘸着腿穿过房间，走了出去。费奇和斯通纳无语地坐了片刻。最后，费奇说：“我不知道，他和沃尔克之间是怎么回事。”</p>
<p>斯通纳摇摇头：“这不是你想的事情，”他说，“我也不知道是怎么回事。我不想知道。”</p>
<p>十天后，霍利斯·劳曼克思的英文系主任的任命宣布了。此后又过了两个星期，下一学年的课程表发到各位教职员工手中。斯通纳毫不惊奇地发现，这一学年的两个学期，每学期都给他排了三个班的新生写作课，一门大二概论课。他的中世纪文学高级阅读课和给研究生上的研讨班课都从课表中取消了，斯通纳意识到，这是那种刚起步的上课助教希望的那种课程安排。在某种意义上情况更糟糕，因为上课时间做了精心安排，他教的课都零零散散，时间隔得很开，一周六天都有课。他对这种安排没有提出抗议，决心要教好下一学年的课，权当没有任何不适。</p>
<p>但是，从开始教书以来，斯通纳好像第一次觉得自己也许可以离开这所大学，也可以去别的地方去教书。他跟伊迪丝说起这种可能性时，伊迪丝看着他，好像惊到了自己。</p>
<p>“我不会去，”她说，“噢，我不会去。”接着，好像这样暴露出的害怕泄露了自己的秘密，她又愤怒起来。“你想过没有？”她问。“我们的家——我们漂亮的家。我们的朋友。还有格蕾斯的学校。从这个学校到那个学校转来转去对孩子不好。”</p>
<p>“也许有这个必要。”斯通纳说。他没有跟她讲查尔斯·沃尔克的事件以及还牵扯到劳曼克思的纠缠，但是事情很快就很明朗了，她知道这件事的全过程。</p>
<p>“欠考虑，”她说，“绝对欠考虑。”可是她的愤怒奇怪地显得有些心不在焉，几乎有些敷衍了事。她浅蓝色的眼睛溜开了对他的关注，热情地落在起居室的那些小零碎上，好像这些东西的继续存在是对她自己的安慰。她那纤细，微微有些雀斑的手指焦躁地活动着：“噢，你遇到的麻烦我全知道，我从不干涉你的工作。可是——说真的，你也太固执。我是说，格蕾斯和我都受到这事的影响了。显然，我们不要指望只因为你把自己放置在一个尴尬境地就收拾东西搬家。”</p>
<p>“可是，这里至少也有为你和格蕾斯着想的因素，我不可能——要是继续待在这里，在系里走得更远。”</p>
<p>“噢，”伊迪丝冷淡地说，好像把痛苦全部召唤到自己的声音中，“这并不重要。我们到现在还这么穷，我们没有理由不要继续这样过下去。你以前就应该想到这个，想到会导致什么结果。一个瘸子。”她的声音忽然变了，放纵地大笑起来，几乎是充满柔情爱意。“说实话，好多事对你来说很重要。这样做有什么区别？”</p>
<p>她不会考虑离开哥伦比亚。如果要离开，她说，她会和格蕾斯搬过去跟艾玛姨妈长住，她已经越来越虚弱，肯定很乐意陪伴。</p>
<p>于是，斯通纳几乎只提说了下就放弃了这种可能性。那年暑期，他还要教课，有两门课他特别有兴趣，在劳曼克思当上系主任之前就排好的。他决心要全神贯注地投入进去，因为他知道，他要再有机会教这样的课，恐怕还得待些时日。</p>
<p>1932年秋季学期开始后过了几个星期，对威廉·斯通纳来说，情况已经很明朗，在把查尔斯·沃尔克挤出攻读英文专业研究生学位的这场战斗中，他没有成功。暑假过后，沃尔克又回到校园，好像志在必得地走进一个决斗场。在杰西楼的过道里碰到斯通纳时，沃尔克会嘲讽地歪一下头点一点，不怀好意地冲他咧嘴笑笑。斯通纳从吉姆·霍兰那里听到，卢瑟福院长推迟了去年的正式投票，最后决定让沃尔克再参加一次预答辩，考官由系主任挑选。</p>
<p>这场战役那时已经宣告结束，斯通纳愿意接受自己的失败，但是搏斗并没有结束。每当斯通纳在走廊或者系里的会上乃至学院的活动中遇到劳曼克思，他依然像从前一样跟劳曼克思说话，好像他们之间什么事都不曾发生过。但是劳曼克思并不理睬他的招呼。他冷漠地看着，然后移开目光，似乎想说他不会和解。</p>
<p>深秋的一天，斯通纳偶尔走进劳曼克思的办公室，在他的桌边站了一会儿，直到劳曼克思很不情愿地抬起头看他，而且嘴唇紧抿，眼神很严厉。</p>
<p>意识到劳曼克思并不想讲话时，斯通纳尴尬地说：“你瞧，霍利，事情已经过去，而且都搞定了。我们就不能放下吗？”</p>
<p>劳曼克思定定地看着他。</p>
<p>斯通纳接着说：“我们是存在分歧，但那也很寻常。我们以前还是朋友，我看不出有什么理由——”</p>
<p>“我们从来就不是朋友。”劳曼克思明明白白地说。</p>
<p>“好吧，”斯通纳说，“但我们至少要经常见面。我们可以保留任何分歧，但是看在老天的分上，没有必要把这些分歧公开展示出来。连学生们都注意到了。”</p>
<p>“学生们注意到好了，”劳曼克思挖苦地说，“因为他们当中一员的职业差点给毁了。何况还是一位出色的学生，他唯一的罪状就是自己的想象力，那份热情和正直，迫使他陷入与你的冲突——是的，我还想说这个——还有不幸的生理痛苦，本来在正常人那里应该唤起同情心的。”劳曼克思用一只好手拿着一根铅笔，在他面前颤抖着，斯通纳几乎恐怖地意识到，劳曼克思的忠心耿耿不仅可怕，而且绝不会改变。“不会，”劳曼克思继续冲动地说，“在这件事上，我无法原谅你。”</p>
<p>斯通纳试图尽量压低声音不要变得那么僵硬。“这不是原谅的问题。这只是个我们彼此对对方行为的态度问题，别因此闹得学生和系里其他人太不舒服了。”</p>
<p>“我对你向来是很坦率的，斯通纳。”劳曼克思说。他的愤怒已经平息，声音很镇定，变成公事公办的口气。“我认为你作为一个老师都不适任。没有人会让自己的偏见压倒才华与学问。如果我有那个权力，没准会开了你。可是，我没有这个权力，我们都知道。我们都是——你是受终身制保护的。我必须接受这个。可是我没必要玩伪君子的把戏。我只想跟你什么关系都没有。毫无关系。我也不会装。”</p>
<p>斯通纳定定地看了他片刻，接着摇摇头。“好吧，霍利。”他疲倦地说，然后就要走。</p>
<p>“稍等。”劳曼克思喊住。</p>
<p>斯通纳转过身。劳曼克思凝神盯着桌上的几页纸，脸色通红，似乎在跟自己较着什么劲儿。斯通纳意识到，他看到的不是愤怒而是羞辱。</p>
<p>劳曼克思说，“从今以后，如果你想见我——如果跟系里的事有关——你要跟秘书预约。”虽然斯通纳站着盯了他好一会儿，劳曼克思还是没有抬起头。一阵短暂的极度痛苦从他的脸上掠过，接着又恢复了平静。斯通纳走出房间。</p>
<p>此后有二十多年，两个人谁也没有跟对方直接讲过话。</p>
<p>后来，斯通纳意识到，学生受影响是难免的，虽然他曾成功地说服劳曼克思表面上假装，在这个漫长的过程中，他未能保护学生不要看出这场战斗。</p>
<p>他以前的学生，甚至相当熟悉的学生，跟他点头、说话时都很不自然，甚至鬼鬼祟祟。另一部分则表现得过分友好，会特意过来说话，或者让人看见他们和他在楼道里并排走过。但他跟他们已经没有了昔日的那种融洽。他是一个特殊人物，看到或者看不到什么人跟他在一起，都是有特殊原因的。</p>
<p>他开始感觉到自己的存在无论对朋友还是对手而言是一种尴尬，所以他变得越来越内向。</p>
<p>一种无精打采的倦怠感开始袭来。虽然例行的新生和大二的必修课已经淘空了他的热情，每天下来带给他的是精疲力竭和麻木不仁，他还是竭尽全力教好自己的课，尽可能利用跟学生交谈来打发时间隔很长的课间时间，辛苦地辅导学生温习功课，留住他们直到个个烦躁不安，没有了耐心才放走。</p>
<p>时光在他身边缓慢地拖行着。他想多花些时间待在家里陪陪妻子和孩子，可是因为这种零碎的课程安排，他可以支配的这些时间都不正常，而且由于伊迪丝每天难缠的脾气而无法占用。他发现（一点都不惊讶），他的正常待着让妻子那么烦恼，她都变得神经质，开始沉默不语，有时身体还不舒服。他在家里度过的所有时间，能够看到格蕾斯的机会也不多。伊迪丝精心安排女儿白天的时间，她唯一的“空闲”时间是在晚上，而斯通纳每周排了四个晚上的课。等上完课后，格蕾斯往往已经上床睡了。</p>
<p>所以，他唯一能短暂地看会儿格蕾斯的时间仍然是早晨，吃早点的时候。他跟女儿单独待的时间只有几分钟，就是伊迪丝从桌上清理早餐碗碟放进厨房洗涤槽里浸泡的工夫。他看着女儿的身材一天天变长，四肢已经有了青涩的优雅，而且沉静的眼眸和警惕的脸上慢慢长出聪慧的神色。有时，他感觉父女之间还保持着那种亲近，一种两人都不愿承认的亲近。</p>
<p>他终于又回到在杰西楼的办公室里打发大部分时间的老习惯。他心里对自己说，应该感激有机会静下心来读点东西，从准备各种特殊课程的压力中解脱出来，从预先确定自己学习方向中解脱出来。他试着随意阅读，只为自己的乐趣和嗜好，读读那些他等了好多年想读的许多东西。可是他的思想却不愿跟着他期待的方向走。他的注意力经常从握在眼前的书页上溜出来，他发现自己越来越频繁地木呆呆地盯着前方，却什么都没看。好像他的头脑时刻不停地腾空着已知的一切，而且意志也好像淘空了自身的力量。他有时觉得自己像某种植物，而且渴望着某种东西——甚至痛苦——来刺戳他，给他带来生机。</p>
<p>他已经到了年岁的这种时刻：经常会想到，而且日益强烈，想到一个如此简单的问题，简单得他都没有办法去面对。他发现自己有些迷茫，自己的生活是否值得过下去，是否有过生活。他认为，这是在某个时候所有人都会想的问题。他不知道，这个问题出现在他们心中时，是不是跟出现在自己心中时一样带着这种不具个人色彩的力量。这个问题随之会带来某种伤感，不过这是一种整体的伤感，他想跟自己或者他的特殊命运没有多大关系。他甚至都拿不准，这个问题蹦出来有着最显而易见的原因，是从他变化后的生活中蹦出来的。他相信，这个问题是这些年日积月累中来的，是从各种偶然事件和限制中来的，是从他开始对这些东西的领悟中来的。他从这种可能性中获取一种阴郁和具有讽刺意味的快感，这种可能性就是，他努力获得的小小学问启发自己达到了这样一种认识：从长远看，各种东西，甚至让他领悟到这点的这份学问，都是徒劳和一场空，而且最终要消解成一片他们撼动不了的虚无。</p>
<p>有一次，晚上下课迟了，斯通纳回到自己的办公室，在桌边坐下，试图读点什么。那时正值冬季，白天下过一场雪，所以室外覆盖着一片柔软的洁白色。办公室里有些燥热，他打开桌子旁边的一扇窗户，让冷空气透进封闭的房间。他深深地吸了口气，眼睛从校园洁白的地面上方打量过去。他冲动之下，熄灭了桌上的灯，坐在办公室热烘烘的黑暗中。冷空气充满肺部，他向前倾过身子靠近打开的窗户。他倾听着冬夜的寂静，好像感觉到了被雪细腻、复杂的细胞组织吸进去的各种声音，白雪上方没有任何东西活动，这是一副死寂的景象，似乎在拉扯着他，在自己的潜意识中吸吮着，就像它从空气中拉来声音，然后将其埋葬在冰冷柔软的洁白中。他感觉自己向外被拉着走向那片白色，那片白色延伸到他目力所及的远方，而且它也是黑暗的一部分，在黑暗中闪耀着，同时也是清澈无云、没有高度或者深度的天空的一部分。他一时感觉自己的灵魂逃出在窗前坐着不动的身体。当他感觉自我溜出去后，一切——平坦的白色，树木，高高的圆柱，夜晚，遥远的星辰——似乎都渺小和遥远得不可思议，好像这一切都逐渐缩小到变成某种虚无。这时，他身后的一个散热器哐啷响了一下。他动了动，这幅景象恢复了原貌。他怀着不情愿得有些奇怪的轻松感，再次拧亮台灯。他收拾好一本书和几页纸，走出办公室，穿过更显黑暗的走廊，有意走出杰西楼后面宽敞的双排门。他慢慢步行回家，发觉每走一步都带着沉闷的声响，在干硬的雪地上咔嚓咔嚓地踩过去。</p>
<p>那年，特别是冬天的几个月，斯通纳发觉自己越来越频繁地重温这种虚幻不真实的状态。他好像可以随心所欲地把自己的意识从盛放它的躯体里移出来，他观察自己时，就像一个熟悉得有些古怪的陌生人在做着熟悉得有些古怪的事情，自己不得不做。这是一种他以前从未体验过的分裂。他知道，自己应该遭受其困扰，但他已经麻木，无法说服自己相信这事很重要。他已经四十二岁，往前，看不到任何自己渴望享受的东西，往后，看不到任何值得费心记住的事物。</p>
<p>四十三岁那年，斯通纳的身体瘦削得几乎跟年轻时一样了，那时他第一次怀着惊奇的敬畏感行走在校园里，校园从未彻底失去对自己的影响。年复一年，驼背不断加重，他开始学着放慢动作，这样手脚自带的那种农民的粗笨就好像刻意而为，而不是源自于骨子里的笨拙。随着时间的日积月累，他的长脸柔和了许多，尽管皮肉依然像熟过的皮子，已经不再紧紧地拉过棱角分明的颧骨，而且被眼角和嘴巴周围细细的皱纹衬托得松弛了好多。他的眼睛依然犀利和清澈，灰色的眼珠在脸盘上塌得更深了，那种精明的警觉已经藏去一半锋芒。他的头发，曾经是浅褐色的头发，现已变深，而且几丝灰色已经爬上太阳穴附近。他并不经常想到岁月，或者痛惜岁月的流逝，可是当他看到镜子里自己的脸，或者当他走近通向杰西楼某扇玻璃门里自己的影子时，他还是能辨认出由于一场轻微的打击而窜到身上的这些变化。</p>
<p>那年早春的一个午后，他一个人坐在办公室。一堆新生的作文摆在桌上。他手里拿着其中的一份报告，但并没有真正在看。像最近常干的那样，他凝视着窗外校园那块从办公室里能看到的地方。那天阳光明亮，杰西楼投出的影子在他观察的工夫，几乎爬到了四方形院子中心在有力、孤独的优雅中矗立的那五根圆柱的基部。笼罩在阴影中的院子的这部分呈深深的褐灰色，阴影边沿那边，冬天的草地泛着浅黑色，上面覆盖着一层隐约闪烁、暗淡之极的绿色薄膜。在蜷曲着绕在柱子周围的藤蔓蛛丝般黑色痕迹的映衬下，这些大理石柱散发着灿烂的白色。很快阴影就会爬上柱子，斯通纳想，基部将暗淡，那片黑色将不断攀爬上来，先是缓慢地，接着速度会更快，直到……他开始发觉有人站在身后。</p>
<p>他坐在椅子里转过身，抬头望去，是凯瑟琳·德里斯科尔，这位去年旁听他研讨班课的年轻助教。从那以后，尽管他们在走廊里偶尔相遇，点点头，两人其实并没有互相说过话。斯通纳感觉对这种正面相遇隐隐有些不快。他并不希望回想起研讨班以及由此接踵而来的一切。他把椅子往后一推，慌里慌张地站起来。</p>
<p>“德里斯科尔小姐。”他严肃地说，然后摆了下桌子旁边的那把椅子。她盯着看了斯通纳片刻。她的眼睛又大又深，他想，她的脸格外苍白。她的头微微低了下，离开他，坐在他无意中动了下的那把椅子里。</p>
<p>斯通纳自己又坐下来，盯了她片刻，其实并没有看着她。接着，意识到自己的注视可能会被当作粗鲁，他试图笑一笑，嘴里含含糊糊地问了个毫无意义、随口而出有关她上的课的问题。</p>
<p>她回答得有些唐突。“你——你曾经说过，愿意看看我的论文，只要我认真写起来。”</p>
<p>“是的。”斯通纳说，点了下头。“我想会的。当然。”接着，他这才第一次注意到她膝盖上紧紧抓着一个文件夹。</p>
<p>“当然，如果你忙的话就算了。”她试探性地说。</p>
<p>“一点都不忙。”斯通纳说，尽量想在话语中带上点热情。“真不好意思。我并不想故意听上去心烦意乱。”</p>
<p>她犹豫地把文件夹拎到斯通纳跟前。他接住，拿起来，冲她笑着。“我想你可能会走得比这个更远。”他说。</p>
<p>“是的，”她说，“可是我重写了。我想用一种新的方法，而且——而且，如果你能告诉我你的想法，我会很感激。”</p>
<p>斯通纳又冲她笑起来，点点头。他不知道该说什么。两人在难堪的沉默中坐了会儿。</p>
<p>最后他说：“你什么时候需要拿回去？”</p>
<p>她摇摇头。“随时。只要你看完就可以。”</p>
<p>“我不会耽误你，”他说，“这个星期五怎么样？这样给我的时间会充足些。三点左右怎么样？”</p>
<p>她像刚才突然坐下来那样，又骤然站起来。“谢谢你，”她说，“我不想打扰你的。谢谢你。”她转身就走了，苗条，挺拔，走出办公室。</p>
<p>斯通纳把那个文件夹在手里捏了会儿，盯着看了看，接着又放在桌上，继续看他的新生论文。</p>
<p>那是星期二的一天，随后的两天，那部论文手稿原封不动地在他的桌上躺着。由于某些连自己都无法完全理解的原因，他害怕去打开那个文件夹，去开始阅读，而在几个月前，读这样的东西理应是一种愉悦的义务。他警觉地看着文件夹，好像是一个敌人诱骗他再次投入一场自己早已声明放弃的战争。</p>
<p>接着就到了星期五，他还是没有读。早晨，收拾八点钟那堂课用的书和纸时，他看着那东西埋怨似的躺在桌上。九点钟，乘回去的片刻工夫，他几乎决定要给主办公室德里斯科尔小姐的邮箱里留一张纸条请求再宽限一个星期，但最后决定在十一点的那堂课之前匆匆看一眼，等她下午过来时说些可以敷衍的评价。可是他仍然没有去读。就在自己必须离开去上课，上这一天最后一节课时，他从桌上抓过文件夹，塞在别的稿纸中间，匆匆穿过校园朝教室走去，正午，那堂课结束后，几个需要找他谈谈的学生拖住他不放，一点钟后才脱身。他怀着无情的决心向图书馆走去。他想找个没有人用的研习室，在与德里斯科尔约好的三点前花个把钟头把手稿匆匆读一遍。</p>
<p>可是，即便在图书馆昏暗、熟悉的宁静中，在他找到的隐藏在大书库底层没人的那间研习室里，他都心绪不宁，很难专心看自己带来的那些稿纸。他打开别的书，随意地读起有关段落来。他端坐在那里，吸着旧书散发出的霉味儿。最后，他长叹一口气，不能再拖延了，于是打开文件夹，匆匆扫起前几页来。</p>
<p>起初，只是思维某个紧张的棱角碰触下他读的东西，但渐渐地，这些词句自动强行向他涌来。他皱着眉，读得更仔细了。接着他被吸引住了，又返回开始的地方，注意力在这一页上流畅起来。没错，他自言自语，当然。她在研讨班专题报告里讲的内容都包括在这里了，但经过重新排列和组织，他只是模模糊糊瞥过的方面更加突出。天哪，他几乎有些惊叹地自言自语，翻页时手指激动得不停地发抖。</p>
<p>当他终于看完打印稿的最后一页纸时，在愉快的疲倦中向后仰去，盯着眼前灰色的水泥墙。虽然从开始读算起好像只过了几分钟，他还是看了眼手表。已经快四点半了。他立刻站起来，匆匆收拾好手稿，紧紧张张地冲出图书馆。虽然知道太晚，无论怎么都没有意义了，他还是半跑着穿过校园朝杰西楼奔去。</p>
<p>他经过主办公室一路向自己的办公室走去时，听到有人叫他的名字。他站住，把头探进门厅。秘书——一个新来的女孩，劳曼克思最近刚雇的女孩——很不悦，几乎是无法忍受地对他说，“德里斯科尔小姐三点钟时在这儿想见你。她等了将近一个小时。”</p>
<p>他点了点头，谢了谢这女孩，然后继续更加缓慢地向自己的办公室走去。他心里对自己说没关系，星期一可以把稿子还给她，到时再道歉。但是，读完稿子后的那股兴奋的余绪还没有消散，他烦躁不安地在办公室里走来走去，不时停下来冲自己点头。最后，他走到书架前，翻找了会儿，抽出一本薄薄的小册子，封面上写着污黑的印刷字母：教工与工作人员手册，密苏里大学。他找到凯瑟琳·德里斯科尔的名字，她没有装电话。他看了下她的住址，然后收起桌上的稿子，走出办公室。</p>
<p>从校园开始，朝城内方向过去大约要经过三个街区，排列着一长串巨大的老房子，几年前这里就已经改造成公寓了。这些房子里住满了老学生、年轻教工和大学行政人员，还有零零碎碎的城里人。凯瑟琳·德里斯科尔住的那幢房子就矗立在这些楼中间。这是一幢巨大的三层的灰色石质建筑，有好多让人眼花缭乱的入口和出口，带着角楼、凸窗，以及在楼的各个侧面都有的向外向上突出的阳台。斯通纳终于在这幢楼侧面的一个邮箱上找到凯瑟琳·德里斯科尔的名字，那里有一截短短的水泥台阶通向下面地下室的一扇门。他犹豫片刻，然后敲了敲。</p>
<p>凯瑟琳·德里斯科尔打开门时，斯通纳几乎没有认出来。她把头发扎起来，漫不经心地在后面高高地束着，这样，她那双小小的白里透红的耳朵完全裸露在外。她戴了副黑边眼镜，镜片后面那双幽深的眼睛睁得很大，吃了一惊。她穿了件男式衬衫，脖领那里敞开着。她穿着黑色宽松裤，比他记忆中的样子显得更加苗条，更加优雅。</p>
<p>“我——我很抱歉，错过了我们约定的时间。”斯通纳尴尬地说。他把文件夹向她递过去。“我想你也许周末会需要这个。”</p>
<p>她一时什么话都没说，毫无表情地看着斯通纳，咬着下嘴唇，然后从门口退了回去。“你不想进来吗？”</p>
<p>斯通纳跟着她穿过一个短短的、窄窄的过厅走进一间房里，天花板很低，光线暗淡，摆着一张低矮、只有正常四分之三大小的床，同时也当沙发用，前面放着一张同样低矮的长桌，一把孤零零的弹簧椅，一张小桌，一把椅子。一面墙的书架上塞满了书。几本书敞开着搁在地板和沙发上，纸张在桌子上散得到处都是。</p>
<p>“太小了，”凯瑟琳说，弯下腰捡起地上的一本书，“但是我也用不着太大的空间。”</p>
<p>斯通纳坐在沙发对面的那把弹簧椅里。她问斯通纳是否喝点咖啡，他说要。凯瑟琳走进起居室旁边的小厨房，他开始放松下来，打量着周围，听着她在厨房里活动时发出的宁静的声响。</p>
<p>她端来咖啡，放在精致的白色瓷杯里，搁在一只黑漆盘中，放在沙发前的桌子上。他们小口喝着咖啡，僵硬地聊了会儿天。接着，斯通纳说起他读过的那部分稿子，感觉刚才在图书馆里出现的兴奋情绪又上来了。他身体向前倾过去，热烈地讲起来。</p>
<p>过了好一会儿，两人才开始自如地畅谈起来，都把自己掩藏在演说的装饰后面。凯瑟琳坐在沙发的边沿，眼睛流光溢彩，纤细的手指在咖啡桌上时而扣住，时而松开。斯通纳把椅子向前一挪，专注地朝她倾过去，两个人靠得如此之近，斯通纳可以伸手触碰到她。</p>
<p>他们谈到她的论文前几章引起的问题，谈到这项研究会导入什么方向，谈到这个课题的重要性。</p>
<p>“你千万不要放弃。”斯通纳说，声音里透着自己都难以理解的冲动。“无论有时可能多么困难，你都千万别放弃。你放弃了可就太可惜了。噢，太好了，这个绝对毫无疑问。”</p>
<p>她沉默不语，有一刹那，甚至那种生动劲儿都从脸上消失了。她向后靠过去，离开些距离看着斯通纳，然后好像出神地说：“那次研讨班课——你说的一些东西——很有帮助。”</p>
<p>斯通纳笑着摇摇头。“你不需要上那门研讨班课。但我很高兴你能坐在那里旁听。那样挺好，我觉得。”</p>
<p>“噢，真是太惭愧了！”她突然说。“实在惭愧。那次研讨班课——你是——课结束后，我只好重新再来。真惭愧，他们应该——”由于陷入痛苦、烦燥、心绪混乱，她打住不说了，从沙发上站起来，焦躁不安地向桌子走去。</p>
<p>斯通纳被她突如其来的爆发吃了一惊，一时无语，过了会儿才说：“你不应该太在意。这种事经常发生。而且全都及时平息了。真算不得什么大不了的事儿。”</p>
<p>他说出这句话后，忽然好像真没什么大不了的。刹那间，他感觉自己说的是真的。几个月来，他第一次感觉从身上揭掉了绝望的重负，那种沉重感他还没有充分地意识到。差不多是欢欣鼓舞，几乎是放声大笑，他又说：“真算不得什么大不了的事儿。”</p>
<p>但他们之间的氛围开始变得局促起来，没法像刚才那样畅所欲言了。斯通纳很快站起来，谢过她的咖啡，就要离去。凯瑟琳陪他走到门口，跟他道晚安时几乎都是匆匆忙忙。</p>
<p>外面已经漆黑，料峭的春寒弥漫在夜空中。斯通纳深深地吸了口气，感觉在这样的冰凉中身体有种刺痛感。在这些公寓房参差不齐的轮廓那边，市里的灯火在悬浮于空气的薄雾中闪着光。角落的街灯虚弱地紧推着封闭在四周的黑暗。从那边的黑暗中传出的笑声忽然打破了寂静，延绵了好久才消失。后院燃烧的垃圾堆中冒出的烟味被薄雾留住。当他慢慢地穿过夜晚，呼吸着那股芳香气息，在舌尖上品尝着新鲜的夜晚时刻的空气时，似乎觉得走进去片刻就足够了，自己好像不需要太多。</p>
<p>就这样他有了自己的恋爱绯闻。</p>
<p>他对凯瑟琳的感情在心中缓缓苏醒。他发现自己总是寻找借口，在下午的时候去她的公寓。想到一本书的或者一篇文章的名字时，他就会记下来，而且故意避免在杰西楼的走廊里看见她，这样下午就可以去她住处告诉那本书的名字，然后喝杯咖啡，聊一聊。有一次他花了半天时间在图书馆查一个参考资料，这个资料可能会强化她论文第二章中他觉得有些吃不准的论点。又有一次，他辛苦地誊抄了一份很少人知道的拉丁文手稿的一部分，图书馆里有影印件，这样借着帮她翻译之机打发几个下午。</p>
<p>在他们一起度过的那些午后时光，凯瑟琳总是显得彬彬有礼，友好，克制。她非常感激斯通纳在自己的论文上花的时间，投入兴趣，希望不要影响他做重要的事情。斯通纳没有想过，她可能把自己当作一个有想法的教授，她很钦佩，而他的帮助虽然友好，但多少超出了职责范围。斯通纳觉得自己就像一个隐隐约约有些荒唐的人物，别人除了公事公办地对待外不会感兴趣。当他心里默认了自己对凯瑟琳的感情后，就尽量小心翼翼，不要以任何方式暴露出可能会被轻易察觉的感情。</p>
<p>有一个多月的时间，他每周要去两三次凯瑟琳的家里，任何一次都不会待过两个小时。他害怕自己持续反复出现，她会变得厌烦，所以就尽量谨慎地确信自己能够真正帮到她的论文时才过去。他不无自嘲自娱地发觉，为了拜访她而做的准备，其殷勤程度堪比为讲课所做的准备。他心里对自己说，这就够了，他只满足于见到她，跟她说说话，只要她还能忍受自己的存在。</p>
<p>虽然他殷勤备至，他们一起度过的那些下午变得越来越压抑。很长时间，两人发现找不到任何话题可说，都啜着咖啡，远远地看着对方，说着“哦……”，话音中带着试探和警戒的意味。他们找出好多理由，在房间不安地走来走去，离开对方。他怀着自己不曾料到的强烈的悲哀心情默念，自己的拜访已经渐渐成为她的负担，而凯瑟琳的谦恭有礼不许她让他意识到这点。他知道自己不得不如此，他已经做出决定，他要逐渐从她那里抽身而退，这样她也不会察觉到他已经注意到了她的烦躁不安，好像他给过她全部力所能及的帮助。</p>
<p>随后的那一星期，他只去了一次凯瑟琳家，接下来的一星期，他压根儿就没有去过。他没有料到自己会有那么强烈的挣扎。下午的时候，他坐在办公室里，简直不得不从生理上克制自己别从桌边站起来，冲到外面，走到她的公寓去。有一两次，在过道里远远地看见凯瑟琳，那是她匆匆忙忙去上课或者上完课后出来的时候，斯通纳都转身朝另一个方向走去，这样他们就不会打照面了。</p>
<p>过了会儿，一种麻木感袭来，他心里对自己说，没关系，过几天就会在楼里看到她，向她点头、微笑，也许还会拦住她一会儿，问她论文的进展如何。</p>
<p>后来，一天下午，在主办公室，他从邮箱里取邮件时，偶尔听到一个年轻助教跟另一个说，凯瑟琳生病了，已经有两天没来上课了。那种麻木感顿时消退，他感觉胸口刺痛，决心已定，克制力也离自己而去。他迅速回到办公室，以近乎绝望的急切心情看着书架，挑出一本书，走了出去。他走到凯瑟琳家时已经快喘得快没气了，所以就在大门口等了会儿。他换上一副微笑的表情，希望是热情的微笑，然后固定在脸上，敲了敲她的门。</p>
<p>凯瑟琳比平时还要苍白，眼睛周围有几处黑印，穿了件普通的深蓝色睡衣，头发完全从额头向后梳过去。</p>
<p>斯通纳发觉自己讲话时既紧张又傻里傻气，但也无法阻止言辞涌流而出。“你好，”他轻松明快地说，“我听说你生病了，我想应该顺便过来看看你怎么样了，我拿了本书，也许对你有帮助，好些了吗？我不想——”他听着这些声音从自己僵硬的微笑中翻滚而出，眼睛抑制不住打量着她的脸庞。</p>
<p>当他终于不说话时，凯瑟琳才从门口退回去，平静地说：“进来吧。”</p>
<p>一走进那间小小的起居室，他那紧张的傻里傻气立刻就没了。他坐在床对面的那把椅子里，凯瑟琳在他对面坐下时，感觉某种熟悉的轻松感又开始出现了。有那么片刻，两个人谁都不说话。</p>
<p>终于，凯瑟琳问道：“你想喝点咖啡吗？”</p>
<p>“不必麻烦你了。”斯通纳说。</p>
<p>“不麻烦。”凯瑟琳的声音有些生硬，而且带点他以前听到的愤怒腔。“我去热下就可以了。”</p>
<p>她走进厨房。斯通纳一个人坐在那个小房间里，闷闷不乐地盯着咖啡桌，心想自己不该来。他想就是这种愚蠢驱使男人干些这种事情。</p>
<p>凯瑟琳端着咖啡壶和两个杯子过来。她倒上咖啡，两个人坐着看着从黑色液体中冒出的蒸汽。她从压扁了的盒里取出一支烟，点着，紧张地吸了会儿。斯通纳开始想到他带来的那本书，还攥在手中。他把书放在他们中间的咖啡桌上。</p>
<p>“也许你可能对它兴趣不大，”他说，“不过，我是偶尔碰到点东西，也许对你有些帮助，我想——”</p>
<p>“我已经将近两星期没看到你了。”她说，然后把香烟掐灭，在烟灰缸里使劲拧了几下。</p>
<p>他吃了一惊，心慌意乱地说：“我特别忙——好多事情——”</p>
<p>“不要紧，”她说，“真的，没关系，我不该……”她用手掌抹了下额头。</p>
<p>斯通纳关心地看着她，心想她一定是发烧了：“真难过，你生病了。如果有什么我能——”</p>
<p>“我没有生病，”她说，又用一种镇定、沉思，几乎毫无主观色彩的声音补充了一句，“我是极度、极度不开心。”</p>
<p>他还是不明白。这种直白、斩钉截铁的表达像一把尖刀般扎进他心里。他转过来稍微离开点凯瑟琳，迷惑不解地说：“很抱歉。你能告诉我是怎么回事吗？看有什么事情我能做……”</p>
<p>凯瑟琳抬起头，她表情僵硬，眼睛却泪水汪汪，闪闪发亮。“我不想为难你。实在抱歉。你大概觉得我很傻吧。”</p>
<p>“不。”斯通纳说。他又看了看凯瑟琳，看着她苍白的脸，似乎借助某种意志的努力，依然保持着毫无表情的姿态。接着，他看着自己那双瘦骨嶙峋、绞在一起、放在一只膝头的大手，几根手指生硬粗壮，关节就像长在黄褐色皮肉上的白色瘤节。</p>
<p>他终于沉重又缓慢地说：“很多方面，我都是个无知之徒。愚蠢的是我，不是你。我没有来看你是因为，我想——感觉我会变成一个讨人嫌的东西，可能未必是这样。”</p>
<p>“不是，”她说，“不是，不是这样。”</p>
<p>斯通纳仍然盯着她继续说：“我不想惹得你不方便，因为要应付——应付——我对你的感情，这个，我知道，如果我继续总来看你，迟早会露出痕迹来。”</p>
<p>她没有动，两行泪水从眼睑上方迸涌而出，从面颊上流下来，她也不去擦一下。</p>
<p>“我也许有些自私。我感觉除了让你尴尬，让我不愉快，不会有任何结果。你知道我的——处境。在我看来好像不可能，你会——对我产生任何感情，除了——”</p>
<p>“别说了，”她温柔又激烈地说，“噢，我亲爱的，别说了，坐过来吧。”</p>
<p>斯通纳发觉自己浑身颤抖着，像个笨拙的男孩般绕过咖啡桌，在她身边坐下。他们的手犹犹豫豫、笨拙地向对方伸出去，用了个拙劣、压抑的拥抱姿势紧紧搂在一起。两人一动不动，挨着坐了好长时间，好像稍微动一动就会放走他们之间通过单纯的抓握所保持的那种陌生又可怕的东西。</p>
<p>她的眼睛，斯通纳本以为是深褐色或者黑色的眼睛，其实是一种深深的紫罗兰色。有时这双眼睛会碰着房间里一盏昏暗的灯发出的光，然后湿漉漉地闪烁着光泽。他会把脑袋朝这边那边转来转去，这双眼睛在他的凝视下，会迎着他的活动而改变颜色，所以，即便在休息的时候，这双眼睛好像永远不会安静不动。她的皮肤，从一定距离看好像那么冰冷和苍白，其实里面却透着温暖的红润，像牛奶般半透明色底下流溢的光。就像这种半透明的肌肤，镇定、冷静和克制，他以前觉得这些品质就是她本人的写照，这些品质像面具般掩饰着热情、嬉戏和幽默，其强烈程度因为伪装它们的表面而使之成为可能。</p>
<p>四十三岁那年，斯通纳学会了别人——比他年轻的人——在他之前早就学会的东西：你最初爱的那个人并不是你最终爱的那个人，爱不是最终目标而是一个过程，借助这个过程，一个人想去了解另一个人。</p>
<p>他们都很羞怯，对彼此的了解都缓慢而又带着试探的色彩。两个靠近了，然后分开，接触了然后又缩回，也不想给对方身上添加更多可能受欢迎的东西。一天又一天，那层保护他们的克制的皮层逐渐脱落，所以，最后，他们像许多极其羞怯的人一样，彼此向对方敞开，完美又无拘无束、惬意地撤去了保护，而且有绝对无拘无束的惬意感。</p>
<p>几乎每天下午，斯通纳上完课后就去她的公寓。他们做爱，说话，然后又做爱，像孩子玩游戏般不知疲倦。春天的日子延长了，他们渴望夏天的到来。</p>
<p>斯通纳还非常年轻的时候，认为爱情就是一种绝对的存在状态，在这种状态下，如果一个人挺幸运的话，可能会找到入口的路径。成熟后，他又认为爱情是一种虚幻宗教的天堂，人们应该怀着有趣的怀疑态度凝视它，带着一种温柔、熟悉的轻蔑，一种难为情的怀旧感。如今，到了中年，他开始知道，爱情既不是一种优美状态，也非虚幻。他把爱情视为转化的人类行为，一种一个瞬间接一个瞬间，一天接一天，被意志、才智和心灵发现、修改的状态。</p>
<p>以前，他在办公室里凝视着窗外在自己空洞的注视中闪烁不定和空洞化的风景时打发的时间，现在都跟凯瑟琳一起度过。每天早晨，他早早地就去办公室，焦躁地坐上十到十五分钟，然后，由于无法安静下来，就漫步走出杰西楼，穿过校园去图书馆，在那里的书架中浏览十到十五分钟。最后，好像成为跟自己玩的一个游戏，他从自我强加的怀疑状态解脱出来，从图书馆的侧门溜出来，一路走到凯瑟琳住的那幢楼。</p>
<p>凯瑟琳经常工作到深夜，有时，早晨，他到公寓时，发现她刚刚睡醒，还带着睡眠的温暖和性感，那件深蓝色的睡袍里面一丝不挂，她穿上就过来开门。在这样的早晨，他们经常几乎来不及说话就开始做爱，走到那张自然乱糟糟、还带着凯瑟琳睡觉时留下的余温的窄床前。</p>
<p>她的身材修长、纤细、满怀温柔的激情，他抚摸时，笨拙的手在肉体上好像活了起来。有时，他会凝视着她的身体，像是一座结实的金银宝藏，交给他保管，他粗硬的手指抚弄着大腿以及腹部潮湿、隐约散发着粉红色光泽的皮肤，惊叹着她那小小的硬实的乳房，精巧而细腻。他忽然想到，自己还从不了解另一个人的身体。他甚至想到，这就是他经常把另一个人的自我与随身携带这个自我的躯体分离开来的原因。最后他又想到，几乎是决定性地领悟到，自己从未怀着任何亲密或者信任，乃至人类托付的温暖去了解过另一个人。</p>
<p>像所有的情人那样，他们谈了许多自己的事情，好像可以借此理解造就了他们的这个世界。</p>
<p>“我的天，我怎么就贪恋上你了，”凯瑟琳有一次说，“我经常看到你站在教室前面，这样伟岸、可爱和笨拙，我经常强烈地贪恋你的某些东西。你从来不知道，你知道吗？”</p>
<p>“不知道，”斯通纳说，“我想你是一个非常得体的年轻女子。”</p>
<p>她愉快地大笑起来。“得体，没错！”她变得稍微严肃些，然后像回忆往事般微笑着。“我想是的，噢，我们没有理由不得体的时候，在自己看来显得多么得体！只有在爱的时候才会对自己有所了解。有时，跟你一起，我感觉自己就是这个世界上最浪的荡妇，世界上最饥渴和忠实的荡妇。你觉得这样得体吗？”</p>
<p>“不，”斯通纳说，然后伸手揽过她，“过来。”</p>
<p>斯通纳得知，她以前有过一个情人，那是她大学高年级的时候，而且了结时非常糟糕，充满了泪水、指责和背叛。</p>
<p>“大多数恋爱都是悲惨结束的。”两个人一时都沉闷不响了。</p>
<p>斯通纳很震惊，得知她之前有过一个情人时自己居然感到惊讶。他意识到，在自己开始觉得他们走到一起前，两人并没有真正好好地生活过。“他是个挺害羞的男孩，”凯瑟琳说，“我想，在某种程度上很像你，只是他总觉得痛苦和忧心忡忡，我不知道是怎么回事。他经常在去宿舍的路尽头一棵大树下等我，因为太害羞，不敢出现在人很多的地方。我们经常散步行走好几英里，一直走到乡村，在那里我们就不会看到任何人。可我们从来没有真正——在一起。甚至做爱的时候。”</p>
<p>斯通纳几乎能够看到这个模糊的身影，没有脸，没有名。他的吃惊化作悲哀，对这个不知名的男孩有种宽宏的同情心，这个男孩由于某种不明原因的迷茫痛苦，抛弃了的人又被斯通纳拥有了。</p>
<p>有时，在做完爱后随之而来的那种昏昏欲睡的懒惰状态，斯通纳在一种自以为缓缓、温柔的感觉和不匆不忙的思绪流动中躺着，在那种流动状态，他几乎不知道自己是否在出声讲话，或者只是辨认出情感和思想最终附着其上的那些语词。</p>
<p>他幻想过好多完美情景，幻想过他们可以永远在一起的很多世界，半信半疑地相信实现的可能性。“那些，”他说，“能够实现就好了。”然后继续构思某种可能性，不比他们生存的这个世界更有吸引力。这是他们两个人都不曾说出口的默契，即那些他们想象和构思的可能性都是爱的示意，是对他们现在一起过的生活的颂扬。</p>
<p>他们现在一起过的生活，以前谁都没有真正想象过。他们从激情中萌发，再到情欲，再到深情，这种深情在时时刻刻不断自我翻新着。</p>
<p>“情欲和学问，”凯瑟琳曾经说，“真是全都有了，不是吗？”</p>
<p>在斯通纳看来，完全就是这样，认为这个是他早已明白的东西。</p>
<p>因为他们在一起生活，那个夏天并不全用来做爱和交谈。他们学会了在一起而不必非要说话，养成安静的习惯。斯通纳经常带些书到凯瑟琳的公寓，然后把书放在那里，最后只好多装了一个书架来存那些书。在他们一起度过的那些日子，斯通纳发现自己又回到曾经拥有但却抛弃的书房里。凯瑟琳继续写那本要当作学位论文的书。她经常在靠墙的那张小桌子边一坐就是几个小时，低着头全神贯注在书本和纸张上，纤细苍白的脖颈弯弯的，从习惯穿着的那条深蓝色睡袍里流动出来。斯通纳蜷在椅子里或者躺在床上，神情同样专注。</p>
<p>有时他们会从书本上抬起眼睛，朝对方笑笑，然后接着读书。有时，斯通纳会把头从书上抬起来，凝视的目光停留在凯瑟琳脊背优美的曲线上，停留在总是垂着一撮头发的纤细的脖颈上。接着，一种缓慢、舒服的欲望像无风状态般从全身流过，他就起身站在凯瑟琳后面，把胳臂轻轻地搭在她的肩膀上。她会竖直身子，把头往后靠在他的胸脯上，他的双手向下伸进宽松的睡袍中，轻柔地抚摸她的乳房。然后他们又开始做爱，安静地躺一会儿，接着继续看书研究，好像他们的爱情和学问是一个过程。</p>
<p>这是那年夏天他们学到的被称为“成见”的奇谈怪事之一。他们是在这样一种传统中成长起来的：这种传统以这样或那样的方式告诉他们，精神生活和情感生活是分离的，而且事实上也是互相为敌的。他们相信，虽然从来没有真正深思过，在某种程度上选择其中一个就要以牺牲另一个为代价。那种其中一方强化另一方的事在他们身上从未发生过。由于这种具体表现是在认识到这个真理之前就出现的，这似乎是一种专属他们的发现。他们开始收集这种怪异的“成见”，把它们当金银宝贝般积藏起来，这种东西有助于把他们从这个灌输给他们这些意见的世界孤立出来，有助于以某种微不足道却感人的方式拉在一起。</p>
<p>然而，还有另外一种斯通纳意识到却没有跟凯瑟琳讲起过的怪事。这种怪事与他跟妻子和女儿的关系有关。</p>
<p>按照“成见”，他和妻女的关系应该随着那种成见描述为他的“绯闻”的向前发展，会持续恶化。但事情并非如此。相反，好像还在持续地改善。他长时间不在仍然不得已称之为“家”的地方，似乎让他与伊迪丝和格蕾斯比前些年更亲近。他开始对伊迪丝产生了某种奇怪的友谊感，近乎钟情，他们甚至时不时聊些没什么具体内容的事情。那年夏天，她甚至清理了玻璃门廊，修理了天气原因造成的损坏，还在那里放了张白天休息的床。这样他就不必再在起居室的沙发上睡了。</p>
<p>有时，周末，她会去拜访邻居，让格蕾斯单独跟父亲在一起。偶尔，在他看来伊迪丝还会出去很久，跟女儿去乡下散步。离开家后，格蕾斯那种生硬、警惕的拘谨就会掉落，有时还会露出斯通纳几乎忘却的沉静和充满魅力的微笑。去年，她的个头长得很快，而且很瘦。</p>
<p>只有通过意志的刻意努力，他才能让自己想到他在欺骗伊迪丝。他生活中的两部分是分开的，分离的程度到了一种生活能够分离的最大限度。虽然他知道自己的反省能力是很弱的，而且善于自我欺骗，他还是难以让自己相信，他在伤害着感觉应该对其负责的什么人。</p>
<p>他没有那种掩饰的本领，也没想到过掩饰与凯瑟琳·德里斯科尔的关系，也没想到过故意表现给什么人去看。在他看来，外面的人似乎不可能会察觉他们的关系，更别说对之兴趣盎然了。</p>
<p>因此，那年夏天快到头时，他发现伊迪丝知道了他们的关系，而且她几乎从一开始就知道，他有种深深而又漠然的震惊。</p>
<p>一天早晨，他喝早咖啡时磨蹭了很长时间，跟格蕾斯说着话，伊迪丝漫不经心地提到这件事。伊迪丝话音有些尖厉，告诉格蕾斯吃早餐时不要拖拖拉拉，别浪费时间，还要练习学一个小时的钢琴呢。斯通纳看着女儿细瘦、笔直的身影走出餐室，心不在焉地等着，直到最后听见那架老钢琴发出响亮的乐音。</p>
<p>“唉，”伊迪丝说，声音里仍然带着些微那种尖厉，“今天早上你恐怕要有些迟到了吧？”</p>
<p>斯通纳询问般转向伊迪丝，脸上仍然带着恍惚的表情。</p>
<p>伊迪丝说：“你的小同事不生气吗，如果你让她等着的话？”</p>
<p>他感觉嘴唇开始麻木起来。“什么？”他问道，“什么意思？”</p>
<p>“噢，威利，”伊迪丝说完放纵地大笑起来，“难道你以为我不知道你那点——小风流？得了，我从头到尾都知道。她叫什么名字？我听说过但忘了。”</p>
<p>在震惊和混乱中，斯通纳脑子只抓住一个词，他说话时，声音听上去烦恼中带点任性。“你不明白，”他说，“没有——风流，像你说的那样，那是——”</p>
<p>“噢，威利，”她说完又大笑一声，“你显得这么惊慌，噢，这种事儿我全知道。你这种年龄的男人就这么回事。这也很自然，我想。至少他们说是这样。”</p>
<p>他沉默了片刻，接着又勉为其难地说：“伊迪丝，如果你想谈谈这事儿——”</p>
<p>“不想！”她说，话音中带着一丝恐惧。“没有什么好谈的，完全没有。”</p>
<p>从那以后或者从此以后，他们再没有谈过这件事。大多数时候，伊迪丝总是维持这样的假设，是工作让他经常不在家，但是，偶然，而且几乎是漫不经心，她会说出一直存在内心某个地方的想法。有时她调侃地说出来，带点逗乐的亲切劲儿；有时说的时候完全没有感觉，好像是她能想象得到的最普通的聊天话题；有时她说起来很任性，好像什么琐事让她很烦恼。</p>
<p>她说：“噢。男人一旦过了四十都会这样。可是说真的，威利，你年龄大得足以当她的父亲了，你不觉得吗？”</p>
<p>他没有想过，面对外人，面对这个世界，他要显得像什么样子。一时间，他认为自己显示出的样子就是他必须显示的样子。伊迪丝说的就是他看到的部分。他看到过一个身影，轻快地穿梭在吸烟室的轶事中，穿过廉价小说的书页——一个可怜的小伙子进入中年，被妻子误解，试图让青春重放光彩，找了个年龄比自己小的姑娘，笨拙、傻乎乎地找到自己不曾有过的青春，一个愚笨、打扮得花里胡哨的小丑，世人出于别扭、同情、蔑视而耻笑着这个人。他极力凑近看着这个身影，可是他看的时间越长，这个身影变得越不怎么熟悉。他看到的不是自己，他忽然明白，这个影子谁都不是。</p>
<p>但是，斯通纳知道，外面的世界悄然向他逼近，也在逼近凯瑟琳，同时也逼近他们以为属于自己的那个小窝了。他悲伤无奈地看着这种逼近，却不能说出口，甚至对凯瑟琳也说不出口。</p>
<p>秋季学期在那年九月开始，但仍然是绚丽多彩、温和的夏天的天气。一场早霜过后，九月便到了。斯通纳又回来教他的课，满怀很久不曾体验过的渴望；连即将面对三百多张新生的脸都无法暗淡他焕发的生气。</p>
<p>他跟凯瑟琳的生活还是如同从前，只是，随着学生和更多教工回来，他开始觉得有必要学着谨慎小心些。夏天的时候，凯瑟琳住的那幢老房子几乎没有什么人，因此他们差不多可以完全与世隔绝地待在一起，不用害怕被人看到。现在，中午后斯通纳去她住的地方时得更加小心，靠近房子时就已经在街上东张西望了，然后鬼鬼祟祟地走下那条楼梯，朝通向她房间的天井走去。</p>
<p>他们想到故作姿态，谈到公开蔑视。他们各自说，是受到诱惑干出些激烈的事情，故意表演。但他们并没有这样做，他们没有真正的欲望这样做。他们只想这样在一起不被人关注，只想独来独往。他们知道，想要这样，就不能独自待着，他们怀疑办不到独来独往。他们想象可以小心谨慎，但几乎马上想到，他们的恋情会被怀疑到。他们决定不要在大学里互相遇着，在公开场合实在无法避免遇到时，就一本正经打个招呼，其中的讽刺意味，他们并不觉得有多明显。</p>
<p>但是，他们的恋情被人知道了，而且在秋季学期开始后很快就被知道了。被发现很可能是因为人们对这种事有种天生的洞察力，因为两人谁都没有向外传递过有关私生活的任何信号。也许是某人胡乱猜想，跟别的什么人说的话一拍即合，这又导致人们对他们两个的关注更加严密，反过来又……他们知道，别人的猜度是没完没了的，但他们在继续制造着猜度。</p>
<p>有些迹象，他们判断已经表明被发现了。有一次，在两个男研究生后面，斯通纳听到一个半羡慕半蔑视地说：“老斯通纳，借上帝的光，谁敢相信？”——还看到他们在针对世风既嘲讽又不解地摇着脑袋。凯瑟琳的个别熟人拐弯抹角地提到斯通纳，不请自来给她说些自己恋爱生活的知心话。</p>
<p>让他们惊讶的是，两人好像都不当回事。没有人拒绝跟他们说话，没有人给他们黑脸。他们不是天生要被这个他们害怕的世界折磨的。他们开始相信，可以生活在自以为对他们的爱情充满敌意的世界，在那里自尊又舒服地活着。</p>
<p>圣诞节假期，伊迪丝决定带上格蕾斯去看看住在圣路易斯的母亲，这是斯通纳和凯瑟琳一起生活来唯一一次能够长时间相处的一段日子。</p>
<p>两人各自有意无意地让人知道，圣诞节假期他们将离开大学。凯瑟琳想去东部看亲戚，斯通纳要去堪萨斯城的资料中心和博物馆做研究。他们选择在不同的时候分乘不同的巴士，最后在奥扎克湖相聚，那是大奥扎克地区偏僻的山地度假村。他们是村子唯一旅舍的唯一客人，那间旅舍依然常年开放。他们一起待了十天。</p>
<p>到之前就已经下了三天大雪，住的那段时间又开始下了，所以，他们住在那里期间，那些缓缓起伏的小山一直都是白白的。</p>
<p>他们开了个带卧室、起居室、小厨房的小木屋，好像是从别的木屋里挪过来的，在那里可以俯视冬天几个月里还结着冰的湖。早晨，他们一醒来就发现两人紧紧搂在一起，在厚厚的毛毯下面身体暖暖的，散发着情欲的奢靡。他们把头探出毛毯，看着呼出的气在冰冷的空气中凝成的大云团。他们像孩子般大笑着，把被单从头顶上拉过来，然后更加亲密地压在一起。他们有时做爱，有时整个早晨都待在床上说话，直到阳光从东边的窗户穿过来。有时只要一醒来斯通纳就从床上蹦起，揭掉凯瑟琳赤裸裸的身体上的被单，当他在那个巨大的壁炉里点燃火时，就冲着她的尖叫声大笑不已。接着他们又在壁炉前相偎在一起，身上只裹着一条毛毯，等着被逐渐大起来的火苗以及身体的自然温度给暖热了。</p>
<p>虽然很冷，他们还是差不多每天都要在林子里散步。高大的松树，在白雪的映衬下看上去黑中带绿，树梢气派地指向淡蓝色、干净无云的天空，偶尔，某条树枝上雪块悄然移动，扑通一声落在地上，反而强化了四周的寂静，就像一只孤独的鸟儿唧唧喳喳的鸣叫反而突出了他们散步的地方的幽深孤独。有一回，他们看见一头鹿从更高的山上跑下来找吃的。这是一只幼鹿，在黝黑的松树和白雪的映衬下，焦黄色的皮毛显得光彩夺目。这头小鹿离他们有50码，面朝他们，一只前爪轻轻地从雪地上提起来，小小的耳朵向前扑着，黄褐色的眼睛格外圆，而且眼神柔和得不可思议。谁都没有动。小鹿斜着精致的脸蛋，好像带着礼貌的质疑看着他们。接着，小鹿不慌不忙转身离去，高高地抬着脚走出雪地，每一步都走得那么精确，一路发出尖细的踩踏声。</p>
<p>下午，他们就去旅舍的主办公室，那里也当度假村的综合商店和饭馆用。他们在那里要了杯咖啡，然后随便跟过来的人聊聊天，顺便买些做晚饭用的食材，他们一般都是在小木屋里做饭吃的。</p>
<p>晚上，他们有时点亮油灯，读会儿书，但更多时候坐在壁炉前叠好的地毯上聊天说话，然后默默地看着圆木上火苗千变万化地飞舞，看着火光在对方的脸上飞舞。</p>
<p>一天晚上，他们在一起快要结束的时候，凯瑟琳平静地说，几乎是出神地说：“比尔，如果我们不曾拥有过别的任何东西，至少还有这一星期。这话听起来是不是挺孩子气的？”</p>
<p>“听着是什么没什么关系。”斯通纳说。他点点头。“这是真心话。”</p>
<p>“那我就想说，”凯瑟琳说，“我们至少有过这一星期。”</p>
<p>最后那天早晨，凯瑟琳把家具都摆顺了，开始慢腾腾又仔细地清理住过的地方。她摘掉戴的婚戒，塞在墙壁和壁炉之间的一条缝里。她尴尬地笑了笑。“我想，”她说，“在这里留下点我们自己的东西，留下点我知道会存放在这里的东西，只要这地方还存在。这样做可能挺傻的。”</p>
<p>斯通纳不知道该怎么回答。他把凯瑟琳揽在怀里，走出小木屋，踩着雪穿过去，向旅舍办公室走去，那儿将有巴士接上他们，带他们回哥伦比亚。</p>
<p>二月底的一天下午，第二学期开学后没几天，斯通纳接到戈登·费奇的秘书打来的一个电话，说院长找他谈谈，问他下午或者明天上午能否过来。斯通纳说可以——电话挂断后，他一只手按着话筒坐了会儿，接着又叹口气，独自点点头，然后下楼去了费奇的办公室。</p>
<p>戈登·费奇穿着长袖衬衣，领带松开着。他在转椅里向后靠着，双手交叉放在脑袋后面。斯通纳走进房间时，他和气地点点头，指着放在桌子旁边一角的那把包着皮革的摇椅。</p>
<p>“放松些，比尔。你最近怎么样？”</p>
<p>斯通纳点点头。“挺好。”</p>
<p>“课挺忙的吗？”</p>
<p>斯通纳干巴巴地说：“原则上是这样。课表排得满满的。”</p>
<p>“我知道，”费奇说，然后摇摇头，“我不能干涉到那个地步，你知道。但这真是太糟糕了。”</p>
<p>“没关系。”斯通纳有些不耐烦地说。</p>
<p>“唉。”费奇从椅子上直立起身子，双手交叉着放在前面的桌上。“这次让你过来没什么正事，比尔。我只想跟你聊会儿天。”</p>
<p>沉默了好久。斯通纳温和地说：“怎么回事儿，戈登？”</p>
<p>戈登·费奇叹了口气，接着忽然说：“好吧。我想以一个朋友的身份跟你说说。有这么些流言蜚语。作为一个院长，这也不是我非得关注的事儿，可是——嗯，有时我还不得不关注，我想应该跟你说说——作为一个朋友，关心你——免得酿成什么严重的事儿来。”</p>
<p>斯通纳点了点头说：“什么流言蜚语？”</p>
<p>“噢，见鬼，比尔。你和德里斯科尔姑娘的事。你知道。”</p>
<p>“嗯，”斯通纳说，“我知道。我只想知道这事会传到什么程度了。”</p>
<p>“也没那么严重。无非是含沙射影，议论之类的。”</p>
<p>“我明白了，”斯通纳说，“我不知道该怎么办。”</p>
<p>费奇认真地叠着一张纸。“是认真的吗，比尔？”</p>
<p>斯通纳点点头，望着窗外。“认真的，我想。”</p>
<p>“你想怎么办？”</p>
<p>“我不知道。”</p>
<p>费奇忽然猛地一使劲把刚才仔细叠起来的纸揉碎了，扔进废纸篓里。他说：“在理论上，你过什么样的生活，那是你自己的事儿。在理论上，你可以操任何人，只要你想，可以做你想做的任何事，只要不影响到你的教学，就不应该有事。可是，见鬼，你的生活不是自己随心所欲就想过的。是——噢，见鬼。你知道我的意思。”</p>
<p>斯通纳笑了。“我想我明白。”</p>
<p>“这事不好办。伊迪丝怎么办？”</p>
<p>“显然，”斯通纳说，“她对待整个这件事不像其他任何人那样特别当回事儿。说来真有意思，戈登。我不相信我们相处得会比去年更好。”</p>
<p>费奇骤然大笑了一声。“你闹不明白，对吗？但我的意思是，有没有可能离婚？发生诸如此类的事情？”</p>
<p>“我不知道。也许会吧。但伊迪丝会极力反对。那将成一团糟。”</p>
<p>“格蕾斯呢？”</p>
<p>斯通纳忽然感觉喉咙间一阵刺痛袭来，他知道表情透露出自己的感受了。“这是——另外一码事。我不知道，戈登。”</p>
<p>费奇不带个人感情地说，好像在讨论别人的事。“你也许会从离婚中获得新生——如果不是那么乱的话。那会相当麻烦棘手，但你可能会有安度过去的胜算。而且如果这个——跟德里斯科尔姑娘的事没有那么严肃的话，如果你只是随便上上床什么的，那可能会好办。可是你已经把脖子伸出去了，比尔，你是求之不得。”</p>
<p>“我想是吧。”斯通纳说。</p>
<p>停顿片刻。“这是我碰到的破事儿，”费奇沉重地说，“有时我想，我根本就不适合处理这种事。”</p>
<p>斯通纳笑了。“戴夫·马斯特思曾说你还不够混账，所以不会真正混得有多成功。”</p>
<p>“也许他说得对，”费奇说，“可我经常觉得自己就是这种人。”</p>
<p>“别担心，戈登，”斯通纳说，“我理解你的处境。如果我能让你好过一些我——”他打住后猛烈地摇了摇头，“可是我现在束手无策。我只有等待。看看……”</p>
<p>费奇点点头，也不看斯通纳。他盯着桌面，好像那是一场灭顶之灾，正在缓慢而不可阻挡地向他逼近。斯通纳等了会儿，看费奇不再说什么时就悄然站起，走出办公室。</p>
<p>因为跟戈登·费奇的这次谈话，那天下午，斯通纳去凯瑟琳的公寓时晚了些。他根本不当回事儿地打量了下大街，就走到人行道上，自个儿进去了。凯瑟琳正在等他，她没有换衣服，几乎是一本正经地等着，笔直地坐在那里，警觉地坐在沙发上。</p>
<p>“你来晚了。”她平淡地说。</p>
<p>“对不起，”他说，“我有些事耽误了。”</p>
<p>凯瑟琳点了支烟，手微微颤抖着。她看了看火柴，吐出一口烟吹灭。她说：“我的一个助教同事特意告诉我，今天下午费奇院长给你打电话了。”</p>
<p>“是的，”斯通纳说，“所以我耽搁了。”</p>
<p>“是跟我们有关吗？”</p>
<p>斯通纳点点头。“他听到了些事情。“</p>
<p>“我想就是这事儿。”凯瑟琳说，“我的助教朋友好像也知道点什么，她又不肯说。噢，天哪，比尔！”</p>
<p>“根本不是那么回事，”斯通纳说，“戈登是我的老朋友。我其实相信他想保护我们。我相信，只要能够，他就会。”</p>
<p>有那么片刻凯瑟琳不吱声。她踢掉鞋子，躺在沙发上，眼睛盯着天花板平静地说：“现在才刚刚开始。我想了很多，希望他们放过我们，我想，我们其实没有他们想的那么严重。”</p>
<p>“如果情况实在太糟，”斯通纳说，“我们可以离开。我们可以采取行动。”</p>
<p>“噢，比尔！”凯瑟琳小声笑起来，听上去沙哑又温柔。她从沙发上坐起来。“你是最亲爱的爱人，最亲爱，任何人能想象得出的最亲爱的爱人。我不会让他们打扰我们。我不会！”</p>
<p>随后的几个星期，两人在一起待的时间跟以前一样多。他们采取了一种一年前还无法实施的策略，以从前没有意识到的坚强，实施躲闪、回避等战术，像个兵力单薄却志在必胜的、足智多谋的将军般摆布着自己的力量。他们开始真的谨慎起来，小心起来，在这样的操控中享受着阴郁的快感。斯通纳只在天黑后才去她家里，这时不会有人看见他进去。白天的时候，在课间的时候，凯瑟琳故意跟更年轻的男同事现身在咖啡店，他们一起度过的时光反而因为这种共同的决心更有激情了。他们心里对自己说，而且对彼此说，他们比以前任何时候都更亲密了；让他们惊讶的是，他们发觉这是真的，发觉彼此安慰的话更贴心。他们实现了亲密，兑现了承诺。</p>
<p>他们生活其中的是一个暗淡的世界，他们把自己好的那部分带到这个世界——所以不久，外面那个人来熙往，语声哗然的世界，不断变化和持续运动的世界，在他们看来都是假的虚幻的。他们的生活在两个世界之间被截然分开，在他们看来这好像天经地义，就应该生活在这种分裂里。</p>
<p>隆冬时节和早春的几个月里，他们生活在一起时找到了以前从未有过的静谧。随着外面的世界向他们关闭，他们渐渐意识不到它的存在了。他们享受的那种幸福无需向对方言说，也无须想到它。在凯瑟琳那间狭小、阴暗的屋子里，像藏在那幢宏伟的老房子底下的洞穴，他们好像觉得自己游离于时间之外，在一个他们自己发现并且没有时间的宇宙中生活着。</p>
<p>后来，四月底的一天，戈登·费奇又叫斯通纳去一趟他的办公室，斯通纳怀着不愿承认的知情导致的麻木感走下去。</p>
<p>其实随后发生的事情简单之极，斯通纳应该提前料到，却没有料到。</p>
<p>“是劳曼克思，”费奇说，“不知怎么，这婊子养的抓住这事不放了。”</p>
<p>斯通纳点点头。“我早就应该想到这点。我应该料到这个。你觉得我去跟他谈谈有什么好处吗？”</p>
<p>费奇摇摇头，穿过办公室，在窗户前站住。晌午的阳光洒在他脸上，脸上的汗水亮晶晶的。他疲倦地说：“你不懂，比尔。劳曼克思是不会这样玩儿的。连你的名字都压根没提。他是在借德里斯科尔姑娘下手。”</p>
<p>“他什么？”斯通纳茫然地问道。</p>
<p>“你真得佩服他，”费奇说，“不知怎么，他知道我对这事完全知情。所以他昨天冷不防过来，你知道，告诉我说他要开除德里斯科尔姑娘，还警告我说这里可能藏着一桩丑事。”</p>
<p>“不行！”斯通纳说。他抓着摇椅皮扶手的手疼了起来。</p>
<p>费奇继续说：“据劳曼克思讲，经常有学生抱怨，还有些城里的居民，说好像总看见有男人出入她的公寓——明目张胆，举止轻佻——诸如此类的事吧。噢，他干得真漂亮，他个人不反对——他非常欣赏这姑娘，事实上——但他要为英文系和大学的声誉着想。我们理解这种必须向中产阶级主流的教条俯首听命的必要性，承认到处是学者的社区应该是反对清教伦理的叛逆者的避风港，最后说，现实些讲，我们也无可奈何。他说希望这事先拖着，到这个学期结束时再说，但他怀疑自己能否办得到。而且这婊子养的自始至终都知道我们绝对互相通过气。”</p>
<p>斯通纳喉头一紧，都说不出话来。他含含糊糊地咳了两下，试了试自己的声音，仍然稳定平缓。“当然，他的用意非常清楚。”</p>
<p>“我想是吧。”费奇说。</p>
<p>“我知道，他恨我，”斯通纳超然地说，“可我从未想到——我做梦都没想到他会——”</p>
<p>“我也没有。”费奇说。他走到桌子旁边，沉重地坐了下去。“我毫无办法了，比尔。我真的无可奈何。如果劳曼克思找投诉的人，他们立刻会出现。后续的东西他绝对准备好了，你知道。如果什么话传到校长那里——”他摇摇头。</p>
<p>“如果拒绝辞职，你想会怎么样？如果我们就是拒不害怕呢？”</p>
<p>“他会对那姑娘下狠手，”费奇平静地说，“而且，可能你也会貌似无意中被拖进去。这很清楚。”</p>
<p>“那么，”斯通纳说，“看来好像没什么办法了。”</p>
<p>“比尔。”费奇说，然后又沉默不语了。他把头搁在紧握的拳头上，闷声闷气地说，“还有个机会。只有一个。我可以拦住他，如果你——如果德里斯科尔只要——”</p>
<p>“不行，”斯通纳说，“我觉得做不出来。说真的，我觉得做不出来。”</p>
<p>“见鬼！”费奇的声音有些恼火。“他算计得很准！想一想吧，你能怎么样？现在是四月，差不多五月了，一年的这个时间你能找到什么活儿可干？——就算你能找到的话？”</p>
<p>“我不知道，”斯通纳说，“有些事……”</p>
<p>“伊迪丝怎么办？你认为她会屈服吗？不吵不闹让你离婚吗？还有格蕾斯？如果你一走了之，在这个地方，对她会有什么影响？还有凯瑟琳？你会过一种什么样的生活？会对你们大家产生什么影响？”</p>
<p>斯通纳不发一语，内心油然而起一种虚无感，有种凋谢、败落的感觉。他最后说：“你能给我一星期的时间吗？我得想一想。一个星期怎么样？”</p>
<p>费奇点点头。“至少我还可以拖他那么久。但不能再长了。很抱歉，比尔，你是知道的。”</p>
<p>“是。”斯通纳从椅子里起来站了片刻，试了试腿部沉甸甸的麻木感。“我会告诉你，等我想好了会告诉你。”</p>
<p>他走出办公室，踏进漫长走廊的黑暗中，步履沉重地走进阳光里，走进外面开阔的世界，无论他从哪里转过身，这个世界都像一座监狱。</p>
<p>多年以后，在那些离奇古怪的时刻，他会回想跟戈登·费奇谈完话后的那些日子，几乎完全想不清楚发生了什么。他觉得自己好像一个死人，除了顽强的习惯性意志，什么都无法让他焕发活力。但是他奇怪地意识到自己的存在，意识到地点、人物，那几天从他身边流过去的事件。他知道，他向公众的关切展示的是一种掩饰自己处境的面貌。他还继续上课，跟同事打招呼，参加各种不得不参加的会——日复一日，他碰到的人没有一个觉得出了什么差错。</p>
<p>但是，从戈登·费奇的办公室出来的刹那，他就知道，从自己生命某个小小的中心滋长出的麻木深处知道，他生命的某个部分结束了，而且自己的这个部分离死亡如此之近，他几乎是从容不迫地看着它逼近。他隐隐约约意识到自己在初春的午后明媚清新的温暖中穿过校园。沿着人行道边和前院里的茱萸树正鲜花盛开，在他的注视中像柔软的云朵般颤抖着，透明又细薄，即将凋谢的百合花芳的香气弥漫在空中。</p>
<p>当他走到凯瑟琳的公寓时又很开心，既狂热又麻木。他把凯瑟琳提的跟院长最近见面的事儿放到一边，他强迫她大笑，他心怀无法量度的悲伤看着他们最后欢乐的努力，就像生命利用死亡的躯体跳的一场舞蹈。</p>
<p>但是，他们最后仍然要说话，他知道。虽然他们说的话就像在知悉的隐私中一遍又一遍彩排过的一场表演。他们通过符合语法规则的惯用法来揭示那种知悉：他们从完成时向前推进——“我们现在很快乐，不是吗？”——再到过去时——“我们以前很快乐——比任何人都更快乐，我想”——最后抵达语篇的必然要求。</p>
<p>跟费奇谈完话后的那几天，在某个半歇斯底里欢乐暂时中断的宁静时刻，他们选择这个时候，是因为把它看做通过最后在一起的几天反观自己的最适宜的时候，凯瑟琳说：“我们没有多少时间了吧，是吗？”</p>
<p>“没有了。”斯通纳平静地说。</p>
<p>“还有多久？”凯瑟琳问。</p>
<p>“几天，两三天吧。”</p>
<p>凯瑟琳点点头。“我过去以为自己可能忍受不了。但我现在麻木了。什么感觉都没了。”</p>
<p>“我知道。”斯通纳说。沉默片刻。“你知道，如果有什么事——不管什么我能做的事，我都会——”</p>
<p>“别，”她说，“我当然知道。”</p>
<p>他在沙发上往后靠过去，看着低矮、昏暗的天花板，那是他们的世界的天空。他平静地说，“如果我把这一切都抛弃了——如果我放弃了，一走了之——你会跟我走吗，会吗？”</p>
<p>“会。”她说。</p>
<p>“可是你知道，我做不到，你知道吗？”</p>
<p>“嗯，我知道。”</p>
<p>“因为那，”斯通纳自我解释说，“那就意味着什么都没有了——我们什么都做不了，我们就什么都不是了。几乎可以肯定我就不能教书了，而你——而你也会变得面目全非。我们两个都会变得面目全非，不是我们本来的样子。我们都会——一文不名。”</p>
<p>“什么都不是了。”她说。</p>
<p>“我们至少现在可以从这件事中走出来，还能做我们自己。我们知道我们是——知道我们是什么样的人。”</p>
<p>“是。”凯瑟琳说。</p>
<p>“因为从长远看，”斯通纳说，“不是因为伊迪丝，甚至不是因为格蕾斯，或者注定要失去格蕾斯，让我继续留在这里。不是因为对你或者我来说，这是个丑闻或者伤害，不是因为这是我们非要克服的磨难，甚至不是因为我们可能要面对爱的痛失，只是因为害怕我们自我的毁灭，以及我们现在所做一切的毁灭。”</p>
<p>“我知道。”凯瑟琳说。</p>
<p>“所以，我们最终还是属于这个世界，我们应该早知道这点。我相信我们是知道的，但我们得退出来一点儿，假装一点儿，这样才能——”</p>
<p>“我知道，”凯瑟琳说，“我始终很明白这点，我想。即便假装，我还是知道，有时，有时，我们会……我知道了。”她停了下，定定地看着斯通纳，眼睛忽然泪光闪闪。“可是太倒霉了，比尔！真倒霉！”</p>
<p>两个人都不再多说什么。他们紧紧地拥抱在一起，这样彼此都不用看着对方的脸，然后又开始做爱，这样就用不着说话。他们怀着非常默契的温柔旧情和因为即将失去而更加的强烈心情做着爱。最后，在那个小屋黑暗的夜色中，他们默默无语、安静地躺着，身体轻轻挨着。过了很久，凯瑟琳的呼吸才平稳起来，好像睡着了。斯通纳悄无声息地起来，在黑暗中穿好衣服，没有叫醒她就走出屋子。他在哥伦比亚宁静、空荡的大街上走着，直到东方开始露出第一丝灰暗的光线，然后直接朝大学校园走去。他在杰西楼前的石阶上坐下，看着从东边过来的那束光爬上院子中间那几根巨大的石柱上。他想到自己出生前的那场大火，焚毁了老楼的那场大火。他被遗留的景象弄得隐隐约约有些伤感。等天大亮了，他就走进大楼，向自己的办公室走去，在那里一直等到第一堂课开始。</p>
<p>他再也没有见到过凯瑟琳·德里斯科尔。他离开后，凯瑟琳当天晚上就起了床，收拾好所有的行李，用纸箱装好自己的书，给公寓楼的管理员留了句话，告诉他把这些东西寄到哪里。她把自己批改好的成绩单寄给系办，顺便寄出取消这周以及下半学期课程的通知，以及辞职书。那天下午两点，她搭上火车踏上了离开哥伦比亚的旅程。</p>
<p>她肯定早就开始计划自己的离去了，斯通纳后来意识到，他很感激自己不知道，感激她最后没有留下字条说些已经没法说的话。</p>
<p>那年夏天斯通纳没有再上课，平生第一次得了场病。是严重而且来历不明的高烧，只持续了一星期。但这场病把他的气力淘空了。他变得异常憔悴，痛苦的是还患上了由此导致的部分听力丧失。整个夏天，他都非常虚弱和无精打采，走几步就好像把精力全部耗光了。他差不多整天都在家里屋子后面那个封闭的小走廊里度过，躺在白天用的那张床上，或者坐在从地下室取上来的那把摇椅里。他盯着窗外或者用木条做的天花板，不时让自己振作起来去厨房吃口东西。</p>
<p>他几乎没有精力跟伊迪丝甚至格蕾斯说话——虽然伊迪丝偶尔走进后屋，心烦意乱地跟他说上几句话，然后又跟他撞进来时一样骤然把他一个人撇在那里。</p>
<p>仲夏的某一天，她有一回说起凯瑟琳。</p>
<p>“我一两天前才听到，”她说，“这么说你的小搭档走了，是吗？”</p>
<p>他使了一把劲儿，把注意力从窗户那儿引开，转过来看着伊迪丝。“是的。”他淡淡地说。</p>
<p>“她叫什么名字来着？”伊迪丝问。“我总是记不住她的名字。”</p>
<p>“凯瑟琳，”他说，“凯瑟琳·德里斯科尔。”</p>
<p>“噢，是叫这名儿，”伊迪丝说，“凯瑟琳·德里斯科尔。瞧，你看清楚了吗？我告诉过你了可不是？我告诉过你，这种事没什么大不了的。”</p>
<p>他心不在焉地点点头，外面，紧挨着后院篱笆的那棵老榆树里，一只黑白相间的大鸟——喜鹊——开始唧唧喳喳地叫起来。他听着喜鹊呼唤的声音，带着出神的着迷劲儿看着它使劲送出压抑孤独的叫声时张开的尖嘴。</p>
<p>那年夏天，斯通纳骤然老了，所以秋季他回去上课时，有个别学生都没有认出他来，开始还有些意外。他的脸已经瘦削憔悴，瘦骨嶙峋，出现了深深的皱纹。发丛间已经横穿过片片灰色，背驼得更严重了，好像背着一件看不见的重东西。他的声音慢慢有些沙哑和不连贯，已经出现了低着头看人的倾向，所以在他纠结的眉毛下面，那双清澈的灰眼睛显得很锋利，好像总在哀诉着什么。除了学生，他很少跟人说话，现在他回答问题和待人接物总是缺乏耐心，有时还很粗鲁。</p>
<p>他工作起来有一股狗一般的倔强劲儿和毅力，惹得老同事们都觉得好笑，同时又让更年轻的老师非常恼火，这些人像他一样，只教新生的写作。他花好几个小时批改新生的作文，每天都找学生谈话，忠诚地参加系里的所有会议。在这样的会上，他不怎么发言，但发言时又毫无策略或者外交技巧，所以在同事中逐渐落了个粗硬无礼和脾气坏的名声。但是，对年轻的学生，他却温柔和耐心又加，但他要求学生们做的作业量远比他们希望交的要大，而且表现出一种并不针对个人的强硬姿态，这让许多学生很难理解。</p>
<p>同事中形成一个共识——特别是那些更年轻的同事——他是一个“敬业奉献”的老师，这个词从他们嘴里说出来，妒忌与蔑视兼而有之。这个人的奉献精神让他看不到教室以及往大里说大学高楼外面发生的任何事物。校园里还流传一些温和的玩笑：在一次系里召开的会上，斯通纳唐突地谈到最近语法教学方面的若干实验，会后，一个年轻助教评论道：“对斯通纳来说，连系是严格限定在动词范围的。”而且对笑声的性质和一些老同事别有意味的互相交换眼神很吃惊。还有一个人说过：“老斯通纳认为WPA就是代表错误的代词先行词。”而且得知他的这句俏皮话风行过一阵子时还很得意。</p>
<p>但是，威廉·斯通纳认识这个世界的方式没有几个年轻同事能够理解。在他内心深处，在他的记忆深处，是对困苦、饥饿、忍耐和痛苦的知悉。虽然他很少想起早年在布恩维尔农场的经历，但是他的意识边缘却经常会想到自己的血缘传承。这是祖辈给予的传承，而他们过着卑贱、辛苦、坚忍的生活，他们共同的道德信仰就是把自己的脸交给一个严苛不公的世界，而那一张张脸毫无表情，铁硬又荒凉。</p>
<p>虽然他回顾那些时带着明显的无动于衷，但对自己生活的时代仍然有所洞察和感知。那十年里，当很多人的脸上都可以看到带着永恒的冷漠和荒凉，好像在凝视一道深渊，对斯通纳来说，那副表情就像他行走其中的空气一样熟悉，他仿佛看见了从孩提时就熟悉的那种无所不在的绝望的信号。他看到，好人都落入缓慢、绝望的衰落中，当他们对体面生活的憧憬崩溃时，人也随之崩溃。他看着他们漫无目标地在大街上行走，眼睛像破碎的玻璃片般空洞；他看到他们走向后门，带着走向刑场的人才有的那种苦涩的自豪，讨要能让他们继续乞讨所需要的面包。他见识过好多人，他们曾经昂首阔步，很有身份感，因为自己作为在某种意义上不会倒闭的某个机构的终身雇员享有的那点可怜的安全，他们怀着嫉妒和痛恨兼有的感情看着他。对于这些觉悟，他从不声张，可是对这种在很多方面打动他、改变了他、深藏在大众视野之外的共同痛苦的洞悉，以及对这种共同困境毫不声张的伤心，永远不会离他生活的任何时刻太远。</p>
<p>他还想到欧洲的纷扰，犹如一场遥远的噩梦。1936年七月，当佛朗哥反抗西班牙政府而叛乱，希特勒又煽风点火把这场叛乱引向一场大战时，斯通纳像其他许多人一样，对这种噩梦般的景象感到恶心，从梦中逃进这个世界。那年秋季学期开始时，那些年轻些的助教已经不怎么谈别的事儿了，有些人高调宣示了想参加志愿军的意愿，要为保皇派而战斗，或者去驾驶救护车。第一学期快结束时，他们中有几个人其实已经采取行动，提交了草率的辞职报告。斯通纳想起了戴夫·马斯特思，昔日的失落焕发出新的烈度再次袭来。他又想起阿切尔·斯隆，回忆起将近二十年前，那种渐渐强大到盖过那张喜欢冷嘲热讽的脸的慢性痛苦，以及驱散了那种严峻本身的慢慢腐蚀的绝望——他想，他现在明白了，说来微不足道，斯隆忧虑的某种徒劳感。他已经预见到向前延伸的好多年，知道最坏的东西就要来了。</p>
<p>正如阿切尔·斯隆曾经做的那样，他意识到了把一个人的自我完全托付给这些毫无理性和黑暗的力量纯属徒劳和浪费，这些力量推动着这个世界走向不知的终点。同样，像阿切尔·斯隆不曾做过的那样，斯通纳缩回一点小小的距离来怜悯，来爱，所以，他没有被自己所观察到的那股洪流击着。像在其他危机和绝望时刻一样，他再次把目光投向深植在大学这个机构里的审慎的信仰。他心想那虽然没有多少，但知道这是自己拥有的全部了。</p>
<p>1937年夏，他感觉研究和做学问的古老激情再度焕发出来，怀着学者好奇和解脱的充沛精力，这是一种既非青年也不是老衰的状态，他又重返从来不曾背叛过自己的那个唯一的生活。他发现，即使在绝望中，自己都没有太远离那种生活。</p>
<p>那年秋季，他的课程安排尤其糟糕。大一作文四堂课分布在一周的六天里，间隔宽到有好几个小时。在劳曼克思当系主任的那些年，他给斯通纳安排的课表，连刚刚进来的助教接受起来都会很勉强。</p>
<p>在那一学年上第一堂课的那天，斯通纳大清早就坐在办公室，又看着打印得干干净净的课表。昨晚他深夜都还没睡在读关于中世纪传统延续到文艺复兴时期的最新研究文章。那种兴奋感一直持续到早晨。他看着课表，一股莫名的暗火从心里升起。他凝视了会儿前面的墙壁，又瞥了眼课表，独自点了点头。他扔下课表，把大纲扔进废纸篓里，走到房间角落的文件柜前，拉出最上面的抽屉，随便看了眼里面的牛皮纸袋，然后抽出一个。他迅速浏览了一遍纸袋里的稿纸，这样翻的时候还悄悄吹着口哨。接着，他合上抽屉，把纸袋夹在胳臂底下，走出办公室，穿过校园去上他的第一堂课。</p>
<p>那是幢旧楼，木质地板，只在应急时才当教室用。分配给他的这间教室太小了，无法容纳全部的学生，所以有些男孩只好坐在窗台上或者站着。斯通纳进去时，学生们带着闹不清的别扭感看着他，他可能是朋友，可能是仇家，学生们不知道哪种更糟。</p>
<p>他向学生们道歉说教室太小，还拿注册主任开了个玩笑，并向还站着的学生保证，明天就会有椅子。接着他把文件袋放在破烂不堪的讲稿架上，稿架不规则地摆在讲桌上，然后扫视了一遍眼前的面孔。</p>
<p>他犹豫了片刻，接着说：“买了这门课的教材的同学们，可以把它们还回书店，拿一笔退还赔偿金。我们不会使用大纲里描述的教材——这份大纲，我拿了，你们报名上这门课时都收到了。这门课，我想用一种不同的方法来讲，这种方法需要你们买两种新教材。”</p>
<p>他转身背对学生，从磨损得很严重的黑板下面的槽里取出一支粉笔，镇定地捏住粉笔停了片刻，听着学生落座时发出的无声的叹息和搅动声，忍受着他们忽然觉得很熟悉的老一套。</p>
<p>斯通纳说：“我们的教材将用——”他把那几个字写出来，尽可能缓慢地读出音——“《中世纪英语诗歌与散文》，卢米斯和威拉德编；还有《英国文学批评：中世纪阶段》，J.W.H.阿特金斯著。”他转过来面向全班同学。“你们会发现书店还没有进到这些书——也许要长达两星期后才会有货。在此期间，我先给你们讲些这门课的内容、目标等背景知识，我也会留些阅读书目，让你们有事可做。”</p>
<p>他停顿了下。许多学生低头对着书桌，辛勤地记着他说的话。还有小部分学生牢牢盯着他看，面带微笑，想显得聪明和心领神会的那种微笑。还有几个毫不掩饰惊讶地看着他。</p>
<p>“这门课的主要内容，”斯通纳说，“在卢米斯和威拉德的选本中都会找到，我们将研究中世纪的诗歌和散文的典范，目的有三个——首先，作为文学作品，它们自身具有的重要意义；其次，作为英语传统中文学风格和方法初始阶段的展示；第三，作为对语篇问题修辞和语法解决方式，而这个即使现在都有某种实用价值和适用性。”</p>
<p>这时候，几乎所有的学生都停止了笔记，抬起头来，甚至那几丝聪明的微笑都已经变成压抑的小动作。几双手在空中挥动着。斯通纳指着一个学生，他的手还稳稳地高举着，这是一个长着黑头发、戴眼镜的高个年轻人。</p>
<p>“先生，这是普通英文一，第四部分吗？”</p>
<p>斯通纳冲这个年轻人微笑着。“请问你叫什么名字？”</p>
<p>这个男孩吞吞吐吐地说：“杰瑟普，先生，弗兰克·杰瑟普。”</p>
<p>斯通纳点点头。“杰瑟普先生，好的，杰瑟普先生，这是普通英文一，第四部分，我叫斯通纳——这些事实不用怀疑，我应该在开始就说明。你还有别的问题吗？”</p>
<p>男孩又吞吞吐吐地说：“没有了，先生。”</p>
<p>斯通纳点点头，和蔼地打量了一遍教室。“其他同学还有问题吗？”</p>
<p>所有的脸都回望着他，没有了笑容，几张嘴半张着。</p>
<p>“很好，”斯通纳说，“我来继续讲。正如我刚开始讲的，这门课的一个目的是研究大约十二到十五世纪之间这个时期的某些文学作品。会涉及某些历史事件，会有些语言难题，以及哲学、社会、宗教方面的难题，理论上的、现实中的，都有。事实上，我们过去所接受的所有教育，在某种程度上又会成为我们的障碍，因为我们有关经验本质的思维习惯决定了我们的预期，如同中世纪人的习惯决定他的预期一样彻底。作为入门，我们来看看这些思维习惯，中世纪人就是在这种习惯中生活、思考和写作的……”</p>
<p>第一次亮相课上，他没有整个课时都抓住学生。快到一半时，他才提出预备讨论。直到结束，并给学生布置了周末的阅读作业。</p>
<p>“我希望你们每个人都写一篇短文，不要超过三页，有关亚里士多德的Topoi概念——或者用相当粗糙的英国传统说法，关于主题的概念。你们会发现在亚里士多德的《修辞学》卷二里有个对‘主题’的扩展讨论，在兰恩·库柏版中有一篇导言，对你们会有极大帮助。这篇短文规定提交日期是在——星期一。我想，这就是今天要讲的全部内容了。”</p>
<p>他宣布下课后关心地盯着学生看了片刻，学生们都没有动。接着他迅速冲他们点了下头，走出教室，胳臂底下夹着那个牛皮纸袋。</p>
<p>星期一，不到一半的学生完成了作业，他放走交了报告的学生，剩下的时间陪着没走的学生，重述了一遍他布置的题目，一遍又一遍反复讲述，直到确信他们明白了，能在星期三完成布置的作业。</p>
<p>星期二，在杰西楼的过道里，劳曼克思的办公室外面，他发现有伙学生，他认出就是自己第一堂课上的学生。他经过时，学生们都故意避开，有的看着地板或者天花板，有的看着劳曼克思的办公室。他独自微笑着走进办公室，等着电话响起，他知道这个电话肯定会打来。</p>
<p>下午两点，这个电话来了。他抓起电话，应声后听到劳曼克思秘书的声音，冰冷又彬彬有礼。“斯通纳教授吗？劳曼克思教授要你今天下午找找恩哈特教授，尽快。恩哈特教授会等着你。”</p>
<p>“劳曼克思会在场吗？”斯通纳问道。</p>
<p>对方吃惊地愣了片刻。这声音犹犹豫豫地说，“我——想不会——之前有个预约。但恩哈特教授给授权——”</p>
<p>“你告诉劳曼克思，他应该在场。你告诉他，我十分钟内到恩哈特教授的办公室。</p>
<p>乔尔·恩哈特是个三十岁出头的秃顶年轻人。他是三年前由劳曼克思带到这里的。发现他是个和悦又严肃的年轻人，没有什么特别的才华和教学天赋时，就被委任负责新生英文课的安排工作。他的办公室在一个小小的死角里，在那间有着二十多个年轻教师办公桌的大公用房的尽头，斯通纳得穿过整个房间才能到那里。他行走在这些办公桌中间时，有些老师抬起头来看他，公然咧嘴冲他笑，望着他穿越办公室向前行进。斯通纳没有敲门，打开那扇门走进办公室，在恩哈特桌子对面的椅子里坐下。劳曼克思没有来。</p>
<p>“你找我？”斯通纳问。</p>
<p>恩哈特皮肤非常好，微微有些脸红。他在脸上固定出一丝微笑，热情地说：“你过来真好，比尔。”然后摸索了阵子火柴，试图点燃烟斗。吸得不顺当。“这见鬼的潮湿，”他阴郁地说，“搞得烟草太潮湿了。”</p>
<p>“劳曼克思不在，我不会说什么。”斯通纳说。</p>
<p>“别。”恩哈特说，把烟斗放在桌上。“事实上，是劳曼克思教授要我跟你谈谈，所以，在某种意义上——”他神经质地大笑起来，“我其实也是个传话的伙计。”</p>
<p>“请你传什么话？”斯通纳干巴巴地问。</p>
<p>“嗯，按照我的理解，有些人提意见了。学生们——你知道。”他同情地摇摇头。“有些学生似乎觉得——他们好像真的不理解你八点的那堂课要讲什么。劳曼克思教授以为——嗯，事实上，我想他怀疑处理大一写作中面临的问题的智慧，通过这个——这种什么研究——”</p>
<p>“中世纪语言和文学研究。”斯通纳说。</p>
<p>“没错，”恩哈特说，“事实上，我想我理解你是想——打击他们一下，让他们震惊一下，想用一种全新的方式，让他们去思考。对吗？”</p>
<p>斯通纳庄重地点点头。“最近在我们的新生综合讨论会上，大家提到很多新方法和试验。”</p>
<p>“没错，”恩哈特说，“没有人比我更想做些试验了。因为——但也许有时候，出于非常好的动机，我们都走得太远了。”他大笑起来，摇了摇头。“我肯定知道我的用心，我是第一个承认这点的。可是我——或者劳曼克思教授——唉，也许得妥协下，得往大纲上偏一下，还是用一下既定的教材——你要谅解。”</p>
<p>斯通纳撅着嘴唇，望着天花板，双肘放在椅子扶手上，指尖交在一起，下颏搭在拇指尖上。最后，他决然说：“不，我不相信——这个试验——还是要有个公平的机会。告诉劳曼克思，我想用这种试验方法教到学期结束。你能帮我传这个话吗？”</p>
<p>恩哈特的脸涨得通红。他紧张地说：“我会，可我想——我确信劳曼克思教授会非常——失望。真的会非常失望。”</p>
<p>斯通纳说：“噢，刚开始也许会失望吧。但会挺过去的。我相信劳曼克思不想干涉一个资深教授觉得合适的某门课的教法吧。他可以不同意这位教授的观点，但是如果试图把自己的判断强加给他人就很不道德了——而且，顺便说一句，还会有些小小风险。难道你不同意吗？”</p>
<p>恩哈特拿起烟斗，紧紧地抓住烟锅，深深地沉思起来。“我会——向劳曼克思教授转告你的决定。”</p>
<p>“如果这样的话，我会很感激。”斯通纳说。他从椅子里站起来，走到门口，然后又停住，好像忽然想起什么事来，转身对着恩哈特。他漫不经心地说：“噢，还有件事，我一直在琢磨下学期的活儿。如果我的试验结束了，下学期可以尝试教教别的课。我在考虑有没有可能，通过研究古典和中世纪拉丁传统在某些莎士比亚戏剧中的存续来理解写作中的某些问题。这个听上去可能有那么点专业化，但我认为我能够把它降到一个可操作的程度。你不妨把我的小小想法向劳曼克思转达一下——请他过脑子想想这个。说不定再过几个星期，你和我可以——”</p>
<p>恩哈特歪在椅子里。他把烟斗放在桌上，疲惫地说：“好吧，比尔。我会告诉他。我要——感谢你过来。”</p>
<p>斯通纳点了下头，打开门走出去，然后又小心地关上，穿过那个长长的房间。一个年轻老师好奇地抬起头来看他时，他宽宏地眨眨眼，点点头，然后——终于——让笑容浮现在脸上。</p>
<p>他走进自己的办公室，在桌边坐下等着，看着外面宽敞的门道。几分钟后，他听到楼下传来摔门的声音，听到参差不齐的脚步声，看到劳曼克思以瘸子能够带动自己的最快的速度从他办公室前走过去。</p>
<p>斯通纳一动不动地看着。在半个小时里，他听到劳曼克思缓慢、沉重的上楼梯的声音，看到他再次从办公室门口走过去。他等待着，最后听到楼下的门关上了，接着自个儿点点头，站起身，回家去。</p>
<p>几个星期后，斯通纳才从费奇本人那里听到那天下午劳曼克思暴风雨般冲进他的办公室时发生了什么事。劳曼克思尖刻地状告斯通纳的做法，声称他想给大一班的学生教类似高年级的中世纪英语，而且要求费奇采取纪律措施。沉默了片刻后，费奇先说了几句什么，接着放声大笑。他大笑了很长时间，其间不时想说什么，但被这笑声给拉了回去。他终于冷静下来，向劳曼克思道歉自己这样突然大笑，然后说：“他跟你干上了，霍利，你难道看不出这点？他不会善罢甘休的，你根本无可奈何。你想让我来替你解决这事？你想过没有，那会像什么话——一个院长去掺和系里一个老资格教员怎么上课，而且去平息系主任本人的愤怒？不可能，先生。你自己处理吧，你能做的顶多就这样了。可是你其实没有多少选择余地，你知道吗？”</p>
<p>那次谈话后过后两个星期，斯通纳收到劳曼克思办公室发来的一份通知，告诉他下个学期的课程安排有变化，他继续教原来研讨班的拉丁传统与文艺复兴文学专题课，再加一门中世纪英语语言和文学的本科高年级和研究生课。一门大二文学概论，一门大一写作课。</p>
<p>在某种意义上，这是一次胜利，但这是一次他经常打趣地自嘲的胜利，好像是一次通过无聊和冷漠而赢得的胜利。</p>
<p>那已经成为一个传奇，开始与他的名字相连的传奇，那些传奇随着年复一年的累积，细节越来越多，越来越复杂，就像神话的发展，从个别人的事迹变成了具有仪式色彩的真理。</p>
<p>以四十八九岁的年纪而言，他的样子显得要老气很多。年轻时浓密而疯狂生长的头发，如今几乎全白了。他的脸上遍布深深的皱纹，双眼塌陷在眼眶中。自从那年夏天与凯瑟琳·德里斯科尔的关系结束后患上的耳聋症逐年轻微加重，所以，他听别人说话时，总是把头倾向一侧，眼神格外专注，好像在隐隐约约思考着一个自己完全确定不了的令人费解的物种。</p>
<p>那种耳聋的毛病性质很奇怪。虽然他有时弄明白别人直接面对他讲的话有些困难，可是一间嘈杂的屋子对面别人咕咕哝哝的交谈声却能经常听得清清楚楚。正是这种耳聋的捉弄，他逐渐开始懂得，年轻时流行的说法中，为什么自己被视为“校园人物”。</p>
<p>所以，他是一遍又一遍地偷听到经过不断渲染修饰、他给一群新生教中世纪英语以及霍利斯·劳曼克思投降的故事。“三十七个新生班举行大一英语考试，你知道哪个班的分数最高吗？”一个心有不甘教大一英文的年轻老师问道。“当然知道。老斯通纳的中世纪英语那伙人呗。而我们一直在使用练习和手册呢！”</p>
<p>斯通纳得承认，在这些年轻教师和年纪大点的学生，这些他还来不及把他们的名字与面孔牢牢联系在一起就来去匆匆走了的年轻人心目中，他已经几乎成为一个神话人物，无论这个人物的功能如何千变万化。</p>
<p>有时他是个流氓。在一个试图解释他和劳曼克思长久难解的宿仇的版本中，他诱奸然后又抛弃了一个年轻的研究生，而劳曼克思则对这个学生心怀纯洁和高贵的激情。有时他又成为傻瓜：在同样是宿敌的另一版本中，他拒绝与劳曼克思说话，因为有一次劳曼克思不想给斯通纳的一个学生写推荐信。有时候，他又变成了英雄：在一个终极但并不经常为人接受的版本中，劳曼克思厌恶他，然后冻结了他的职称评定，因为有一次他抓住劳曼克思正给一个喜欢的学生送了份斯通纳开的某门课的期终试卷。</p>
<p>然而，由于斯通纳在课堂的举止，他的传奇故事明晰了起来。经过了这么多年，故事变得越来越离谱，而且越来越刺激。他讲课、讨论时开始举止笨拙、动作生涩，很快所讲的主题就变得漫无边际，几乎意识不到自己周围的人和事的存在。有一次，几个校董和校长安排好要在会议室开个会，而斯通纳就在这个地方开研讨班的拉丁传统课。提前通知过他有这个会，可他给忘了，仍然一如既往按照原来的时间地点来上课。上到中途的时候，传来怯生生的敲门声，斯通纳还沉醉在即兴翻译一段相关的拉丁文中，没有注意到。过了会儿，门打开了，戴着无边眼镜、矮胖的中年男子踮着脚尖进来，轻轻拍了拍斯通纳的肩膀。斯通纳都不抬头看看，就挥手把他挡开了。这个人退出教室，敞开的门外传来他跟另外几个人悄悄的商量声。斯通纳继续翻译着。接着四个人在校长的带领下大模大样像一支小分队般站在斯通纳的讲桌旁边，校长身材高大魁伟，昂首挺胸，脸色红润，他皱着眉头，大声清了清嗓子。斯通纳自然在做着即兴翻译，没有中断或者稍事停顿，他抬起头，对着怒气冲冲的校长轻声读着这首诗的下一行：“滚开，滚开，你们这些血腥残忍的婊子养的高卢人！”接着仍然毫不停顿，把目光收到书本上，继续讲他的课，这伙人惊慌失措，踉踉跄跄地向后退去，转身飞一般逃出教室。</p>
<p>由于有这种事件供给养料，这个传奇继续成长发育，最后有些轶事给几乎所有斯通纳的典型行为赋予实质性内容，它不断发展壮大，最后扩展到他在大学外的生活。最后，这个传奇把伊迪丝也容纳进来了，很少看到她跟斯通纳参加大学的活动，隐隐约约成为一个神秘人物，像个幽灵般掠过集体想象：她经常偷偷喝酒，由于某种不明原因和久远的悲伤，她得了一种罕见而且一般都会致命的疾病，在慢慢走向死亡。她是一个极其出色、才华横溢的艺术家，早年放弃了自己的事业，全身心献给了斯通纳。在公开活动场合，从她瘦削的脸上会迅速闪过神经质的微笑，她的双眼明亮得发光，讲话时声音尖刻，语无伦次，大家都认定她的外表背后隐藏着某种真相，认为谁都不会相信的表面背后藏着某种本真。</p>
<p>生病后，出于已经成为某种生活方式的倦怠，斯通纳在多年前跟伊迪丝买的那幢房子里度过的时间越来越多。起先，伊迪丝因为他老在家里感觉十分沮丧，所以总是沉默不语，好像总在为什么事儿纠结着。后来，当她确信，斯通纳这样一个下午又一个下午，一个晚上又一个晚上，一个周末又一个周末在家里待着要成为一种常态时，就发起了烈度更新的老战役。对于哪怕多么微不足道的恼火事，她都要伤心哭泣，在各个房间里走来走去。斯通纳无动于衷地看着她，嘴里喃喃地说几句不上心的同情话。她把自己锁在屋子里，一次好几个钟头都不露面。斯通纳要准备她不愿做的饭，等她终于从房间里出来露面时，脸色苍白，双颊和眼睛深陷，而斯通纳好像也跟没看到一般。在最微不足道的事上，伊迪丝都会嘲讽他，而斯通纳似乎也不怎么听。她厉声诅咒斯通纳，他却彬彬有礼，饶有兴味地听着。当斯通纳沉浸在某本书里时，她就选择这个时候走进起居室，大声疯狂地敲击起钢琴来，而她已经很少弹琴。当斯通纳平心静气地跟女儿说话时，伊迪丝就会突然同时朝两个人发火生气。而斯通纳看待这一切——愤怒，敌意，尖叫，厌恶的沉默——的态度好像这些都发生在另外两个人之间，在他心中，只要意志使把劲儿，就完全可以召唤起最敷衍的兴致来。</p>
<p>终于——疲惫、几乎是感激地——伊迪丝接受了自己的失败。愤怒的强度减弱了，最后变得跟斯通纳对愤怒的兴致一样敷衍了。长久的沉默逐渐退缩成一种内向，对此，斯通纳已经不再感到惊奇，相反变成对冷漠姿态的厌恶。</p>
<p>伊迪丝四十多岁了，仍然像少女时一样瘦削，但却透着一种坚硬，一种脆薄，这些都源于一种不屈不挠的姿态，使一举一动都显得不情愿，满怀怨气。她脸部的骨骼棱角尖削，薄薄的苍白的皮肤蒙在骨头上，就好像蒙在一个柜架上，所以，皮肤上的皱纹绷得紧紧的，很尖细。她非常白，涂的粉很重，搽脸的样子就好像每天在一副空白面具上描画自己的五官。在干硬的皮肤下面，她的双手似乎全都是骨头，总是永不停止地活动着，扭结着，拉扯着，搓绞着，甚至在最安静的时候也如此。</p>
<p>伊迪丝经常深居简出，在中年这段时期，变得日益孤僻和心不在焉。最近一次攻击，这次对斯通纳最后的、绝望、激烈、怒火闪耀的攻击过后不久，她像个鬼魂般溜进那隐秘的自我中，待在一个永远不会完全露脸的地方。她开始用一种通情达理的温柔态度自言自语，而这是人们对待小孩的态度。她这样做时毫不顾忌，毫不难为情，好像是自己能做的最自然不过的事情。在那些零敲碎打的艺术爱好中，成家之后陆陆续续占据她不少时间的艺术爱好中，她最终把兴趣落在了雕塑上，视为自己最大的“满足”。她主要做些泥塑模型，但偶尔也做些软石作品。胸像、全身像和各种组合件，散得满屋子到处都是。她非常时髦：模刻的胸像都是把五官特征减到最少的球体，身体都是把附属物拉长的团团泥块，组合件都是立方体、球体和棒条的随意几何组合。有时从她的工作室——曾经是他的书房——经过，斯通纳会停一停，听听她工作的动静。她像个孩子般给自己下达指令：“现在，你必须把那个放在这儿——不要太多——这儿，就在这个小凿口的旁边，噢，瞧，它都要掉了。还不够湿对吧？嗯，我们可以把它固定住，可以吧？只要一点点水就够了，还有——那儿。你看见了吗？”</p>
<p>她逐渐有了对丈夫和女儿用第三人称说话的习惯，好像他们是别的什么外人，而不是自己正在讲话的对象。她会对斯通纳说：“威利最好把他的咖啡喝完，现在快九点了，他不要上课迟到了。”或者对女儿这样说：“其实格蕾斯练钢琴的时间远远不够。至少一天一个小时，应该是两个小时。那样的天赋还能怎么样？惭愧啊，惭愧啊。”</p>
<p>这种退避对格蕾斯意味着什么，斯通纳不得而知，因为她正以自己的方式变得像母亲一样孤僻、退缩。她已经养成了沉默寡言的习惯，虽然对父亲还保留着那种羞涩、温柔的微笑，但并不愿意跟他说话。夏天他生病的那段时间，看到没人注意的时候，她就悄悄溜进父亲的那个房间，坐在他旁边，跟他一起看着窗外，显然感到跟他在一起很满足，但即便那个时候，她都沉默不语，而且当他试图引领她从自我中走出来时，她就开始焦躁不安。</p>
<p>斯通纳生病的那年夏天，她十二岁，已经出落成一个高挑、纤细、脸蛋精致的女孩，头发与其说是红色，更像是金色。秋天的时候，在伊迪丝最后一次暴烈攻击丈夫，她的婚姻，她自己，以及她觉得自己变成的这个样子的时候，格蕾斯几乎动都不动，好像感觉稍微一动就会摔进一道深渊，在这道深渊里，她根本爬不上来。那场暴烈过后有一段时间，伊迪丝带着她自以为可以从容掌控的自信的鲁莽劲儿认定：格蕾斯之所以沉默寡言是因为不开心，她不开心是因为在同学中不受欢迎。伊迪丝开始把那种逐渐淡化、针对斯通纳的暴力攻击转化成针对她所谓的格蕾斯的“社交生活”的攻击。她再次迸发出一种“兴趣”，把女儿打扮得光鲜亮丽，时髦前卫，给她穿上带褶边的衣服，更加衬托出孩子的削瘦。她经常举办派对，弹钢琴，欢快地坚持要求每个人都跳舞，对格蕾斯唠叨着要冲每个人微笑，讲话，说笑话，大声笑。</p>
<p>这次攻击持续了将近一个月，然后伊迪丝放弃了战役，开始了漫长、缓慢、通往自己都不清楚目的的旅程。但是这次攻击对格蕾斯产生的各种后果却与它持续的时间不成比例。</p>
<p>攻击结束后，格蕾斯几乎所有的空闲时间都一个人待在自己的房间里，听父亲在她十二岁时送的那台小小的收音机。她经常在不曾收拾的床上躺着一动不动，或者坐在桌边一动不动，听着放在床头桌上的那个矮宽、丑陋的机子的漩涡形装饰中发出的尖细得刺耳的声音，好像她听到的说话声、音乐声、大笑声全都是她身份的余绪，好像连这个都逐渐远远地淡去，化作沉默，她已经回忆不到。</p>
<p>格蕾斯慢慢胖起来。在那年冬天和十三岁生日这段时间，她体重增加了五十磅，脸蛋慢慢鼓起来，而且很干燥，就像正在发酵的面团，四肢也渐渐柔软，动作变得缓慢、笨拙。她吃得比以前还少，但非常喜欢甜食，房间里总放着一盒糖果，好像体内的某种东西开始松弛、柔软和绝望了，好像体内某种没有形体的东西在搏斗着，忽然松懈了，现在说服她的肉体明确指定过那种阴暗和隐秘的生活。</p>
<p>斯通纳心怀伤感地眼睁睁看着这种变化。这种伤感掩饰了他显现给世人的那张冷漠的脸。他不允许自己产生那种轻松、奢侈的内疚感。考虑到他的天性和与伊迪丝生活的环境，他完全束手无策。这种想法强化了他的悲伤，这种悲伤是内疚都无法引发的，让他对女儿的爱更加彻底、更加深刻。</p>
<p>斯通纳知道——而且很早就知道，他认为——女儿属于那种极其稀有而且永远那么漂亮可爱的人类中的一员，这种人的道德质地是那么娇柔，必须认真养护和关心，这样它才能称心如意。由于跟这个世界格格不入，它只好生存在一个不可能是自己家园的地方。渴望温柔和安静，它只好以冷漠、麻木和喧闹为食粮。这种天性，即使在陌生和充满敌意、不得已要生存的地方，也没有蛮力击退反对它的残暴势力，只有退缩到一个静谧之地，那里荒凉、狭小而柔静。</p>
<p>当她长到十七岁的时候，中学高年级第一学期的那段时间，她身上又一个变化发生了。好像她的天性找到藏身之处，她终于可以向这个世界展示一种面目了。就像体重迅速增长那样，她前三年长出来的体重又迅速掉了下去。在认识她的人看来，她好像属于那种有神奇魔力在参与这种变化的人，她好像从一只蝶蛹里露出来，飞向空中，她好像早就为此设计好了。她几乎可以称得上美丽动人了，本来很纤细、后来忽然很肥胖的身体，现在四肢精致柔软，行走时透出一点淡淡的优雅。这是一种不张扬的美，几乎可以说是病态的美。她的脸蛋上几乎没有表情，像一副面具。她那双淡蓝色的眼睛总是直视着某个人，没有好奇心，没有任何畏惧，你可以看穿它们。她的声音非常柔和，带着那么点儿平淡，但她很少说话。</p>
<p>忽然间，用伊迪丝的话说，她变得“受欢迎”起来。找她的电话响个不断，她坐在起居室里，不时地点点头，温柔又简洁地应答着对方的话。黄昏时分，总有小车开过来，把她接走，在大喊大笑中远去。有时，斯通纳站在窗前，看着那些小车尖叫着驶去，扬起阵阵尘土的乌云，他感觉有点儿小小的牵挂和一丝害怕。他没有买过车，也没有开过车。</p>
<p>伊迪丝很开心。“你看见了吧？”她用漫不经心、得意洋洋的口吻说，好像从她疯狂地攻击格蕾斯的“欢迎性”问题以来，时间并没有过去三年多。“你看见了吧？我是对的。她需要的只是轻轻地推一把。而威利还不同意。噢，我看得出。威利从来就不同意。”</p>
<p>这么多年，斯通纳每月都拿出几美元攒下来，这样，等时机一到，格蕾斯就可以离开哥伦比亚上大学，也许可以去东部的一所大学，有些距离的地方。伊迪丝知道这些计划，她好像也同意，可是等这个时刻到了，她好像又跟没听说过这事一般。</p>
<p>“噢，别这样！”她说。“我受不了！我的宝贝！去年她在这儿表现多好啊。这么受欢迎，这么开心。她得调整，而且——宝贝，格丽丝儿，宝贝——”她转向女儿，“格丽丝儿其实并不想离开她的妈妈。她是这样想的吗？难道把她一个人孤零零地撇下？”</p>
<p>格蕾斯默默地盯着看了妈妈一会儿。她很快转向父亲，摇了摇头。她对妈妈说：“如果你要我留下，我当然愿意留下。”</p>
<p>“格蕾斯，”斯通纳说，“听我说。如果你想去——拜托了，如果你真的想去——”</p>
<p>她没有再回看父亲。“这没关系。”她说。</p>
<p>斯通纳还没有来得及说别的话，伊迪丝就开始说他们可以花她父亲省下的钱买一套新装，相当好的一套行头，甚至可以买一辆小车，这样她和朋友们就可以……格蕾斯露出那种缓缓、浅浅的微笑，点了点头，不时地说句话，好像这是对她的期待。</p>
<p>这件事就这样平息了，斯通纳不知道格蕾斯是怎么想的，不知道她留下来是因为自己愿意还是妈妈让她留下来，或者出于对自己命运的巨大漠然。那年秋季，她可以上密苏里大学一年级，在那里读上至少两年，然后，如果她愿意，她就可以去远处，离开这个州，去完成大学学业。斯通纳心想这条路要好一些，对格蕾斯来说要比在她几乎还不了解的这座监狱忍受两年多好得多，要比在伊迪丝绝望意志的烤架上再次撕裂好得多。</p>
<p>就这样什么都没有改变。格蕾斯要了那套衣装，拒绝了妈妈提供的小车，然后进了密苏里大学，成为一名新生。电话持续响个不停，那些同样的面孔（或者很像他们的面孔）继续出现，在大门前大笑着、大叫着。同样的汽车在黄昏中呼啸而去。格蕾斯不在家的时候比高中时还要频繁，伊迪丝对她想象的女儿越来越受欢迎的局面非常满意。“真像母亲，”她说，“结婚前，她是非常受欢迎的。所有那些男孩子……爸爸对他们那么恼火，可他心里偷偷地自豪着呢，我看得出。”</p>
<p>“是的，伊迪丝。”斯通纳温柔地说，他感觉自己的心在收缩。</p>
<p>这是斯通纳很艰难的一个学期；现在该轮到他来管理全校三年级英语考试了，与此同时，他还要参与指导两篇特别难的博士论文，这两篇论文都要求他自己阅读大量额外的资料。所以，他现在要比前几年习惯的那样频繁外出。</p>
<p>十月底的一天晚上，他比平常晚回家。起居室里的灯灭着，整个家很安静，他以为格蕾斯和伊迪丝都上床睡了。他带了些稿纸走到自己的那间小后屋里，想读几页后再上床睡觉。他走进厨房拿了块三明治，泡了杯牛奶，切了块面包，打开冰箱，这时他忽然听到尖厉、清晰，如一把小刀的拖得很长的尖叫声从楼下的什么地方传来。他冲进起居室，那尖叫声再次传来，这会儿变得很短促，强烈得有些愤怒，是从伊迪丝的工作室里传出的。他迅速穿过房间，打开工作室的门。</p>
<p>伊迪丝蜷着身子坐在地板上，好像刚刚在那里跌倒。她眼神疯狂，嘴巴大张着，准备发出又一声尖叫。格蕾斯坐在房间对面的一把弹簧椅子上，交叉着腿，几乎是镇定地望着母亲。伊迪丝工作台上唯一的一盏灯亮着，房间充满简陋的亮光和浓重的阴影。</p>
<p>“怎么回事？”斯通纳问。“出什么事儿了？”</p>
<p>伊迪丝的头转过来面对着他，好像脑袋是装在一个松弛的轴承上。她两眼空洞迷茫，用一种奇怪的任性口气说，“噢，威利。噢，威利。”她继续盯着斯通纳，头虚弱地摆动着。</p>
<p>他转向格蕾斯，女儿依然保持着镇定的表情。</p>
<p>她像聊天般说：“我怀孕了，父亲。”</p>
<p>尖叫声再度响起，尖厉刺耳，而且有种莫可名状的愤怒。他们都转向伊迪丝，她前后左右地看着，在那尖叫的嘴巴上方，眼神迷离，冰冷。斯通纳穿过房间，蹲在她身后，直直地扶她起来。她在斯通纳的胳臂中软溜溜的，他都撑不住伊迪丝的身体。</p>
<p>“伊迪丝！”他尖叫了声。“冷静！”</p>
<p>伊迪丝浑身僵硬，从他怀中挣脱。她双腿打着颤，悄悄穿过房间，站在那里俯身望着安坐不动的格蕾斯。</p>
<p>“你！”她啐了口，“噢，我的天，噢，格丽丝儿。你怎么能——噢，我的天，跟你父亲一样。是你父亲的血啊。噢，没错。肮脏。肮脏。”</p>
<p>“伊迪丝！”斯通纳更加尖锐地喝了声，大步朝她走来。他双手牢牢地按在她的胳臂上端，把她从格蕾斯身边拉开。“去卫生间，往脸上洒点冷水。然后回你房间躺下。”</p>
<p>“噢，威利，”伊迪丝恳求说，“我的小宝贝。我的心肝儿。怎么会出这种事？她怎么会——”</p>
<p>“去吧，”斯通纳说，“我待会儿叫你。”</p>
<p>伊迪丝摇摇摆摆地走出房间。斯通纳目光追随着她，但并没有动，直到听见卫生间龙头里的水流出来。接着他转向格蕾斯，她仍然坐在摇椅里抬头看着父亲。斯通纳迅速冲她笑了笑，穿过去走到伊迪丝的工作台前，拿了把靠背椅，又带过来，放在格蕾斯的椅子前，这样跟她说话时就不用俯视她向上翻着的脸了。</p>
<p>“喏，”他说，“干吗不告诉我？”</p>
<p>格蕾斯冲他柔和地微微一笑。“没有多少可讲的。”她说。“我怀孕了。”</p>
<p>“你能确定吗？”</p>
<p>她点了点头。“我去看过医生了。今天下午我刚拿到报告。”</p>
<p>“哦，”斯通纳说着笨拙地拍了拍她的手，“不用担心。一切都会过去。”</p>
<p>“嗯。”她说。</p>
<p>他温和地问：“想告诉我孩子的父亲是谁吗？”</p>
<p>“一个学生，”她说，“大学的。”</p>
<p>“你不想告诉我？”</p>
<p>“噢，不是，”她说，“这已经不重要了。他叫弗莱，埃德·弗莱。是个二年级的学生。我想他在你去年的新生综合班上过课。”</p>
<p>“我想不起了，”斯通纳说，“我一点儿都想不起他了。”</p>
<p>“对不起，爸爸，”格蕾斯说，“真够傻的。他有点儿喝醉了。我们没有采取——措施。”</p>
<p>斯通纳不看她了，盯着地板。</p>
<p>“对不起，爸爸。我惊着你了吗？”</p>
<p>“没有，”斯通纳说，“也许，让我感到意外。其实我们最近这几年彼此并不怎么了解，对吧？”</p>
<p>格蕾斯把目光移开，不安地说，“嗯——我想是吧。”</p>
<p>“你——爱这个男孩吗，格蕾斯？”</p>
<p>“噢，不爱，”她说，“事实上，我并不怎么了解他。”</p>
<p>斯通纳点点头。“那你想怎么办？”</p>
<p>“我不知道，”她说，“其实这没什么大不了的。我不想成为麻烦。”</p>
<p>他们坐着，长时间没有说话。最后斯通纳开口了：“嗯，不要担心。不会有问题。无论你做出什么决定——无论你想做什么，都没关系。”</p>
<p>“嗯，”格蕾斯说，她从椅子里站起来，接着又向下望着父亲说，“你和我，我们现在还能聊一聊。”</p>
<p>“是的，”斯通纳说，“我们还能聊一聊。”</p>
<p>她走出工作室，斯通纳一直等到听见她楼上的卧室门关了。接着，在回自己房间之前，他先轻轻地上了楼，打开伊迪丝卧室的门，她睡得很香，全身穿着衣服蜷缩在床上，床头灯的光打在脸上。斯通纳把灯熄了，下了楼。</p>
<p>第二天吃早饭时，伊迪丝几乎已是兴高采烈。她没有流露出丝毫昨晚表现出的歇斯底里的痕迹，她说话的样子好像未来不过是一个需要解决的臆想的问题。得知那男孩的名字后，她更是高兴地说：“现在好了，你觉得我们应该跟他父母接触下，还是先跟男孩谈谈？我们来想想——这是十一月最后一星期。再过两星期吧。那时我们可以把一切都安排好，也许可以举办一个小型的教堂婚礼。格丽丝儿，你那个朋友，他叫什么名字来着——？”</p>
<p>“伊迪丝，”斯通纳说，“且慢。你太想当然了。也许格蕾斯和这个年轻人不想结婚呢。我们得把这事公开跟格蕾斯谈谈。”</p>
<p>“这有什么可谈的，他们当然会结婚的。毕竟，他们——他们——格丽丝儿，告诉你爸爸，给他解释下。”</p>
<p>格蕾斯对他说：“没什么关系，爸爸。这根本就没什么关系。”</p>
<p>这事真没关系，斯通纳意识到。格蕾斯的目光呆呆地越过他，看着她并没有真正在看的远处一个地方，毫不惊奇地沉思默想着。斯通纳仍然沉默不语，任由妻子和女儿制订着她们的计划。</p>
<p>决定好了，格蕾斯的“年轻人”，伊迪丝这样称呼他，好像他的名字有些忌讳，他将被邀请上家里来，和伊迪丝“谈一谈”。她安排在下午，好像一出戏里的一幕，有出口进口，甚至还有一段台词或者两句对话。斯通纳找个借口先走，格蕾斯先留上一会儿，然后找个借口走掉，留下伊迪丝和这个年轻人单独交谈。半小时后斯通纳回来，然后格蕾斯再回来，这个时候，一切安排都已就绪。</p>
<p>最后完全按照伊迪丝计划的执行了。后来，斯通纳寻思，多少有些可乐，当年轻的爱德华·弗莱怯生生地敲开门，然后被领进一间貌似充满道德敌人的屋子时，他会作何感想。弗莱个子很高，相当壮实，五官模糊，隐隐约约有些沉闷。他有那么点麻木的难为情和害怕，而且谁也不看。斯通纳离开房间时，他看见这个年轻人塌坐在椅子里，手臂放在膝盖上，眼睛盯着地板。过了半小时，他又回到房间时，年轻人还保持着同样的姿势，好像面对伊迪丝鸟儿般欢快的炮轰，纹丝未动。</p>
<p>但事情全都解决了。伊迪丝用一种高亢、造作，但真心快乐的声音告诉他，格蕾斯的“年轻人”出身于圣路易斯一个很好的家庭，父亲是经纪人，而且可能有段时间跟她父亲或者至少她父亲的银行有过交道，还说这个“年轻人”定好举办一场婚礼，“会尽快，很不正式，”还说两人都休学，至少一两年，在圣路易斯住下来，“换换环境，重新开始。”还说虽然他们不能读完这学期了，但还想去学校，直到放假，那天下午就结婚，应该是星期五。其实毫不温馨——不管怎样。</p>
<p>婚礼是在一个法官杂乱的书房里举行的。只有斯通纳和伊迪丝出席了仪式。法官的妻子，一个头发灰白凌乱的女人，带着副永远不变的愁眉苦脸的表情，在举行仪式时还在厨房里干活儿，仪式结束时就走出来，只是在文件上签了个名，作为见证人。那是一个寒冷凄凉的下午。日期是1941年12月12日。</p>
<p>结婚前五天，日本轰炸了珍珠港。斯通纳怀着以前从未有过的五味杂陈的心情看着婚礼。跟许多从那个时代过来的人一样，他被某种自己想来只有麻木的东西紧紧抓着，虽然他知道这种感觉里混杂着各种深沉、强烈的感情，乃至都不便承认，因为没法与它们共生。他觉得这是一种公共悲剧的力量，一种恐怖，一种如此无所不在的仇恨，连私人悲剧和个体不幸都被转移成另一种生存状态，而且被那种宏大强化了，这一切都在这种宏大中发生，感觉就像一个孤独的坟墓带来的冲击力可能会被周围巨大的荒凉衬托得更加突出。他怀着一种几乎毫无个人感情色彩的怜悯，看着这场伤感的小小的结婚仪式，而且奇怪地被女儿脸上那消极、漠然的美，被这个年轻人脸上闷闷不乐的绝望打动了。</p>
<p>仪式结束后，两个年轻人愉快地爬进弗莱家小小的敞篷车，前往圣路易斯，他们还要去那里拜见另一对父母，然后住下来。斯通纳看着他们驱车离开家，仍然觉得女儿是一个曾经在某个已然遥远的房间，坐在自己身边的小女孩，带着严肃的欢乐表情看着他，仍然觉得是一个早就死去的可爱小孩。</p>
<p>结婚两个月后，爱德华·弗莱应征入伍。格蕾斯决定继续留在圣路易斯，直到孩子出生。不到六个月，弗莱在一个太平洋小岛的河滩上牺牲，作为许多新兵中的一员，他被派去誓死阻止日本人的进攻。1942年六月，格蕾斯的孩子出生了，是个男孩，她以孩子父亲的名字取了名，从未见过、也不会去爱的父亲。</p>
<p>尽管，那年六月，伊迪丝去圣路易斯“帮助料理”，其间试图劝女儿回哥伦比亚，但格蕾斯并不想回来。她有个小公寓，还有一小笔弗莱的保险收入，还有公公婆婆，她似乎很开心。</p>
<p>“有点变了，”伊迪丝心烦意乱地对斯通纳说，“完全不是我们的小格丽丝儿了。她经历了很多东西，我想她不愿想起……她让我转告她对你的爱。”</p>
<p>战争的那几年全都模糊了，斯通纳简直就像穿过一场无比猛烈、几乎无法忍受的暴风雨般走过这几年，他垂着脑袋，下巴紧锁，脑子里只想着下一步，下一步，下一步。然而，即便他拿出全部坚强的忍耐力和坚韧不拔的行动，度过几天、几星期，自己仍然是一个严重分裂的人。他的一部分在对每天浪费的本能恐惧中，以及毁灭和不可阻挡地袭击头脑和心灵的死亡的泛滥中畏缩着。他再次看到教员队伍消耗殆尽，看到教室空空荡荡，没有了年轻人，看到各种焦虑不安的表情，出现在行动仍然滞后的人的脸上，从这些表情中看到心灵在慢慢死亡，看到情感与牵挂的痛苦损耗。</p>
<p>然而，斯通纳的另外一部分被剧烈地拽向那场他畏缩的大屠杀。他发现内心有种自己以前还不知道的施暴能力：他渴望介入，他想品尝死亡的滋味，毁灭的苦涩快感，流血的感觉。他既感觉可耻，又感觉自豪。在这之上则是苦涩的失望，对自己，对这个时代和让他变得如此的环境。</p>
<p>一个星期接一个星期，一个月又一个月，死者的名字在他面前滚滚而来。有时，它们仅仅是些名字，在他的记忆中好像来自遥远的过去；有时他会想起一张脸与某个名字相配；有时他会想起一个声音，一句话。</p>
<p>经历过这一切后，他继续教书、研究，虽然有时感觉徒劳地弓起脊背顶着逼迫而来的暴风雨，无用地像杯子般圈住手，保护着自己最后一根可怜的火柴发出的昏暗的光。</p>
<p>格蕾斯偶尔回趟哥伦比亚看看父母。她第一次带着儿子过来时，孩子已经快一岁了，可是小孩的存在却隐隐约约让伊迪丝有些烦躁，从那以后，她每次来就把孩子留在圣路易斯交给爷爷奶奶管着。斯通纳倒是很想多见见外孙，但他从没提过这个愿望。他开始意识到，格蕾斯离开哥伦比亚——也许甚至包括她怀孕——其实是想逃离一座监狱，她现在是出于难以抹去的仁慈和温柔的善心才回来看看。</p>
<p>虽然伊迪丝没有怀疑，或者不愿意承认这点，斯通纳知道，格蕾斯开始贪杯喝酒了。他是在战争结束的那年夏天第一次知道的。格蕾斯过来看望他们几天，她好像显得格外憔悴。眼睛有了黑影，脸绷得紧紧的，很苍白。一天晚饭后，伊迪丝早早上了床，格蕾斯和斯通纳坐在厨房里喝着咖啡。斯通纳试图跟女儿谈谈，可是她却烦躁不安、心神不宁。他们默默无语坐了很长时间，最后格蕾斯关切地看着他，耸了下肩膀，忽然叹了口气。</p>
<p>“你瞧，”她说，“你在家里放着什么酒吗？”</p>
<p>“没有，”斯通纳说，“我想没有吧。橱柜里也许有瓶雪利酒，可是——”</p>
<p>“我太想喝上一杯了。我给商店打电话，让他们送瓶过来，你介意吗？”</p>
<p>“当然不，”斯通纳说，“只是你妈妈和我通常都不——”</p>
<p>但是格蕾斯已起身走进起居室。她翻了遍电话本，焦急地拨起来。她再次回到厨房后，绕过桌边来到橱柜前，取出半瓶雪利。她从碗柜里拿出一只杯子，满到淡红色的葡萄酒差不多上了杯子边沿。她站着一饮而尽，然后抹了把嘴唇，轻轻地打了个寒战。“已经酸了，”她说，“我讨厌雪利酒。”</p>
<p>她拿着瓶子和杯子回到桌边坐下，把这两样东西恰到好处地放在自己前面。她倒了半杯，带着一种怪怪的微笑看着父亲。</p>
<p>“我喝得有点多了，”她说，“可怜的爸爸，你不知道这个吧？”</p>
<p>“不知道。”他说。</p>
<p>“每星期我都告诫自己，下个星期绝对不能喝这么多。可总是还要喝得更多。我不知道为什么。”</p>
<p>“你不开心吗？”斯通纳问。</p>
<p>“不是，”她说，“我觉得自己挺开心的。或者差不多是开心的吧。不是这个原因。是——”她没有把话说完。</p>
<p>等她喝完最后一点雪利时，商店配送的伙计拿着她要的威士忌来了。她把酒瓶带到厨房，手法老练地打开瓶子，把一小部分烈酒倒进雪利酒杯中。</p>
<p>他们坐到很晚，直到第一缕灰白的光线爬到窗户上。格蕾斯持续不断小口小口抿着喝。夜色越来越稀薄，她脸上的皱纹也舒展了，显得越来越镇定，更加年轻。两个人聊着，好像好多年不曾聊过般。</p>
<p>“我想，”她说，“我想我是故意怀孕的，虽然那时我并不知道。我想我甚至都不知道多么想，多么想离开这里。我很清楚，可以不怀孕，除非我愿意，只有天知道。所有那些高中时的男孩，还有——”她冲着父亲不自然地笑了，“你和妈妈，你们不知道，对吧？”</p>
<p>“我想不知道。”斯通纳说。</p>
<p>“妈妈想让我处处受欢迎，而且——唉，我是很受欢迎，没错。这并不意味着什么，什么都算不了。”</p>
<p>“我知道你不开心，”斯通纳费劲地说，“但我没有想到——我不知道——”</p>
<p>“我想我也不知道，”格蕾斯说，“我不会。可怜的埃德。他真是个倒霉蛋。我利用了他，你知道。噢，他是当了父亲，没错——可我利用了他。他是个不错的小伙子，总是那么难为情——他受不了这个。他参军才六个月就走了，就脱离了干系。我想，是我害了他。他是个多好的男孩，我们甚至都不怎么喜欢对方。”</p>
<p>他们谈到深夜，就像两个老朋友。斯通纳开始意识到，像她自己说的那样，她虽然很绝望，但却算得上幸福开心了。她可以安安静静地过日子。少喝点酒，年复一年，自我麻痹，来对抗自己那已经变得虚无的生活。至少，他很高兴女儿能够这样。他很欣慰，女儿还能喝酒。</p>
<p>第二次世界大战结束后不久的那几年，是他教书教得最好的几年。在某种意义上，这几年也是他平生最幸福的几年。战后的退伍军人下到了校园，改变了校园，给校园带来以前没有的生命品质。一种激情和震荡，这些东西积累到某种程度后带来了一种变化。他比以前任何时候都辛勤工作，学生们成熟中还带着生疏，都非常严肃，而且瞧不起凡俗琐事。由于对风尚或者习俗的天真无知，他们开始自觉地学习研究，这正是斯通纳梦想学生应该做的——好像这些学习研究就是生活本身，而不是作为特定的工具来实现特定的目标。经过这些年，他知道，教学绝对不要重样。他经常自娱自乐，达到一种精疲力竭的愉快状态，他希望这种状态永远不要结束。他很少考虑过去或者未来，也不考虑失望和欢乐，他把自己能有的全副精力都集中在工作的时刻，希望自己最终由自己的作为来作定论。</p>
<p>这些年，鲜见他从这种对工作的奉献状态中转移出来。有时女儿回哥伦比亚看看，好像漫无目标地从这个房间溜达到另一个房间，让他有种很难承受的失落感。二十五岁的年纪，她显得老了十岁。她继续喝酒，那种不变的冷漠就像一个彻底失去希望的人。显然，她越来越频繁地把孩子交给圣路易斯的爷爷奶奶看管。</p>
<p>他只听到过一次凯瑟琳·德里斯科尔的消息。1949年初春，他收到东部一所大型大学出版社的图书订单，上面说有凯瑟琳的著作出版，而且还简单介绍了下作者。她在马萨诸塞一所不错的文科学院教书，未婚。他尽快买了本她的书。当他双手拿着书时，手指似乎都活了起来，颤抖得那么厉害，都几乎打不开书。他翻了翻前面的几页，看见这样一句献辞：“献给威·斯。”</p>
<p>他的眼睛模糊了，一动不动坐了很长时间，接着又摇摇头，继续看着书，直到读完后才放下。</p>
<p>这本书跟他想象的一样好。文字优美，激情掩藏在某种冷静和智性的明晰背后。他从阅读的内容中看到了她本人，他想。斯通纳很惊讶，此刻看着她竟如此逼真。忽然，好像她就在隔壁房间，他把她的样子定了好一会儿才消失。他双手刺痒，好像刚刚触摸过她。他的失落感，内心藏了很久的失落感，喷涌而出，彻底将他吞没，他任由这股洪流裹挟着，意志已失去控制。他不想搭救自己。接着他又亲切地笑了，好像是冲着某个记忆而笑。他忽然想到，他都快到六十岁了，应该能够不受这种激情和这种爱的力量左右。</p>
<p>可他还是难以超越，他知道，而且永远超越不了。在麻木、冷漠、孤绝的背后，这种力量还在，强烈而稳定，它永远都在那里。年轻时他不假思索自由地释放这种力量，他曾经把这种力量投到阿切尔·斯隆展示给他的知识中——那是多少年前？在求爱和婚后的最初那段盲目、愚蠢的日子里，他曾把这种力量投放给伊迪丝。他曾把这种力量投给凯瑟琳，好像以前从未投放过。他还以古怪的方式，而且在自己完全意识不到的时候，把这种力量投到生活的某些关键时刻，也许投入得最充分。这是一种激情，既非心灵也不是肉体的激情，它就是一种综合了二者的力量，好像它们不过是爱情的材料，它的具体内容。对一个女人或者一首诗，它只是说：看哪！我活着。</p>
<p>他无法想象自己老了。有时，早晨刮胡子的时候，他盯着镜子里的影子，感觉这张吃惊地回望自己的脸上并没有身份标记，那双眼睛在一副古怪的面具上显得很清澈。好像他为了某种隐晦的原因，穿了副怒气冲冲的伪装，好像如果他愿意，就可以撤掉那茂盛的白眉毛，那乱蓬蓬的白头发，那塌陷在尖削的骨头上的皮肉，那假装老去的深深的皱纹。</p>
<p>然而，他知道，他的衰老并不是假装的。在这场大战后的几年里，他看到这个世界和国家已病入膏肓。他看到憎恨和怀疑变成一种疯狂，像急速传播的瘟疫般横扫大地。他看到年轻人再次上了战场，好像在一场噩梦的回荡中，充满渴望地奔向毫无意义的毁灭。他所感觉的同情、悲伤是如此老迈，是他衰老不可分割的部分，乃至在他本人看来，自己似乎还没有被碰过。</p>
<p>岁月在疾驰，而他几乎意识不到它们的流逝。1954年春天，他已经六十三岁了，忽然意识到自己顶多只剩四年的教学时间。他试图看到比这个时间更远的前方，但看不到，而且也不愿去看。</p>
<p>那年秋季，他收到戈登·费奇的秘书的一个通知，请他在方便的时候去院长那里坐坐。他很忙，三天后他才找出一个下午的空闲时间。</p>
<p>每次看到戈登·费奇，斯通纳都不由自主地小有吃惊，他老得怎么那么慢。他只比斯通纳年轻一岁，看上去不超过五十岁。他已经完全谢顶，脸盘粗壮，没有什么皱纹，散发着几乎是天使般的健康光泽。他步履轻快，最近这些年，开始在穿衣方面经常选择一种随意不拘的效果，经常穿些鲜艳的衬衣和怪里怪气的夹克。</p>
<p>那天下午，斯通纳进去看见他时，他好像很不好意思。有那么一阵子，两人谈得很投机。费奇问了问伊迪丝的健康情况，还提到自己的老婆卡罗琳，还谈到改天应该再聚聚。接着他说：“时间啊。老天，时间在飞逝！”</p>
<p>斯通纳点点头。</p>
<p>费奇忽然出了口气。“唉，”他说，“我想我们得谈谈这事了。你就要——明年就要六十五岁了。我想我们得早作打算。”</p>
<p>斯通纳摇摇头。“现在不急，我还想好好利用下两年的选择余地呢。”</p>
<p>“我料到你就会这样。”费奇说着在椅子里往后一靠，“我不行。我还有三年就退了，我要出局了。我有时会想自己都错失了什么，哪些地方我没去过，还有——见鬼，比尔，生命太短暂。你干吗也不退了？想想时间——”</p>
<p>“我不知道拿这些时间干吗用，”斯通纳说，“我还没学会。”</p>
<p>“好吧，见鬼，”费奇说，“这个年代，六十五岁还很年轻。有了时间可以学些东西——”</p>
<p>“是劳曼克思的原因吧，对吗？他一直给你施压。”</p>
<p>费奇咧嘴笑了。“没错。你怎么想的？”</p>
<p>斯通纳沉默片刻，接着说：“你告诉劳曼克思，我不想跟你谈这事。告诉他，我老迈成这样，变得特别爱争吵和执拗，你都没法跟我说成一件事。这事让他自己来处理。”</p>
<p>费奇大笑着摇摇头。“看在上帝的分上，我会这样去说。过了这么多年了，也许你们两个老混账该放低身段了。”</p>
<p>但是那种正面相迎的交锋并没有立刻发生，等真发生的时候——三月份，第二学期中——并没有采取斯通纳期望的方式。他再次被请求去趟院长的办公室，时间定好了，暗示情况很急迫。</p>
<p>斯通纳晚到了几分钟。劳曼克思已经在里面了。他僵直地坐在费奇办公桌前面，旁边有把空椅子。斯通纳慢慢走过屋子，坐了下来。他转过头看着劳曼克思。劳曼克思在他前面冷冰冰地盯着，一道眉毛挑起来，浑身透着蔑视劲儿。</p>
<p>费奇同时盯着两人打量了会儿，脸上浮出一丝好玩的微笑。</p>
<p>“好吧，”他说，“我们都知道摆在我们前面的问题。就是斯通纳教授的退休问题。”他简略地讲了下管理规定——六十五岁可以自愿退休，不到这个年龄可以自己选择。如果本人愿意，斯通纳要么在目前这个学年结束时，要么在下一年两个学期结束时退休。如果系主任、学院院长同意，这位相关教授愿意，他也可以把退休年龄延迟到六十七岁，到了这个年龄，就要强制退休。当然，除非本人获得过杰出教授称号，得过首席奖，如果情况是这样——</p>
<p>“那种可能性非常渺茫，我相信我们会同意。”劳曼克思干巴巴地说。</p>
<p>斯通纳向费奇点点头。“非常渺茫。”</p>
<p>“恕我坦率地认为，”劳曼克思对费奇说，“如果斯通纳教授能够抓住机会退休了，对系里和学院都是最有利的。有些课程和人员变化，我琢磨了很久，这次退休也便于这些变化的实施。”</p>
<p>斯通纳对费奇说：“在我必须退休前，如果仅仅是为了照顾劳曼克思教授的突发奇想，我不想退。”</p>
<p>费奇转向劳曼克思，后者说：“我相信，有个很大的好处，斯通纳教授没有考虑到。他可以有闲暇时间搞些创作，而他——”劳曼克思巧妙地停顿了下，“在教学上的贡献又妨碍他创作。这个学术团体肯定会获益匪浅，如果他多年的经验果实——”</p>
<p>斯通纳打断说：“我无意在我人生的这个阶段才开始文学事业。”</p>
<p>劳曼克思坐在椅子里没动，似乎在向费奇求助。“我相信我们的同事是相当谦逊的。两年内，我本人就要根据管理规定被迫腾出系主任的位置。我肯定很想把自己的衰暮之年好好利用一番，我很向往退休后的闲暇时光。”</p>
<p>斯通纳说：“我希望自己仍然是系里的一员，至少等到那个吉利的时刻再说。”</p>
<p>劳曼克思沉默了会儿，接着若有所思地对费奇说：“过去几年，我印象中有那么几次，斯通纳教授从大学的利益出发所做的辛勤努力恐怕都没有获得充分的赏识。我想，评升正教授恐怕是他退休之年最合适的人生高潮。到时举办一场庆祝晚宴——也是一种恰当的庆祝仪式。那应该会相当惬意。虽然今年已晚了点，大多数提升已经宣布，我还是相信，只要我坚持，明年的提升还是可以安排的，以庆祝光荣退休。”</p>
<p>忽然，他想跟劳曼克思玩的这场游戏——而且，说来有些奇怪，还挺享受——似乎显得无聊和下作了。一股倦怠感油然而生。他直视着劳曼克思，有气无力地说：“霍利，过了这么多年，我想，你对我的了解要远远超过这个。我从来不在乎你认为可以‘给’我的东西，或者你认为可以为我‘做’的东西，或者别的什么玩意儿。”他停住不说了，觉得实在比自己想象的要疲惫得多。他又努力一把接着说：“关键不是这个，这永远不是关键。你是个好人，我想。你肯定也是个好教师。但在好多方面，你是个无知的杂种。”他又停顿了下。“我不知道你究竟盼着什么。可我不想退休——不会在今年退，也不会在明年退。”他缓缓地站起来，站了会儿，好像在积蓄力量。“两位先生抱歉，我有些累了。我得留待你们去讨论你们不得不讨论的事儿了。”</p>
<p>斯通纳知道这事不会就此结束，但他不在乎。在最近召开的一次全体教职员工年度大会上，劳曼克思在向员工做系里的工作报告时，宣布明年底威廉·斯通纳教授退休，这时，斯通纳站起来告诉教师们，劳曼克思教授弄错了，退休无效，直到劳曼克思宣布的这个时间两年后才会生效。今年秋季学期开始，新任大学校长邀请斯通纳去家里喝下午茶，豪爽地谈到他这些年的服务，谈到报酬不菲的休养，谈到他们大家都感觉得到的感恩之情。斯通纳拿出最怪诞的姿态，管校长叫“年轻人”，而且假装没有听到，所以最后这个年轻人用他能掌握的最具抚慰性的声调大喊着结束了谈话。</p>
<p>但是斯通纳的种种努力显得如此势单力薄，弄得疲惫不堪，超乎自己的想象，到圣诞假期的时候，差不多精疲力竭了。他心里告诉自己，他真的是老了，如果今年剩下的时间还有好多事儿要做的话，就只好任其自然了。圣诞假期的十天，他全都用来休息，好像这样就可以积蓄力量。等为了本学期最后几周重新回来时，他又带着充沛的精力和能量工作起来，连自己都吃了一惊。他的退休问题似乎解决了，不再费神去想了。</p>
<p>一月底的时候，那种疲惫感再次袭来，他好像赶不走了。大多数时候他都待在家里，强撑着坐在小后屋那张白天用的床上，做了很多论文指导工作。三月的时候，他开始感觉两条腿和胳臂出现了全面的钝痛。他跟自己说是太累了，需要好好休息。四月的时候，疼痛开始固定在身体的下半部。他偶尔会错过一堂课。他发现，仅仅从这堂课走到另一堂课的教室，都需要耗去大部分体力。五月初，疼痛开始剧烈，他已经不再当作是个小毛病了。他约了个大学医务室的医生。</p>
<p>经过一系列的化验、检查、问询，其中最关键的部分，斯通纳只是隐隐约约明白些。要求他进行特别的节食，给了些药丸止痛，告知下星期初再过来复查，那时各种化验结果就会出来，然后进行汇总。他感觉好些了，但疲惫仍然不散。</p>
<p>医生是个名叫贾米森的年轻人，对斯通纳说在开始私人行医之前，他在大学里工作了好几年。他长了副粉红色的圆脸，戴着无边眼镜，举止有些斯通纳信任的神经质的笨拙劲。</p>
<p>斯通纳比约定的时间早来了几分钟，但接待员告诉他，直接进去好了。他走进那条长长的窄窄的医务室的走廊，向贾米森设为办公室的小房间走去。</p>
<p>贾米森正等着他，斯通纳很清楚，他已经等了些时候，夹子、X射线片子和纸条都整洁地摆在他的桌上。贾米森站起来，生硬、神经质地笑了笑，把手伸向他桌子前面的一把椅子。</p>
<p>“斯通纳教授，”他说，“请坐，请坐。”</p>
<p>斯通纳坐下。</p>
<p>贾米森皱着眉头望着桌上的陈设，抚平一张纸，自己坐进椅子里。“是这样，”他说，“肠子下半段有点梗阻，这个很清楚。在X光片上显示得不太明显，但也没什么异常。噢，就是一小块阴影。但这并不见得就怎么样。”他转了下椅子，把一张X光片放在一副架子上，打开灯，含含糊糊地指着。斯通纳看着，但什么都没看见。贾米森关了灯，转过身回到桌边。他开始变得非常公事公办的样子。“你的血量非常低，但是好像也没有什么感染。你的沉降系数超标，血压偏低。有些内脏膨胀，好像不是太好，你的体重减了不少，还有——从表现的症状以及我根据这些东西的判断看——”他在桌边挥了下手——“我要说，只有一件事可做。”他僵硬地笑着，带着克制的幽默说：“我们深入进去看看能发现什么。”</p>
<p>斯通纳点了点头说：“那是癌症了。”</p>
<p>“嗯，”贾米森说，“这个词儿太大了。有多种可能性。我坚信是个肿块，但是——嗯，我们还不能完全肯定是什么，得进去看看。”</p>
<p>“我得这个有多长时间了？”</p>
<p>“噢，这个不好说。但是感觉好像——嗯，挺大的，有些时间了。”</p>
<p>斯通纳沉默了片刻，又接着说：“你估计我还有多长时间？”</p>
<p>贾米森心烦意乱地说：“噢，现在，瞧，斯通纳先生。”他试图大笑。“我们不能跳着下结论。唉，总还是有机会——如果只是个肿块，不是恶性的，总还是有机会，你知道。否则——否则就说不准了。我们拿不准，除非——”</p>
<p>“嗯，”斯通纳说，“你想什么时候动手术？”</p>
<p>“尽快吧！”贾米森释然地说。“两三天内吧。”</p>
<p>“那够快的。”斯通纳说，几乎出了神。接着他定定地望着贾米森。“允许我问你几个问题，大夫。我必须告诉你，我想要你坦率地回答。”</p>
<p>贾米森点点头。</p>
<p>“如果只是个肿块——不是恶性的，像你说的那样——拖几个星期有什么大不了的区别吗？”</p>
<p>“这个，”贾米森为难地说，“会疼痛，而且——没有，没有太大的区别，我想。”</p>
<p>“好吧，”斯通纳说，“如果情况像你想的那样糟糕——几星期又有什么区别吗？”</p>
<p>过了很长一会儿，贾米森才几乎痛苦地说：“没有，我想没有。”</p>
<p>“那么，”斯通纳很理性地说，“我想再等几星期。有些事情需要清理——有些工作需要做。”</p>
<p>“我不主张这样，你知道。”贾米森说。“我绝对不主张这样。”</p>
<p>“当然，”斯通纳说，“还有，大夫——你不要对任何人说，行吗？”</p>
<p>“不说，”贾米森说，然后又加了些微热情说，“当然不会说。”他建议早先提出的节制饮食做些调整，又开了些药片，确定好住院日期。</p>
<p>斯通纳毫无感觉，好像医生告诉他这只是个小小的不便，只是一道他为了完成必需的任务而要与之周旋的障碍。他想，今年才发现，这事来得太晚了。劳曼克思要找个替手恐怕会有些困难。</p>
<p>斯通纳在医生办公室服的药片让他头脑有些轻飘，而且他发现这种感觉有种奇怪的愉悦感。他的时间感错位了，他发现自己站在杰西楼长长的嵌木走廊的一层。一阵低低的嗡鸣声，像鸟儿翅膀在远远地振动，钻进他耳朵。在阴暗的走廊里，一束束来源不明的光好像一明一灭地闪烁着，像他的心脏般在跳动。他的肉体能够贴切地意识到自己的每个动作。当他刻意小心地迈进那团光明与黑暗混合的地方时，皮肉有些刺痛。</p>
<p>他在通向二楼的楼梯旁边上站住。台阶是大理石做的，精致细腻的中心有着柔和的槽线，已经被几十年来上上下下的各种脚步磨光了，以前几乎全新的，那是——多少年前？——他第一次站在这儿向上张望，就像此刻一样，在琢磨它们会把他带向何方。他想到了时间和它的缓缓流动。他小心地把一只脚放进第一块光滑的凹地上，自己提了起来。</p>
<p>然后他就到了戈登·费奇外面的办公室。那女孩说：“费奇院长就要走……”他迷茫地点点头，冲她笑了笑，走进费奇的办公室。</p>
<p>“戈登，”他热情地说，笑容还挂在脸上，“我不会耽误你多久的。”</p>
<p>费奇条件反射般回以微笑。他双眼倦怠。“好的，比尔，坐吧。”</p>
<p>“我不会耽误你多久的，”他又说了遍，感觉自己的声音中出现了一股奇怪的力量，“情况是这样，我改变了主意——我是说关于退休事。我知道这样做很尴尬。对不起这么晚才让你知道，可是——嗯，我琢磨了好久，想这个学期末就退了。”</p>
<p>费奇的脸在他面前飘移着，在惊讶中旋转着。“怎么搞的嘛，”他说，“有人给你施压了吗？”</p>
<p>“没有这回事，”斯通纳说，“是我自己的决定。只是——我发现还有些事要做，我喜欢做的事。”他在理地说，“我也需要休息阵子。”</p>
<p>费奇有些烦躁，斯通纳知道是他造成的。他觉得听到自己又咕咕哝哝地道了一次歉，感觉微笑还傻乎乎地挂在脸上。</p>
<p>“唉，”费奇说，“我想也不太晚。我明天就可以着手做文件。我想你都知道需要知道那些吧，有关年收入、保险和诸如此类的东西？”</p>
<p>“噢，知道，”斯通纳说，“这个我都想过。都没问题。”</p>
<p>费奇看了下手表。“我要迟到了，比尔。一两天后再来聊，我们澄清下有关细节。这期间——嗯，我想，劳曼克思应该让他知道。我今晚就给他打电话。”他咧嘴笑了下。“我想你这次是成功地取悦他了。”</p>
<p>“是，”斯通纳说，“我想是吧。”</p>
<p>赶在住院之前两个星期里还有许多事情要做，但他想这些事儿是能做完的。他取消了后面两天的课，他召集来所有自己负责指导独立研究和论文的学生。他写了详尽的指导意见，那足以指导他们已经开始的工作直到完成，并把这些指导意见的复印件往劳曼克思的邮箱里放了几份。他安抚了被他们认为是嘲讽自己的话打击得惊慌失措的学生，安抚了害怕去转投新导师的学生。他发现正在服的那些药片缓解疼痛的同时，又减弱了他智力的清晰性，所以，他白天跟学生谈话，晚上读那些泛滥成灾，还是半成品的报告、论文时，只是在疼痛剧烈地逼迫他把注意力从工作上移开时才吃上几片。</p>
<p>宣布退休后过了两天，在某天忙碌的中午时分，斯通纳接到戈登·费奇打来的电话。</p>
<p>“比尔吗？戈登，是这样——有个小小问题，我想应该跟你说说。”</p>
<p>“是吗？”他不耐烦地说。</p>
<p>“是劳曼克思。他脑子就是想不通，觉得你不可能为他考虑才做出这个决定。”</p>
<p>“这没什么关系，”斯通纳说，“让他去想自己要做的吧。”</p>
<p>“稍等——事情还没完。他计划要举办个晚宴来做个了却。他说他要信守诺言。”</p>
<p>“你瞧，戈登，我现在特别忙。你就不能把这事给挡了吗？”</p>
<p>“我试了，可他在整个系里都说了。如果你要我说服他，可以，但你也最好到场。他要是喜欢这样，我没法说服的。”</p>
<p>“好吧，这蠢事定在什么时候搞？”</p>
<p>费奇稍停片刻。“从星期五算起再过一个星期吧。上课的最后一天，考试周之前。”</p>
<p>“好吧，”斯通纳无力地说，“到时我的事应该都处理好了，会比现在争论这个要轻松些。那就这样吧。”</p>
<p>“你也应该知道这个。他要我宣布你退休时身份是荣誉退休教授，尽管这个正式头衔得到明年才会真正拿到。”</p>
<p>斯通纳感觉嗓子眼儿里一声大笑快要涌上来。“真是混账，”他说，“那也行吧。”</p>
<p>整个一星期，斯通纳都在工作，完全没有时间意识。他一直工作到星期五结束，从早上八点到晚上十点。他读完最后一页，做完最后一篇笔记，然后在椅子里往后一靠，桌上的灯光弥漫在眼中，霎时间，他不知道自己身在何处。他看看四周，发现自己在办公室。由于书都随意放着，书架都鼓了出来；几个角落放着好几叠稿纸；文件柜都开着，里面放得乱七八糟。我应该把这些东西都清理整齐了，他想，我应该把自己的东西都归置好了。</p>
<p>“下周吧，”他心里说，“下周吧。”</p>
<p>他不知道自己还能不能回得了家。好像连呼吸都费劲。他打起精神，使劲把神气都运到胳膊和腿上，让它们反应起来。他站起身，尽量别让自己摇晃。他把台灯熄了，站着一直等到借助窗户里透进的月光能看清东西。接着他先迈出一只脚，接着另一只又跟上，穿过黑洞洞的条条走廊，向室外走去，然后又穿过安静的街道向家里走去。</p>
<p>灯还亮着，伊迪丝还没睡。他攒足最后一丝力气，迈上大门的台阶，走进起居室。这时他知道，没法走得更远了，他还能到沙发上，然后坐下来。过了会儿，他使劲把手伸进背心口袋，取出药瓶，往嘴里放了颗药，没有喝水就吞咽下去，接着又服了几颗。很苦，但这种苦几乎接近愉悦了。</p>
<p>他发觉伊迪丝在房间里走来走去，从这个地方走到另一个地方，他希望伊迪丝没有跟他说过话。疼痛平息些，力气恢复了些后，他才意识到她没有说，她脸上表情呆板，鼻孔和嘴撮着，走来走去时动作僵硬，看着气哼哼的。他正要跟她说话，但又信不过自己的声音。他努力琢磨，她为什么气哼哼的。她已经很久没生过气了。</p>
<p>伊迪丝终于不动了，脸对着他。她的手捏成拳头，垂在身体两侧。“嗯？你不是想说什么吗？”</p>
<p>他清了下喉咙，把目光集中起来。“对不起，伊迪丝。”他听到自己的声音平静而沉稳。“我怕是有些累了。”</p>
<p>“你根本就不想说什么，对吗？没脑子。你不觉得我有权利知道吗？”</p>
<p>他一时迷惑不解，接着又点点头。如果多少还有点力气，他准会发火。“你是怎么知道的？”</p>
<p>“别管这个。我想除了我，人人都知道。噢，威利，诚实些。”</p>
<p>“对不起，伊迪丝。我真的，抱歉。我是不想让你担忧。我打算下星期再跟你说，进去前再说，没什么事儿，你别自寻烦恼。”</p>
<p>“没事儿！”她苦涩地大笑起来。“他们说可能是癌症。你难道不知道那意味着什么吗？”</p>
<p>他忽然感觉轻飘飘的，得强迫自己抓住个什么东西。“伊迪丝，”他声音幽远地说，“我们明天再谈这事。求你了。我现在很累。”</p>
<p>伊迪丝盯着看了他会儿。“你要我扶你回房间吗？”她不耐烦地问。“你别装着好像自己能行的样子。”</p>
<p>“我能行。”他说。</p>
<p>可是，他走到自己房间之前，还是希望她能帮帮——并不仅仅因为他发觉自己比想象的还要虚弱。</p>
<p>星期六和星期天，他都在休息，星期一还能去上课。他早早就回家了，躺在起居室的沙发上，兴致很高地盯着天花板，这时门铃响了。他直起身，然后就要站起来，但门已经开了。是戈登·费奇。他脸色憔悴，双手颤抖着。</p>
<p>“进来，戈登。”斯通纳说。</p>
<p>“我的天哪，比尔，”费奇说，“你干吗不告诉我？”</p>
<p>斯通纳急促地大笑一下。“我好像在报上登了广告般。”他说，“我想安静地处理这事，不要打扰任何人。”</p>
<p>“我知道，可是——天哪，我应该知道。”</p>
<p>“也没什么可担忧的。还没有确诊——只是动个手术探查下，我想，他们是这样说的。你是怎么知道的？”</p>
<p>“贾米森，”费奇说，“他也是我的医生。他说，他知道这样做不道德，但我应该知道这事。他做得没错，比尔。”</p>
<p>“我知道，”斯通纳说，“不要紧。消息都传开了吗？”</p>
<p>费奇摇摇头：“还没有。”</p>
<p>“那你就别说出去。拜托了。”</p>
<p>“没问题，比尔，”费奇说，“现在，星期五的晚宴聚会——你不一定要去了，你知道。”</p>
<p>“但我想去，”斯通纳说完咧嘴笑了下，“我寻思不去会亏欠劳曼克思什么的。”</p>
<p>一丝笑意的鬼影从费奇的脸上掠过。“你已经成顽固不化的老混账了，难道不是吗？”</p>
<p>“我想是吧。”斯通纳说。</p>
<p>晚宴是在学生会的一个小小的招待室里举办的。最后一刻，伊迪丝说她没法坐着坚持到底，所以斯通纳就一个人去了。他早早出发，慢慢穿过校园，好像在一个春天的午后随意徜徉。不出所料，房间里一个人都没有。他让服务员移掉妻子的名卡，重新安排了主桌位，这样就不会有个空缺出来。接着他坐下来，等着客人光临。</p>
<p>他坐在戈登·费奇和校长之间。劳曼克思因为要担任仪式主持，坐在隔着三个椅子的距离开外。劳曼克思笑眯眯的，跟坐在身边的人聊着，不看斯通纳。</p>
<p>房间很快就坐满了人，系里有些好多年没有跟他说过话的人，在房间那头朝他挥挥手，斯通纳点点头。费奇不怎么说话，但仔细观察着斯通纳。这位年轻的新校长，斯通纳永远记不住他的名字，带着故作轻松的戒备跟他交谈着。</p>
<p>上菜的是穿着白色外套的年轻学生，斯通纳认出其中几位。他点点头，跟他们说上几句话。客人都伤感地看着自己的菜，开始吃起来。一片放松的交谈的嗡嗡声时而被银质餐具和瓷器欢快的碰撞声打断，在房间里沸腾着。斯通纳知道，自己的存在几乎被人忘记了，所以他还能叉住东西，礼节性地吃几口，打量下周围。如果他眯起眼睛，就看不见别人的面孔。他看到各种颜色和模模糊糊的形状在眼前活动，好像在一个框子里，一刻不停地构筑着不出边界的流动的新花样。这是一幅赏心悦目的景象，如果他特意把注意力再次集中在这幅景象上面，就感觉不到疼痛。</p>
<p>忽然安静下来。斯通纳摇了摇头，好像从梦中出来。靠近这张窄窄的桌子的末端，劳曼克思正站着，用他的刀叉在一只小杯子上敲着。这是一张清秀的脸，斯通纳出神地想，仍然很清秀。岁月让这张瘦瘦的长脸甚至更瘦了，皱纹似乎是不断加剧的敏感的印记，而不是衰老的标志。微笑中仍然带着亲切的讽刺味儿，声音一如既往洪亮、沉稳。</p>
<p>他在讲话，传到斯通纳耳朵里的话句句投中，好像这声音让这些话语从一片沉默中传出隆隆响声，然后又慢慢消失到它的源头，“……漫长岁月的忠诚服务……从这些压力中解脱出来，值得荣休……受到同事们的敬重……”他听出了讽刺味，同时也懂得，过了这么多年，劳曼克思在以自己的方式跟他说话。</p>
<p>爆发出一阵短暂又坚定的鼓掌声，惊醒了他的沉默。他旁边，戈登·费奇正站着讲话。虽然他向上望着，竖起耳朵，还是听不清费奇在说什么。费奇的嘴在动着，定定地注视着前方。然后是一片掌声，他坐了下来。他的另侧，新校长站起来，用一种从劝诱到威胁，从幽默到伤感，从悔恨到欢乐、急速变化的声音讲着。他说希望斯通纳的退休是一种开始而不是结束，他知道大学会因为他的离去而有诸多遗憾，传统很重要，变革也很有必要，未来几年，他的所有学生将心怀感激。斯通纳搞不明白他在讲什么，但校长一说完，屋子里就爆发出响亮的掌声，人人脸带微笑。掌声稀落时，听众里有人声音尖细地说：“讲得好！”另有人接过这喊声，到处是咕咕哝哝的细语声。</p>
<p>费奇对着他的耳朵轻声说：“你要我说出来让你免了，不用讲行吗？”</p>
<p>“不用，”斯通纳说，“没问题！”</p>
<p>斯通纳站起来，这时又意识到没什么可说。他从这个面孔看到另一个面孔，沉默了好长时间。他听到自己的声音单调地发出来了。“我已经教……”他说。他又重新开了个头。“我已经在这个大学教了将近四十年书。我不知道，如果我不做一名教师还能干什么。如果我不教书，我也许——”他停顿了下，好像走神了，接着又决然说：“我要感谢你们所有的人，让我来教书。”</p>
<p>他坐下来。一阵掌声，一片友好的笑声。房里开始散乱起来，人们四处走动。斯通纳感觉自己的手被人握住摇着，感觉自己微笑着，不断地冲不断对他说什么话的人点着头。校长按住他的手，真心实意地微笑着，告诉他一定要来拜访，任何一个午后都行，然后看了看手表，就急匆匆地出去了。房间开始空空荡荡，斯通纳孤单地站在起立的地方，积蓄着气力准备从房间穿过去。他等待着，直到感觉体内的某种东西硬朗了，然后才绕过桌子，走出房间，穿过一小撮好奇地看着他的人，好像他已经是个陌生人。劳曼克思就在这群人中，但是当斯通纳经过时，他并没有转过来。斯通纳发觉自己心里挺感激：这么长时间过后，他们没有必要非得彼此说点什么才好。</p>
<p>第二天斯通纳就住进医院，一直休息到星期一早上，预定这天动手术。那段时间他睡的时间很长，对即将发生在自己身上的事也没什么特别的兴趣。星期一早上，有人给他胳臂上打了一针，他好像在半昏沉状态被推着穿过走廊，来到一间陌生的房间，里面似乎全是天花板和灯。他看见什么东西降下来对准自己的脸，他闭上眼睛。</p>
<p>他醒来时想呕吐，脑袋很疼，身体下部又出现了新的刺痛，很不舒服。他干呕了几下，感觉好受些了。他把手从厚重的绷带上方摸过去，绷带裹着身体的中段。他睡着了，夜里又醒过来，喝了杯水，又睡到早晨。</p>
<p>他醒来时，贾米森在床铺旁边站着，手指搭在他的左手腕上。</p>
<p>“嗯，”贾米森问，“今天早上感觉怎么样？”</p>
<p>“挺好，我觉得。”他喉咙干燥，伸出手，贾米森递了杯水，他喝了口看着贾米森，在等着。</p>
<p>“好吧，”贾米森终于说，有些不自然，“我们取掉了肿块。挺大的伤口。过一两天你感觉会好很多。”</p>
<p>“我能离开这儿吗？”斯通纳问。</p>
<p>“你还得在这里住上两三天，”贾米森说，“只是，你要是在这里住上一阵子也许更方便些。我们没法治——一次就治好。我们还得用X射线治疗，诸如此类的治疗。当然，你也可以来回跑，不过——”</p>
<p>“不用。”斯通纳说，然后把头向后朝枕头上落下去。他又困了。“尽快吧，”他说，“我想回家。”</p>
<p>“噢，威利，”伊迪丝说，“你身体里面全被吃空了。”</p>
<p>他躺在小后屋的那张日用床上，盯着打开的窗户外面。这是下午，时候已经有些晚，太阳沉入地平线，树顶和房屋上方，垂挂在西边的一条长长的涟漪般起伏的云朵的下侧，放射出一条红光，一只苍蝇顶着玻璃板发出嗡嗡声。邻居家小院里焚烧的垃圾散发出的刺鼻的气味停留在安静的空气中。</p>
<p>“什么？”斯通纳茫然地说，然后转向妻子。</p>
<p>“里面，”伊迪丝说，“医生讲，那东西已经扩散了。噢，威利，可怜的威利。”</p>
<p>“哦。”斯通纳说。他没法让自己显得很关切的样子，“噢，你不要担心，最好不要去想它。”</p>
<p>她没有吭声，斯通纳又转过来面对那扇打开的窗户，看着逐渐暗淡的天空，最后远方的那条云上只剩一线暗紫色的条纹。</p>
<p>他回家已经有一个多星期了。那天下午，刚从医院回来，去进行贾米森面带僵硬微笑所说的“治疗”。贾米森惊叹他的伤口好得如此之快，然后又说他有着四十岁男人的体质，接着就突然沉默不语了。斯通纳任由自己被戳戳点点和拨弄，让他们把自己捆在一张桌子上，一台很大的机器在周围无声地盘桓着，自己仍然保持不动。这样显得挺傻，他知道，但没有提出反对。这样做不好。如果这样能把他们从大家逃避不掉的知识引开，可能还略微值得去做。</p>
<p>他知道，他现在躺着、望着窗外的这个小屋会渐渐变成他的世界。他已经感觉到最初的几次隐痛的发作像一个老朋友遥远的呼唤般回来了。他怀疑自己会被请去回到医院。今天下午，他已经从贾米森的话音中听到了最后的结论，贾米森给了他几片药，以防在“不舒服”的时候服用。</p>
<p>“你可以给格蕾斯写一封信，”他听到自己对伊迪丝说，“她已经很长一段时间没来看我们了。”</p>
<p>他转过身看到伊迪丝茫然地点点头。她的眼睛跟他一起平静地望着窗外越来越黑的云。</p>
<p>随后的两个星期，他感觉自己变得很虚弱，起先还比较缓慢，接着就很快了，疼痛又回来了，那种疼痛强度他没料到。他吃了些药，感觉疼痛消融在一片黑暗中，好像那是一头谨慎的动物。</p>
<p>格蕾斯来了，他发现自己竟然没有多少话要对她说。她离开圣路易斯几天，在昨天回家后才看到伊迪丝的信，她形容憔悴，焦虑紧张，眼睛下面又有了黑影。他希望能做点什么减轻她的痛苦，但他知道做不了什么。</p>
<p>“你看着气色挺好，爸爸，”她说，“挺好。你会好起来的。”</p>
<p>“会的，”斯通纳说，冲她笑了笑，“小爱德怎么样？你怎么样？”</p>
<p>格蕾斯说她挺好，小爱德也挺好，今年秋天他就要上高中三年级了。斯通纳有些困惑地看着她。“高三？”他问。接着又意识到肯定没错。“也是，”他说，“我都忘了他现在该有多大了。”</p>
<p>“孩子跟他的——跟弗莱先生和太太住在一起。多数时候跟弗莱在一起，”她说，“那样对他也好。”格蕾斯又说了些别的，但他的注意力又开始游离了。他发现，越来越难以把思想集中在任何一件事上，总是游向他无法预测的地方，有时发现自己在说话，但缘由却不明白。</p>
<p>“可怜的爸爸。”他听到格蕾斯说。他又把注意力拉回来。“可怜的爸爸，很多事儿太为难你了，不是吗？”</p>
<p>他沉思了片刻后说：“不是。但是我不想那些事成这样。”</p>
<p>“妈妈和我——我们都让你很失望，不是吗？”</p>
<p>他把手往上抬了抬，好像要触摸一下女儿。“噢，没有，”他带着一丝黯然的激动说，“你一定不要……”他还想多说点，想解释，但却说不下去。他闭上眼睛，感觉思维很萎靡。各种影像挤在眼前，不断变化着，好像在一块屏幕上。他看见了伊迪丝，还像他们第一次晚上在老克莱蒙特家里相遇时的样子——穿着蓝色的裙袍，手指细长，脸蛋漂亮精致，柔和地微笑着，淡淡的眼睛渴望地注视着每个瞬间，好像是一个甜蜜的惊喜。“你母亲……”他说。“她并不总是……”她也不总是那样。现在，他想，他能感觉到在已经变成这样的女人背后还有昔日那个女孩的影子。他想，他能感觉得到。</p>
<p>“你那时是一个很漂亮的孩子。”他听到自己在说，刹那间又不知道在跟谁说。灯光在他眼前浮动，照出某种样子，变成了他女儿的脸，遍布皱纹、忧伤，心力交瘁。他又闭上眼睛。“在书房里，还记得吗？我工作的时候你常常跟我一起坐着。你是那么安静，这灯光……灯光……”台灯（他现在能看得见）的光全吸在她那张带着孩子气的专心致志、俯看一本书或者一张画片的勤奋的小脸上，所以，在房间暗影的衬托下，光滑的肌肤熠熠生辉。他听到远处传来低微的笑声回音。“当然了，”他又说，“你永远在那里。”</p>
<p>“嘘，”格蕾斯轻声说，“你可要好好休息。”</p>
<p>这是他们的永别。第二天，格蕾斯下来看他，说她得回圣路易斯几天，又说了些别的话，声音单调、收敛，斯通纳都没听清。她拉着脸，眼睛红红的，有些湿润。他们定定地凝视着。她看了爸爸好一会儿，几乎不肯相信，接着转身离去。他知道自己再也见不到女儿了。</p>
<p>他还不想死，但是格蕾斯走了后，有几次，他却不耐烦地展望着，就像一个人展望他并不特别想参与的一次旅行的某个片刻，跟任何一个旅行者一样，他感觉在离开前还有许多事情要做，但想不起这些事情是什么。</p>
<p>他已经极度虚弱，连路都没法走了。他在那间小后屋里打发着日日夜夜。伊迪丝把他要的书带过来，在窄窄的床铺边的那个桌子上摆好，这样他不用劳动身子就可以够得着。</p>
<p>不过，他很少读，但书放在那里可以安慰自己。他让伊迪丝打开所有窗户上的帘子，不要让她拉住，即便午后灼热的阳光斜着照进房间。</p>
<p>有时伊迪丝走进房间，在床上坐到他旁边，两个人说会儿话。说些琐事——他们偶尔认识的人，校园新起的大楼，拆掉的旧楼，但说的东西似乎都不重要。他们之间酝酿出新的平静，就像爱情刚刚萌芽时的那种安静。几乎无须思索，斯通纳就知道为什么会有这份平静。他们已经原谅了曾经对彼此的伤害，他们一心一意想着对曾经一起生活的敬重。</p>
<p>斯通纳现在看着她时几乎毫不后悔，在午后柔和的阳光中，她的脸似乎依然年轻、没有了皱纹。我要是更坚强些就好了，他想；我要是知道得更多些就好了；我要是早明白就好了。最后，他几乎无情地想：如果我爱她更多些就好了。他的手从盖在身上的被子上摸索着移过去，拿住她的手，好像那是一段不得不走的遥远的距离。她没有动。过了会儿，他又飘然进入类似睡眠状态。</p>
<p>虽然吃了几粒安眠药，他的思维，在自己看来似乎仍然保持着清醒，他很感激这个。然而，好像是某种不是自己的意志掌控着他的思维，把它推向自己无法理解的方向。时间在流逝，而他却看不见这种流逝。</p>
<p>戈登·费奇几乎天天来看他，但是他的记忆却无法清楚地记住这些看望的顺序。有时，戈登不在身边，他却对戈登说着话，而且很惊讶自己的声音出现在空空的房间。有时在谈话的中途，他停下来，眨几下眼，好像忽然意识到戈登在跟前。有一次，当戈登踮着脚走进房间，他有些惊讶地转过来问，“戴夫上哪儿了？”当他看见恐怖的惊色从戈登脸上掠过时，就虚弱地摇摇头说：“对不起，戈登。我差点睡着了。我一直在想戴夫·马斯特思，而且——有时，我说些自己在想，但根本意识不到的话。这都是我吃的药引起的。”</p>
<p>戈登笑一笑，点一点头，然后又讲了个笑话。但斯通纳知道，那一刻，戈登·费奇已经抽身离他而去，好像再也不来了。他感觉刺痛般后悔，他这样提到戴夫·马斯特思，那个他们两个都喜爱、目空一切的小伙子。这么多年来他的幽灵还附在他们身上，以一种朋友的方式，那种友情的深刻程度他们两个都没有充分意识到。</p>
<p>戈登向他转达了同事们对他的关心，还断断续续讲了不少他会感兴趣的大学里的活动。但他的眼睛焦灼不安，脸上不时掠过神经质的微笑。</p>
<p>伊迪丝走进房间，戈登·费奇吃力地站起来，被打断后感觉很释然，同时又带着几分热烈和兴奋。</p>
<p>“伊迪丝，”他说，“你坐这儿吧。”</p>
<p>伊迪丝摇摇头，朝斯通纳眨了下眼。</p>
<p>“老比尔看上去不错，”戈登说，“上帝保佑，我觉得他看上去比上个星期还要好。”</p>
<p>伊迪丝转过来看着他，好像第一次注意到他在这里。</p>
<p>“噢，戈登，”她说，“他看上去很不好。可怜的威利。他可能跟我们在一起待不了多久了。”</p>
<p>戈登脸色苍白，往后退了一步，好像被击了下。“我的天，伊迪丝！”</p>
<p>“不会很久了。”伊迪丝又说了遍，表情迷离地盯着丈夫，而斯通纳正微微笑着。“我该怎么办，戈登？没有了他，我该怎么办？”</p>
<p>他闭上眼睛，他们消失了。他听到戈登轻声说着什么，听到他们离开他时的脚步声。</p>
<p>最显而易见的往往是最容易对付的。他想告诉戈登这事多么好办，他想告诉戈登，不要劳神谈论它或者琢磨它，可是已经不能说了。现在，这事似乎真的没什么大不了。他听到他们在厨房里说话的声音，戈登的声音低微、急迫。伊迪丝的声音含着怨气，短促。他们在说什么呢？</p>
<p>……疼痛突然迫不及待地袭来，让他措手不及，他几乎喊了出来。他双手松弛地放在床单上，意志顽强地撑着稳稳地挪到桌前。他取出几粒药放进嘴里，又喝了几口水。一股冰凉的汗水从额头涌出，他又一动不动地躺下，直到疼痛减轻。</p>
<p>他又听到了那声音。他睁不开眼睛。是戈登吗？他的听力似乎游离在身体之外，像云一样在自己上方盘旋，向他发射着每个细微的声音。可是他的头脑已经不能完全辨别这些词语。</p>
<p>那声音——是戈登的吗？——好像在说着自己的生活。虽然他无法听清话语，甚至没有把握肯定这些话语是说出来的，他的头脑，以一个受伤动物的凶猛劲，还是朝那个疑问猛扑过去。他冷酷无情地看着自己的生活，好像那是呈现给别人的。</p>
<p>他冷静、理智地沉思起自己这辈子看上去似乎难以回避的失败来。他曾经希望拥有友谊和友谊的亲密，这可能会让他在人类的竞争中支撑下去。他曾有两个朋友，一个他知道时已经无谓地死去，另一个此刻远远地退缩进生活的序列中，乃至……他曾想得到那种唯一性，以及婚姻平静、持续的激情。他也曾得到过，但不知道如何处理，然后已然死亡。他曾经想要爱。他拥有了爱，然后又放弃了，把它释放进混乱的生命潜能中。凯瑟琳，他想。“凯瑟琳。”</p>
<p>他想当一名教师，他成了教师。但他知道，他永远知道，人生的大部分时候他都是一个冷漠的人。他曾梦想过某种正直，某种绝对的纯洁。他寻找过妥协和无关紧要的攻击性消遣。他曾想象过智慧，在漫长岁月的尽头，他找到了无知。还有什么呢？他想，还有什么呢？</p>
<p>他还期望什么呢？他问自己。</p>
<p>他睁开眼睛。天已漆黑。他看到了外面的天空，那深沉的蓝黑色的空宇，那薄薄月辉破云而出。肯定已经很晚了，他想。好像还是瞬间前，在那明亮的午后，戈登和伊迪丝还站在他身边。或许那已是很久以前？他分不清楚了。</p>
<p>他知道，随着身体的消耗，他的头脑一定也很虚弱了，然而面对这种突如其来，他还是没有做好准备。他的肉体还很结实，他想。比我们想象的要结实。它还会一直坚持下去。</p>
<p>他听到了人声，看见了灯光，感觉疼痛来了又走了。伊迪丝的脸在他上方晃动。他感觉自己的脸在微笑。有时，他听到自己的声音在说话，他想说得很有理智，虽然没有把握。他感觉伊迪丝的双手放在他身上，在挪动着他，给他洗澡。她又有了自己的孩子了，他想。终于，她有了自己的孩子可以照顾了。他多么希望能跟她说说话，他感觉有话要跟她说。</p>
<p>你还期望什么呢？他想。</p>
<p>某个沉重的东西压着他的眼皮。他感觉眼皮在颤抖，然后睁开眼皮。他感觉是光，是某个下午明亮的阳光。他眨了几下眼睛，漠然地想到蓝天，他透过窗户看到了太阳灿烂的边缘。他确定这些都是真的。他动了动一只手，这一动，他感觉一股奇异的力量在体内流动起来，好像来自虚空。他深深地吸了口气，没有感觉到疼痛。</p>
<p>他每呼吸一次，都好像感觉这股力量在增加。他的肌肉刺痛起来，能感觉到脸上的光和阴影轻微的重量。他使劲从床上起来，这样就可以半坐着。他的脊背由墙壁支撑着，床就靠着这堵墙。现在，他能看清外面的东西了。</p>
<p>他感觉已经从一次漫长的睡眠中苏醒过来。整个人焕然一新。这是晚春或者初夏——从各种东西的样子看，更可能是初夏。后院的那棵大榆树的叶子染上了绚丽和光泽，投下的影子有种他熟悉的深深的冰凉感。空气里有一种厚实，有一种沉甸甸，挤着青草、树叶和鲜花甜丝丝的香气，混合着、保持着，让它们悬浮在空中。他又深深地呼了口气，他听到自己呼吸的刮擦声。他感觉到夏季甜丝丝的味道聚集在肺里。从刚才那次呼吸中他又感觉到自己身体深处什么地方有丝移动，这丝移动阻止了某种东西，把他的头脑给固定住，这样头就不能动了。接着它又过去了，他想，就是这种感觉。</p>
<p>他又想到应该喊一下伊迪丝，接着他又知道自己不会喊她。死亡是自私的，他想，它们像孩子那样，要的是属于自己的那个时刻。</p>
<p>他又开始呼吸了，但是在体内有些不同，他说不上来。他感觉自己在等待着什么，等待着某种顿悟，但是他好像觉得自己在这个世界上有的是时间。</p>
<p>他听到远远传来的笑声，他把头转向声音的发源方向。一群学生打捷径从他家的后院草坪里穿过来。他们匆匆忙忙要去什么地方。他看得清清楚楚。有三对儿。女孩都四肢修长、气质优雅，穿着夏天的浅色衣服，男孩都带着一副欢快、出神的惊奇望着她们。几个人轻盈地在草坪上走过去，几乎没有碰着草坪，走过的地方没有留下任何痕迹。他看着他们走出视野，直到隐没在看不见的地方。他们消失后，过了很长时间笑声还传到他耳朵里，在这夏天午后的寂静中逐渐远去，不知所向。</p>
<p>你还期望什么呢？他又想。</p>
<p>一种愉悦感油然而生，好像起于一丝夏季的微风。他模模糊糊回想着自己念念不忘的失败——好像它有多重要。此刻，在他看来，这些想法太平庸了，太不重要了，与他曾经度过的生活相比太没有价值了。模模糊糊的鬼魂开始在他的意识边缘聚集，他看不见它们，但知道它们在那里，正在聚积力量进攻某种他看不见听不到、可以感知到的东西。他正在靠近它们，他知道。但是，没有必要匆忙。如果他愿意，可以不理它们。他有的是时间。</p>
<p>一种柔软感缠在他身上，一种倦怠感爬上他的四肢。一种他自己的身份感忽然猛然袭来，他感觉到了这个东西的力量。他就是自己，他知道自己曾经是什么样的人。</p>
<p>他转了下头，床头桌上堆满了好长时间没有碰过的书。他伸手抚弄了会儿这些书。他很惊讶手指那么细，很惊讶在活动手指时关节的连接是那么精细复杂。他又感觉到手指内部的那股力量了，任由手指从凌乱的桌面上拉过一本书。这是他要找的自己的那本书，他的手捧住时，他对着由于时光久远而褪色和磨损的熟悉的红色封面笑了。</p>
<p>这本书被遗忘和没有派上用场，他觉得这也没什么关系。任何时候，它的价值问题都几乎微不足道。他没有过那样的幻觉，以为会从中找到自我，在那已然褪色的印刷文字中。而且，他知道，自己的一小部分，他无法否认在其中，而且将永远在其中。</p>
<p>他打开那本书，这样打开的时候，这本书好像不是自己的了。他让手指轻轻地快速翻了一遍书页，感觉一股刺痛袭来，好像这些书页是活的。刺痛穿过手指，迅速流过肌肉和骨骼。他时刻感觉到刺痛在那里，他等着刺痛弥漫全身，等着那种古老的兴奋，像恐怖般的兴奋把他定在躺着的地方。从窗户上掠过的阳光照在书页上，他看不见自己在上面写了什么。</p>
<p>手指开始松软，捏着的那本书慢慢滑动，然后快速越过他不动的身体，跌进房间的寂静中。</p>
]]></content>
      <categories>
        <category>读书笔记</category>
        <category>好句摘抄</category>
      </categories>
      <tags>
        <tag>斯通纳</tag>
      </tags>
  </entry>
  <entry>
    <title>番剧</title>
    <url>/bangumis/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>相册</title>
    <url>/albums/index.html</url>
    <content><![CDATA[<div class="gallery-group-main">

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223209.webp' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">摄影记录</div>
  <p>一些拍摄整理</p>
  <a href='/albums/photographic'></a>
  </figcaption>
  </figure>
  

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220458.jpeg' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">动物大赏</div>
  <p>关于动物的图片</p>
  <a href='/albums/animal'></a>
  </figcaption>
  </figure>
  

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224607.webp' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">植物欣赏</div>
  <p>关于植物的图片</p>
  <a href='/albums/plant'></a>
  </figcaption>
  </figure>
  

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042606824.jpeg' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">文章封面</div>
  <p>博客封面的图片</p>
  <a href='/albums/cover'></a>
  </figcaption>
  </figure>
  
</div>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/giscus.json</url>
    <content><![CDATA[{"defaultCommentOrder":"newest"}]]></content>
  </entry>
  <entry>
    <title>关于</title>
    <url>/about/index.html</url>
    <content><![CDATA[<!-- 欢迎界面并展示访问次数 -->
<p><h2 align="center">👋Thank You For Your Visit</h2></p>
<div align="center">
<img src="https://profile-counter.glitch.me/YuZhangWang/count.svg" >
</div>


<!-- 反996运动 https://996.icu  https://github.com/996icu -->
<div align="center">
    <strong>Guido van Rossum, Python之父:<a href="https://twitter.com/gvanrossum/status/1111628076801236993">"996"工作制是不人道的.</a></strong>
    </br>
    </br>
    <table border="0">
  <tr>
    <td><a href="https://996.icu"><img src="https://img.shields.io/badge/link-996.icu-red.svg?style=for-the-badge" /></a></td>
    <td><a href="https://996tsc.netlify.app/#/sticker"><img src="https://img.shields.io/badge/link-996.TSC-red?style=for-the-badge"  /></a></td>
    <td><a href="https://github.com/top996/top.996"><img src="https://img.shields.io/badge/link-top.996-red?style=for-the-badge"  /></a></td>
    <td><a href="https://fengt-t.github.io/996_list/"><img src="https://img.shields.io/badge/link-996__list-red?style=for-the-badge"  /></a></td>
    <td><a href="https://github.com/it-job-blacklist/996ICU.job.blacklist_company"><img src="https://img.shields.io/badge/link-job--blacklist-red?style=for-the-badge"  /></a></td>
  </tr>
  <tr>
    <td><a href="https://github.com/zxpsuper/IT-blacklist"><img src="https://img.shields.io/badge/link-IT--blacklist-red?style=for-the-badge"  /></a></td>
    <td><a href="https://github.com/996icu/996.ICU/tree/master/whitelist"><img src="https://img.shields.io/badge/link-whitelist-success?style=for-the-badge"  /></a></td>
    <td><a href="https://github.com/996icu/996.ICU/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-NPL%20(The%20996%20Prohibited%20License)-blue?style=for-the-badge"  /></a></td>
    <td><a href="https://github.com/996icu/996.ICU/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-Anti%20996-blue.svg?style=for-the-badge" /></a></td>
    <td><a href="https://github.com/YuZhangWang/YuZhangWang/blob/master/LICENSE"><img src="https://img.shields.io/github/license/onlyGuo/nginx-gui.svg?style=for-the-badge"></a></td>
  </tr>
</table> 
</div>




<!-- 关于我的一些编程信息,例如Github状态,Github仓库内编程语言使用情况统计,常用的编程语言,常用的编程框架和IDE工具,Github粉丝点赞访客 -->
<h2 id="🏆-Github-Status"><a href="#🏆-Github-Status" class="headerlink" title="🏆 Github Status"></a>🏆 Github Status</h2><!-- Github状态 -->
<div align="center">
<table>
    <tr>
        <!-- Github状态 -->
        <td>
          <a href="https://github.com/anuraghazra/github-readme-stats#gh-dark-mode-only">
          <img height=200 src="https://github-readme-stats.vercel.app/api/?username=YuZhangWang&show_icons=true&count_private=true&line_height=28&hide_border=true&card_width=347&include_all_commits=true&role=owner,collaborator&exclude_repo=github-readme-stats&theme=dark&bg_color=000000" />
          </a>
        </td>
        <!-- Github仓库内编程语言使用情况统计 -->
        <td>
          <a href="https://github.com/anuraghazra/github-readme-stats#gh-dark-mode-only">
          <img height=200 src="https://github-readme-stats.vercel.app/api/top-langs/?username=YuZhangWang&layout=compact&langs_count=10&hide_border=true&role=owner,collaborator&theme=dark&bg_color=000000"/>
          </a>
        </td>
    </tr>
</table>
</div>

<!-- 常用的编程语言和常用的编程框架和IDE工具 -->
<div align="center">
<table>
<tr>
<td>
🏕️Languages
</td>
<td>
<mark class="hl-label orange">Python</mark> 、<mark class="hl-label purple">CPP</mark> 、<mark class="hl-label pink">Latex</mark> 、<mark class="hl-label pink">Markdown</mark> 、<mark class="hl-label blue">Html</mark> 、<mark class="hl-label blue">CSS</mark> 、<mark class="hl-label green">Javascript</mark> 、<mark class="hl-label default">Java</mark> 
</td>
</tr>

<tr>
<td>
🥖Tools
</td>
<td>
<mark class="hl-label orange">Pycharm</mark> 、<mark class="hl-label orange">Anaconda</mark> 、<mark class="hl-label orange">Pytorch</mark> 、<mark class="hl-label orange">Opencv</mark> 、<mark class="hl-label orange">TensorFlow</mark> 、<mark class="hl-label orange">Django</mark> 、<mark class="hl-label orange">Flask</mark> 、<mark class="hl-label purple">Clion</mark> 、<mark class="hl-label purple">CMake</mark> 、<mark class="hl-label pink">Node.js</mark> 、<mark class="hl-label blue">Git</mark> 、<mark class="hl-label default">Visual-Studio-Code</mark> 、<mark class="hl-label green">openSUSE</mark> 、<mark class="hl-label orange">Firefox</mark> 
</td>
</tr>
</table>
</div>

<!-- 关于我的一些信息 -->
<h2 id="🤵-About-Me"><a href="#🤵-About-Me" class="headerlink" title="🤵 About Me"></a>🤵 About Me</h2><blockquote>
<ul>
<li>YuZhangWang(豫章望)</li>
<li>励志成为一名算法工程师，研究深度学习、机器学习，达到算法工程落地的要求，同时前端后端掌握一些内容</li>
<li>合作邮箱<a href="mailto:YuZhangWang233@163.com">YuZhangWang233@163.com</a></li>
<li>个人博客<a href="https://yuzhang.wang">https://yuzhang.wang</a></li>
<li>博客备份<a href="https://flowus.cn/yuzhangwang/share/7df66bdd-907c-4023-803c-b8c5cfe06d4a">YuZhangWang的领域</a></li>
<li>RSS订阅<a href="https://yuzhang.wang/rss2.xml">https://yuzhang.wang/rss2.xml</a></li>
</ul>
</blockquote>
<!-- 各种平台联系方式 -->
<h2 id="📬-Get-In-Touch"><a href="#📬-Get-In-Touch" class="headerlink" title="📬 Get In Touch"></a>📬 Get In Touch</h2><div align="center">
<table border="0">
  <tr>
    <td>
        <!-- StackOverFlow -->
        <a href="https://stackoverflow.com/users/16347524/yuzhangwang" target="_blank"> 
        <img src="https://img.shields.io/badge/StackOverFlow-YuZhangWang-%23F48024?style=for-the-badge">
        </a>
    </td>
    <td>
        <!-- CSDN -->
        <a href="https://blog.csdn.net/qq_43616274" target="_blank"> 
        <img src="https://img.shields.io/badge/CSDN-YuZhangWang-%23FC5531?style=for-the-badge">
        </a>
    </td>
    <td>
        <!-- 掘金 -->
    <a href="https://juejin.cn/user/4476867080633319" target="_blank"> 
    <img src="https://img.shields.io/badge/%E6%8E%98%E9%87%91-YuZhangWang-%231E80FF?style=for-the-badge">
    </a>
    </td>
    <td>
        <!-- 知乎 -->
        <a href="https://www.zhihu.com/people/YuZhangWang" target="_blank"> 
        <img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-YuZhangWang-%230066FF?style=for-the-badge">
        </a>
    </td>
  </tr>
  <tr>
    <td>
        <!-- Github -->
        <a href="https://github.com/YuZhangWang" target="_blank"> 
        <img src="https://img.shields.io/badge/Github-YuZhangWang-%2324292F?style=for-the-badge">
        </a>
    </td>
    <td>
        <!-- Gitee -->
        <a href="https://gitee.com/YuZhangWang233" target="_blank"> 
        <img src="https://img.shields.io/badge/Gitee-YuZhangWang-%23C71D23?style=for-the-badge">
        </a>
    </td>
    <td>
        <!-- LeetCode -->
        <a href="https://leetcode-cn.com/u/yuzhangwang/" target="_blank"> 
        <img src="https://img.shields.io/badge/LeetCode-YuZhangWang-%23FFA119?style=for-the-badge">
        </a>
     </td>
    <td>
        <!-- bilibili -->
        <a href="https://space.bilibili.com/19474542" target="_blank"> 
        <img src="https://img.shields.io/badge/bilibili-YuZhangWang-%23FB7299?style=for-the-badge">
        </a>
    </td>
  </tr>
  <tr>
    <td>
        <!-- 酷安 -->
        <a href="http://www.coolapk.com/u/1670757" target="_blank"> 
        <img src="https://img.shields.io/badge/%E9%85%B7%E5%AE%89-YuZhangWang-%2311C273?style=for-the-badge">
        </a>
     </td>
    <td>
        <!-- 网易云 -->
        <a href="https://music.163.com/#/user/home?id=340104770" target="_blank"> 
        <img src="https://img.shields.io/badge/%E7%BD%91%E6%98%93%E4%BA%91-YuZhangWang-%23DF001B?style=for-the-badge">
        </a>
    </td>
    <td>
        <!-- QQ -->
        <a href="https://cdn.jsdelivr.net/gh/YuZhangWang/Creative_pictures01@main/2021/03/09/qrcode_1615295622746.jpg" target="_blank"> 
        <img src="https://img.shields.io/badge/QQ-YuZhangWang-%2350BCFE?style=for-the-badge">
        </a>
    </td>
    <td>
        <!-- 微信 -->
        <a href="https://cdn.jsdelivr.net/gh/YuZhangWang/Creative_pictures01@main/2021/03/09/mmqrcode1615295634051.png" target="_blank"> 
        <img src="https://img.shields.io/badge/%E5%BE%AE%E4%BF%A1-YuZhangWang-%231AAD19?style=for-the-badge">
        </a>
    </td>
  </tr>
</table>
</div>]]></content>
  </entry>
  <entry>
    <title>分类</title>
    <url>/categories/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/css/font.css</url>
    <content><![CDATA[:root {
    --hl-color: hsl(220, 14%, 71%);
    --hl-bg: hsl(220, 13%, 18%);
}

figure.highlight pre .deletion,
figure.highlight pre .tag .name,
figure.highlight pre .constant,
figure.highlight pre .css .class,
figure.highlight pre .number,
figure.highlight pre .tag .attr,
figure.highlight pre .ruby .constant {
    color: hsl(29, 54%, 61%);
}

figure.highlight pre .addition,
figure.highlight pre .string,
figure.highlight pre .value {
    color: hsl(95, 38%, 62%);
}

figure.highlight pre .comment,
figure.highlight pre .xml .cdata {
    color: hsl(220, 10%, 40%);
}

figure.highlight pre .variable,
figure.highlight pre .function,
figure.highlight pre .javascript .function,
figure.highlight pre .built_in,
figure.highlight pre .title {
    color: hsl(207, 82%, 66%);
}

figure.highlight pre .xml .tag .title,
figure.highlight pre .tag,
figure.highlight pre .ruby .class .title,
figure.highlight pre .python .title,
figure.highlight pre .ruby .function .title,
figure.highlight pre .javascript .title,
figure.highlight pre .coffeescript .title,
figure.highlight pre .ruby .symbol {
    color: hsl(355, 65%, 65%);
}

figure.highlight pre .xml .doctype,
figure.highlight pre .html .doctype,
figure.highlight pre .special {
    color: hsl(220, 14%, 71%);
}

figure.highlight pre .command {
    color: hsl(220, 14%, 45%);
}

figure.highlight pre .keyword,
figure.highlight pre .ruby .title .keyword {
    color: hsl(286, 60%, 67%);
}

figure.highlight pre .params {
    color: hsl(220, 14%, 71%);
}

#article-container figure.highlight .gutter pre {
    background-color: rgb(40, 44, 52);
}]]></content>
  </entry>
  <entry>
    <title>影视</title>
    <url>/cinemas/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/css/custom.css</url>
    <content><![CDATA[/* 版权信息下划线去除 */
#post .post-copyright .post-copyright-info a {
    text-decoration: none;
}

/* 页脚底部效果优化 */
#aside-content .card-webinfo .webinfo .webinfo-item {
    padding: 0 0 0 0
}

#footer {
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    color: #000;
    background: none;
}

#footer #footer-wrap,
#footer #footer-wrap a {
    color: #333;
}

.fa-heart {
    color: red
}

/* 分类字体调大 */
#page .category-lists ul {
    font-size: 22px;
    ;
}

/* h1-h6颜色优化 */
#content-inner.layout h1::before {
    color: #5ec1e0;
}

#content-inner.layout h2::before {

    color: #ffbf00;
}

#content-inner.layout h3::before {
    color: #57c850;
}

#content-inner.layout h4::before {
    color: #fb7061;
}

#content-inner.layout h5::before {
    color: #a9e000;
}

#content-inner.layout h6::before {
    color: #ef50a8;
}

#content-inner.layout h1:hover,
#content-inner.layout h2:hover,
#content-inner.layout h3:hover,
#content-inner.layout h4:hover,
#content-inner.layout h5:hover,
#content-inner.layout h6:hover {
    color: #49b1f5;
}

/* 图片下方描述和图片间距调整 */
.img-alt {}

/* 页面标题和文章标题居中显示 */
#page h1.page-title {
    text-align: center;
}

#post-info h1.post-title {
    text-align: center;
}

/* 文章顶部信息居中显示 */
#post-info #post-meta div.meta-firstline {
    text-align: center;
}

#post-info #post-meta div.meta-secondline {
    text-align: center;
}

#post-info #post-meta {
    text-align: center;
}

/* 网页变灰 
html {
    filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);
    -webkit-filter: grayscale(100%);
}
*/]]></content>
  </entry>
  <entry>
    <title>友链</title>
    <url>/link/index.html</url>
    <content><![CDATA[<blockquote>
<p>每次刷新为随机顺序展示～<br>现已不支持在评论区中直接申请友链，请在<a href="https://github.com/YuZhangWang/Blog-Friend-Link">Blog-Friend-Link</a>这个 Repo 里按要求提交一个 Pull Request 就可以申请友链啦~</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>简历</title>
    <url>/cv/index.html</url>
    <content><![CDATA[<blockquote>
<p>本页面可能存在无法在线浏览或者直接下载文件的情况<br>建议使用<a href="https://www.mozilla.org/en-US/firefox/all">FireFox</a>进行观看，效果最好</p>
</blockquote>


	<div class="row">
    <embed src="../cv/cv-zh.pdf" width="100%" height="550" type="application/pdf">
	</div>





	<div class="row">
    <embed src="../cv/cv-en.pdf" width="100%" height="550" type="application/pdf">
	</div>


]]></content>
  </entry>
  <entry>
    <title>项目</title>
    <url>/project/index.html</url>
    <content><![CDATA[<blockquote>
<p>点击图片跳转到代码页面，点击项目名称跳转到视频演示页面<br>Click on the image to jump to the code page, click on the project name to jump to the video demo page </p>
</blockquote>
<h1 id="个人项目"><a href="#个人项目" class="headerlink" title="个人项目"></a>个人项目</h1><!-- 项目列表 -->
<div class="projects">
<div class="project">
    <a href="https://www.example.com/project1.html"><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202210171416164.png"></a>
    <a href="https://www.example.com/project1.html"><h3>mid-air-draw</h3></a>
    <p>🎨 凌空画笔 - 手势识别 + 手指识别跟踪实现空中绘画 </p>
</div>

<div class="project">
    <a href="https://www.example.com/project2.html"><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202210171416164.png"></a>
    <a href="https://www.example.com/project1.html"><h3>项目2</h3></a>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ut blandit magna. Praesent lacinia a nisl quis posuere.</p>
</div>

<div class="project">
    <a href="https://www.example.com/project3.html"><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202210171416164.png"></a>
    <a href="https://www.example.com/project1.html"><h3>项目3</h3></a>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ut blandit magna. Praesent lacinia a nisl quis posuere.</p>
</div>
</div>






<!-- 项目列表样式 -->
<style>
h3 {
    text-align: center;
}
.projects {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between; /* 将 justify-content 属性修改为 space-between */
    padding: 20px;
}
.project {
    width: 50%; /* 将宽度设置为 50% */
    margin-bottom: 20px;
}
.project img {
    width: 45%; /* 将宽度设置为45% */
    height: auto; /* 高度自动适应比例 */
    cursor: pointer; /* 添加鼠标手势 */
    transition: transform 0.5s ease; /* 添加过渡效果 */
}
.project img:hover {
    transform: scale(1.1); /* 鼠标悬停时放大图片 */
}    
.project h3 {
    margin-top: 10px;
    font-size: 18px;
}
.project p {
    margin-top: 5px;
    font-size: 14px;
    color: #666;
}
</style>]]></content>
  </entry>
  <entry>
    <title>标签</title>
    <url>/tags/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>动物大赏</title>
    <url>/albums/animal/index.html</url>
    <content><![CDATA[<div class="gallery">
    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">
    <span class="gallery-data">[{"url":"","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051300871.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225000.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222910.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222900.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222836.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221057.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214752.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042911045.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220458.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215138.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214735.jpeg","alt":""}]</span>
    </div>
    <button class="gallery-load-more"><span>加载更多</span><i class="fa-solid fa-arrow-down"></i></button>
    </div>]]></content>
  </entry>
  <entry>
    <title>文章封面</title>
    <url>/albums/cover/index.html</url>
    <content><![CDATA[<div class="gallery">
    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">
    <span class="gallery-data">[{"url":"","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202306010033997.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202305140223714.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202211120858064.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202211021200519.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070540906.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070539067.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070538360.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070538561.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807053714485.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807053637416.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070536934.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070535111.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140233848.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203140115069.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203130652047.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070534720.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070533779.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070532497.7","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/img/202203102131655.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070531940.jpg?source=1940ef5c","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070529515","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/04/19/20220419153903785.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/04/19/20220419153204762.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907031314518.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/09/07/20210907025934107.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826231238.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/24/20210824174622936.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070525320.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070524705.zIom0SY5fmJhvLOWTll-GAHaEv?pid=ImgDet&rs=1","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824171559.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210908135010.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807052220734.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902135544.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807052115047.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230340.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051907316.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230221.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230139.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051805636.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051737389.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225851.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/28/20210828235903071.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225745.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210902144950.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/202109130109736.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225225.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/12/IMG_20210305_131543.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210824163638.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070510451.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807050838325.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/29/20210829000450548.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070507562","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807050643400.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807050609731.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070505646.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224829.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/04/19/20220419150515723.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224424.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224332.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070459415.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223929.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807045610930.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807045432995.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807045248664.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223209.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807045058676.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807045016717.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807044638728.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222836.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807044456098.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_16-05-20.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-18_15-07-02.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-13_14-33-41.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-13_14-33-41.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/Snipaste_2020-05-14_19-57-40.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807044326374.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/psc.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202208070442568.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807043644591.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807043452142.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/2021/03/09/%E5%9B%BE%E7%89%871.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807043353473.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807043317192.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826222306.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807043237906.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/0b41df2110e10231ca308370500d1fcf","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221742.png","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/20210826221616535.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826221417.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042956634.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042911045.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042837153.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042755923.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220458.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220324.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042634916.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042606824.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042531758.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215616.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/04/19/20220419153533619.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215138.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214934.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042334127.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826214735.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042231404.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042150316.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807042119627.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807041853447.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807041750127.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807041609014.jpeg","alt":""}]</span>
    </div>
    <button class="gallery-load-more"><span>加载更多</span><i class="fa-solid fa-arrow-down"></i></button>
    </div>]]></content>
  </entry>
  <entry>
    <title>摄影记录</title>
    <url>/albums/photographic/index.html</url>
    <content><![CDATA[<div class="gallery">
    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">
    <span class="gallery-data">[{"url":"","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051944840.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051610211.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225458.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225445.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225433.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051427367.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826230619.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224607.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223626.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223616.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223605.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223555.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826223209.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@master/2021/08/26/20210826221616535.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826215616.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826213844.jpeg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807041853447.jpeg","alt":""}]</span>
    </div>
    <button class="gallery-load-more"><span>加载更多</span><i class="fa-solid fa-arrow-down"></i></button>
    </div>
]]></content>
  </entry>
  <entry>
    <title>植物欣赏</title>
    <url>/albums/plant/index.html</url>
    <content><![CDATA[<div class="gallery">
    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">
    <span class="gallery-data">[{"url":"","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02/2022/08/07/20220807051356525.jpg","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225607.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826225338.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224607.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826224213.webp","alt":""},{"url":"https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures01@main/img/20210826220324.jpeg","alt":""}]</span>
    </div>
    <button class="gallery-load-more"><span>加载更多</span><i class="fa-solid fa-arrow-down"></i></button>
    </div>]]></content>
  </entry>
  <entry>
    <title>说说</title>
    <url>/natter/index.html</url>
    <content><![CDATA[<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-13</p>
</div></div><div class='timeline-item-content'><p>求仙问佛不如自己做主 诗佛圣经不如本事在身</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-12</p>
</div></div><div class='timeline-item-content'><p>用理想要求自己，用世俗之见宽以待人</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-11</p>
</div></div><div class='timeline-item-content'><p>你遭受了痛苦，你也不要向人诉说，以求同情，因为一个有独特性的人，连他的痛苦都是独特的，深刻的，不易被人了解，别人的同情只会解除你的痛苦的个人性，使之降低为平庸的烦恼，同时也就使你的人格遭到贬值。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-10</p>
</div></div><div class='timeline-item-content'><p>当你的才华还撑不起你的野心的时候，那你就应该静下心来好好学习</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-09</p>
</div></div><div class='timeline-item-content'><p>换个环境，换个角度，你会发现不一样的世界</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-08</p>
</div></div><div class='timeline-item-content'><p>当你决定要做一件事情，不要告诉任何人，默默地把它做完， 你要做一个不动声色的大人了。不准情绪化，不准偷偷想念，不准回头看。去过自己另外的生活。——村上春树 </p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-07</p>
</div></div><div class='timeline-item-content'><p>你们知道他们在说谎，</p>
<p>他们知道你们知道他们在说谎，</p>
<p>你们知道他们知道你们知道他们在说谎。</p>
<p>但是，他们还在说谎！</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-06</p>
</div></div><div class='timeline-item-content'><p>把理想丢给野狗，把良心留给自己，再往里面塞一把尺子，量量人心，量量世间万物，量出来谁家期货好就买谁家的，华为好就买华为，苹果好就买苹果。如果侥幸能够活下去，学一学屠龙术，会去找已经变成恶犬的野狗，用学到的屠龙术和恶犬斗一斗。如果侥幸能够斗赢，刨开它的肚子看看自己的理想有没有烂掉，如果还没让完全就塞回自己心里。</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-05</p>
</div></div><div class='timeline-item-content'><p>以深深的谦虚和忍耐去期待一个新的豁然贯通的时刻。</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-04</p>
</div></div><div class='timeline-item-content'><p>如果今天你的起点依然不高，如果今天你得到的生活不是你想要的，如果今天你所处的朋友圈的层次和水平也不是你向往的，请你选择努力，努力使自己发光，就不惧怕黑暗。当你光芒四射时，你会在黑暗中照亮自己和别人。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-03</p>
</div></div><div class='timeline-item-content'><p>Be careful what you tell people.</p>
<p>A friend today could be an enemy tomorrow.</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-02</p>
</div></div><div class='timeline-item-content'><p>我们当初之所以达到了今天的高度，靠的正是放低姿态，不放过任何一个知识点，和提高自己的机会。我们一切行动力的来源，正是来源于内心对目标的渴望和追求。</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-01</p>
</div></div><div class='timeline-item-content'><p>“读过多少书，就敢说这个世道‘就是这样的’，见过多少人，就敢说男人女人‘都是这般德行’？你亲眼见过多少太平和苦难，就敢断言他人的善恶?”</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-25</p>
</div></div><div class='timeline-item-content'><p>我是值得被爱的。</p>
<p>“我不被爱，不是我的错，是别人错了。”</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-24</p>
</div></div><div class='timeline-item-content'><p>用自己认知里的东西去要求别人，纠正别人的行为来证明自己，本身就是有失教养的表现。</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-23</p>
</div></div><div class='timeline-item-content'><p>你的思维需要比你的问题的级别高才能解决该问题。</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-22</p>
</div></div><div class='timeline-item-content'><p>我们弱小的时候，列强们疯狂地掠夺残害我们；我们强大的时候，列强们就疯狂的污蔑抹黑欺骗我们好让我们变弱小；时间会变，人不会变。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-21</p>
</div></div><div class='timeline-item-content'><p>告诉自己，难受是正常的，多安排一些事情让自己忙起来，哪怕痛苦也慢慢去经历。只是我们是积极接受痛苦，边走边痛苦，而不是停在原地痛苦。</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-20</p>
</div></div><div class='timeline-item-content'><p>使我有洛阳两顷田，安能配六国相印</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-19</p>
</div></div><div class='timeline-item-content'><p>弗知而言为不智，知而不言为不忠</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-18</p>
</div></div><div class='timeline-item-content'><p>没有什么东西是不付出就可以轻易得到的，即使你得到了，也只是暂时的，因为它本不属于你。但是，通过你自己努力之后得到的，它一定不属于别人！</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-17</p>
</div></div><div class='timeline-item-content'><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202306220050260.png" alt=""></p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-16</p>
</div></div><div class='timeline-item-content'><p>所以永远不要相信一个人的成功是运气好，更加不要轻易觉得自己比领导更聪明！</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-15</p>
</div></div><div class='timeline-item-content'><p>掉在水里你不会被淹死，呆在水里你才会淹死，你只有游不停地往前游，那些从一开始就选择放弃的人他不会失败，因为他们一开始就失败了，失败并不可怕，害怕失败才真正可怕，我们只有从失败中寻找胜利，在绝望中寻求希望。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-14</p>
</div></div><div class='timeline-item-content'><p>杀人放火金腰带，修桥补路无尸骸</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-13</p>
</div></div><div class='timeline-item-content'><p>万法皆空 因果不空</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-12</p>
</div></div><div class='timeline-item-content'><p>我本将心向明月 奈何明月照沟渠</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-11</p>
</div></div><div class='timeline-item-content'><p>小隐隐于野 大隐隐于市</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-10</p>
</div></div><div class='timeline-item-content'><p>人生不如意十有八九 能与人言不过二三</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-09</p>
</div></div><div class='timeline-item-content'><p>Doing things right or doing right things?</p>
<p>Doing right things!!!</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-08</p>
</div></div><div class='timeline-item-content'><p>不宜妄自菲薄，引喻失义</p>
<p>亦宜自谋，以咨诹善道，察纳雅言</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-07</p>
</div></div><div class='timeline-item-content'><p>人与人智慧的差异是很小的，经历本身也是一种文化</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-06</p>
</div></div><div class='timeline-item-content'><p>cyber thimble</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-05</p>
</div></div><div class='timeline-item-content'><p>有两个成语，一个叫做衣锦还乡，一个叫做锦衣夜行。</p>
<p>衣锦还乡意思是，古时指做官后，穿了锦绣的衣服，回到故乡向亲友夸耀。</p>
<p>锦衣夜行意思是，穿着华美的衣服在黑暗的夜晚走路，表示虽然事业上有所成就，却没有回乡接受亲友的称誉。</p>
<p>对于很多有了出头之日的人来说，锦衣夜行其实很难，不炫出来，特别难受。</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-04</p>
</div></div><div class='timeline-item-content'><p>PLUSULTRA！</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-03</p>
</div></div><div class='timeline-item-content'><p>当你想要某种东西时，整个宇宙会合力助你实现愿望。——《牧羊少年奇幻之旅》</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-02</p>
</div></div><div class='timeline-item-content'><p>过去的事情，就让它过去好了</p>
<p>省得因为你的过去，而耽误了你的未来</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-01</p>
</div></div><div class='timeline-item-content'><p>一时的失利，总比一时的胜利好得多</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-25</p>
</div></div><div class='timeline-item-content'><p>用你上半辈子 去经历别人没有经历过的</p>
<p>用你下半辈子 去经历别人正在经历的</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-24</p>
</div></div><div class='timeline-item-content'><p>对于欠缺天分的学生而言，你的内心一定是牺牲了什么珍贵的东西，才获得了向上走的动力</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-23</p>
</div></div><div class='timeline-item-content'><p>Neither your parents nor your children, only your friends can touch your private.</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-22</p>
</div></div><div class='timeline-item-content'><p>不要遇见一点点挫折委屈，就轻易改变自己做人的准则和政治信仰</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-21</p>
</div></div><div class='timeline-item-content'><p>我不欺负别人，别人也别想欺负我</p>
<p>如果有人硬要把我逼成对手，那么我一定会做一个合格的对手</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-20</p>
</div></div><div class='timeline-item-content'><p>“好人可以通过自己的德行来吸引同道，而流氓只能寻找同类。”</p>
<p>“强的最小单位是贯彻自己的意志。”</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-19</p>
</div></div><div class='timeline-item-content'><p>莫欺少年穷</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-18</p>
</div></div><div class='timeline-item-content'><p>最优秀的学生既聪明又努力，比较优秀的学生努力不聪明，一般的学生聪明不努力，拉胯的学生既不聪明又不努力。</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-17</p>
</div></div><div class='timeline-item-content'><p>某一天我打开了地下室的门</p>
<p>恍惚间我看到另一个我就静静地坐在那</p>
<p>我没有疑惑没有迟疑，是我把他锁在了这里</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-16</p>
</div></div><div class='timeline-item-content'><p>晓峰吹乱散发</p>
<p>残月远照天涯</p>
<p>昔日相约柳下</p>
<p>唯见孤影寒鸦</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-15</p>
</div></div><div class='timeline-item-content'><p>放下一朵曼陀罗</p>
<p>祭奠一个曾经的我</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-14</p>
</div></div><div class='timeline-item-content'><p>寄蜉蝣于天地，渺沧海之一粟</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-13</p>
</div></div><div class='timeline-item-content'><p>Putty本无树，MinGW亦非台</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-12</p>
</div></div><div class='timeline-item-content'><p>人生在世，注定要受许多委屈。而一个人越是成功，他所遭受的委屈也越多。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-11</p>
</div></div><div class='timeline-item-content'><p>两岸猿声啼不住轻舟已过万重山</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-10</p>
</div></div><div class='timeline-item-content'><p>“漠河舞厅这首歌的故事原型：一位名叫张德全的老人，在舞厅中央独自跳舞。三十多年前，他妻子在火灾中不幸离世。从此他未再婚，他与妻子无子女。妻子生前喜欢跳舞，他和她以前常在亮着灯的旧仓库里一起跳舞。这是不得已的中途散场。更多的人，是在爱的跋山涉水中半途而废。”</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-09</p>
</div></div><div class='timeline-item-content'><p><img src="https://gcore.jsdelivr.net/gh/YuZhangWang/Creative-pictures02@master/img/202306220033980.png" alt=""></p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-09</p>
</div></div><div class='timeline-item-content'><p>To pursue transcendence means to accept loneliness.</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-08</p>
</div></div><div class='timeline-item-content'><p>To pursue transcendence means to accept loneliness.</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-07</p>
</div></div><div class='timeline-item-content'><p>时势变人心自然会变，就像地上的青草，也会顺应天时生长一样</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-06</p>
</div></div><div class='timeline-item-content'><p>人就跟电脑一样，不是说你配置高，性能就一定好，还得看散热，如果你电脑动不动就很热，那再强的性能也发挥不出来。人也是这样，如果你遇事就慌乱，那再聪明的人也会手足无措。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-05</p>
</div></div><div class='timeline-item-content'><p>我做事的时候跟我说，你想的太简单了；我有事的时候跟我讲，你想的太复杂了。</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-04</p>
</div></div><div class='timeline-item-content'><p>大事上犯糊涂，小事上耍聪明，这种人迟早得出事</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-03</p>
</div></div><div class='timeline-item-content'><p>逝去的猫猫会踏着彩虹桥来到乌托邦变成一只只模因猫</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-02</p>
</div></div><div class='timeline-item-content'><p>班级群里的正常人：不说话的人</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-01</p>
</div></div><div class='timeline-item-content'><p>我看着你，你还给我耍心眼。</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-25</p>
</div></div><div class='timeline-item-content'><p>志不强者智不达 言不信者行不果</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-24</p>
</div></div><div class='timeline-item-content'><p>有特别才能的人，总会在某方面显得怪怪的，显得特别不合群，格格不入。可是这些怪异处你必须忽略，因为正是这种怪异才成全了这类人才。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-23</p>
</div></div><div class='timeline-item-content'><p>我学文，是想坐下来和你讲道理。</p>
<p>我学武，是想让你坐下来听我讲道理。</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-22</p>
</div></div><div class='timeline-item-content'><p>那一夜，我也曾梦到百万雄兵</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-21</p>
</div></div><div class='timeline-item-content'><p>江山父老能容我不使人间造孽钱</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-20</p>
</div></div><div class='timeline-item-content'><p>当然日本人也讲究礼貌，我个人认为他们的礼貌是一种没有芬芳的花儿。</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-19</p>
</div></div><div class='timeline-item-content'><p>傲上而不辱下 欺强而不凌弱</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-18</p>
</div></div><div class='timeline-item-content'><p>We live in a twilight world.</p>
<p>And there are no friends at dusk.</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-17</p>
</div></div><div class='timeline-item-content'><p>知道恐龙为什么灭绝吗？因为它前肢过短，无法为这种惊为天人的作品而鼓掌</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-16</p>
</div></div><div class='timeline-item-content'><p>难为知己难为敌</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-15</p>
</div></div><div class='timeline-item-content'><p> “将军们的妻子怎么都又老又丑？要是我，肯定能当个出色的将军夫人。”</p>
<p>“想当将军夫人，就得先嫁给中尉，跟他在边境上、森林里、沙漠上，过上20年。”</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-14</p>
</div></div><div class='timeline-item-content'><p>喂！三点多了！饮茶先啊饮茶先，做做卵啊做，做那么多都冇用的！</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-13</p>
</div></div><div class='timeline-item-content'><p>苦练二十年屠龙术，结果发现现在恶龙胖成了条虫</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-12</p>
</div></div><div class='timeline-item-content'><p>你们笑我，无非是因为我头上的辫子。我头上的辫子是有形的，想剪随时可以剪掉，然而，诸位心里的辫子，就不是那么能剪掉的了。</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-11</p>
</div></div><div class='timeline-item-content'><p>“我辞别了山，度过了江，划着一条小船，独自驶向人间的海洋。海风吹打我的面，海浪拍打我的船，却不曾淹没过我。”</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-10</p>
</div></div><div class='timeline-item-content'><p>眼看他起朱楼，眼看他宴宾客，眼看他楼塌了。</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-09</p>
</div></div><div class='timeline-item-content'><p>郭德纲说过，黑你的人，最清楚你有多白。</p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-08</p>
</div></div><div class='timeline-item-content'><p>尊严只在剑锋之上，真理只在大炮射程之内</p>
</div></div></div>
<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-07</p>
</div></div><div class='timeline-item-content'><p>只有死鱼才会随波逐流。</p>
</div></div></div>
<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-06</p>
</div></div><div class='timeline-item-content'><p>“到底是什么，让你从一个爱笑，眼里带光的人，变成了如今，波澜不惊，沉默不语的样子”</p>
</div></div></div>
<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-05</p>
</div></div><div class='timeline-item-content'><p>桃李花开日，梧桐落叶时。欲遂长生志，但求千金方。</p>
</div></div></div>
<div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-04</p>
</div></div><div class='timeline-item-content'><p>有道是，谋事在人成事在天。希望一切如你所愿吧。前尘旧事一并了结，到时你在九泉之下安息，我功成身退。</p>
</div></div></div>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-03</p>
</div></div><div class='timeline-item-content'><p>人要和自己达成和解</p>
</div></div></div>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p>
</div></div><div class='timeline-item-content'><p>所谓御世制人，就是你可以参透整个世界，却永远无法了解人性。 </p>
</div></div></div>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-01</p>
</div></div><div class='timeline-item-content'><p>已经没事了。要问为什么？因为我来了！</p>
</div></div></div>]]></content>
  </entry>
</search>
